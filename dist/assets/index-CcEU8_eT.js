(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function s(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(a){if(a.ep)return;a.ep=!0;const c=s(a);fetch(a.href,c)}})();var iu={exports:{}},Ri={},ou={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zf;function Nv(){if(zf)return Ee;zf=1;var o=Symbol.for("react.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function k(E){return E===null||typeof E!="object"?null:(E=v&&E[v]||E["@@iterator"],typeof E=="function"?E:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,T={};function _(E,P,oe){this.props=E,this.context=P,this.refs=T,this.updater=oe||S}_.prototype.isReactComponent={},_.prototype.setState=function(E,P){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,P,"setState")},_.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function C(){}C.prototype=_.prototype;function R(E,P,oe){this.props=E,this.context=P,this.refs=T,this.updater=oe||S}var L=R.prototype=new C;L.constructor=R,w(L,_.prototype),L.isPureReactComponent=!0;var F=Array.isArray,M=Object.prototype.hasOwnProperty,b={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function D(E,P,oe){var ae,ne={},fe=null,Se=null;if(P!=null)for(ae in P.ref!==void 0&&(Se=P.ref),P.key!==void 0&&(fe=""+P.key),P)M.call(P,ae)&&!I.hasOwnProperty(ae)&&(ne[ae]=P[ae]);var Y=arguments.length-2;if(Y===1)ne.children=oe;else if(1<Y){for(var Te=Array(Y),Re=0;Re<Y;Re++)Te[Re]=arguments[Re+2];ne.children=Te}if(E&&E.defaultProps)for(ae in Y=E.defaultProps,Y)ne[ae]===void 0&&(ne[ae]=Y[ae]);return{$$typeof:o,type:E,key:fe,ref:Se,props:ne,_owner:b.current}}function B(E,P){return{$$typeof:o,type:E.type,key:P,ref:E.ref,props:E.props,_owner:E._owner}}function W(E){return typeof E=="object"&&E!==null&&E.$$typeof===o}function $(E){var P={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(oe){return P[oe]})}var U=/\/+/g;function X(E,P){return typeof E=="object"&&E!==null&&E.key!=null?$(""+E.key):P.toString(36)}function se(E,P,oe,ae,ne){var fe=typeof E;(fe==="undefined"||fe==="boolean")&&(E=null);var Se=!1;if(E===null)Se=!0;else switch(fe){case"string":case"number":Se=!0;break;case"object":switch(E.$$typeof){case o:case e:Se=!0}}if(Se)return Se=E,ne=ne(Se),E=ae===""?"."+X(Se,0):ae,F(ne)?(oe="",E!=null&&(oe=E.replace(U,"$&/")+"/"),se(ne,P,oe,"",function(Re){return Re})):ne!=null&&(W(ne)&&(ne=B(ne,oe+(!ne.key||Se&&Se.key===ne.key?"":(""+ne.key).replace(U,"$&/")+"/")+E)),P.push(ne)),1;if(Se=0,ae=ae===""?".":ae+":",F(E))for(var Y=0;Y<E.length;Y++){fe=E[Y];var Te=ae+X(fe,Y);Se+=se(fe,P,oe,Te,ne)}else if(Te=k(E),typeof Te=="function")for(E=Te.call(E),Y=0;!(fe=E.next()).done;)fe=fe.value,Te=ae+X(fe,Y++),Se+=se(fe,P,oe,Te,ne);else if(fe==="object")throw P=String(E),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.");return Se}function le(E,P,oe){if(E==null)return E;var ae=[],ne=0;return se(E,ae,"","",function(fe){return P.call(oe,fe,ne++)}),ae}function te(E){if(E._status===-1){var P=E._result;P=P(),P.then(function(oe){(E._status===0||E._status===-1)&&(E._status=1,E._result=oe)},function(oe){(E._status===0||E._status===-1)&&(E._status=2,E._result=oe)}),E._status===-1&&(E._status=0,E._result=P)}if(E._status===1)return E._result.default;throw E._result}var ie={current:null},G={transition:null},Z={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:G,ReactCurrentOwner:b};function q(){throw Error("act(...) is not supported in production builds of React.")}return Ee.Children={map:le,forEach:function(E,P,oe){le(E,function(){P.apply(this,arguments)},oe)},count:function(E){var P=0;return le(E,function(){P++}),P},toArray:function(E){return le(E,function(P){return P})||[]},only:function(E){if(!W(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Ee.Component=_,Ee.Fragment=s,Ee.Profiler=a,Ee.PureComponent=R,Ee.StrictMode=i,Ee.Suspense=p,Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Ee.act=q,Ee.cloneElement=function(E,P,oe){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var ae=w({},E.props),ne=E.key,fe=E.ref,Se=E._owner;if(P!=null){if(P.ref!==void 0&&(fe=P.ref,Se=b.current),P.key!==void 0&&(ne=""+P.key),E.type&&E.type.defaultProps)var Y=E.type.defaultProps;for(Te in P)M.call(P,Te)&&!I.hasOwnProperty(Te)&&(ae[Te]=P[Te]===void 0&&Y!==void 0?Y[Te]:P[Te])}var Te=arguments.length-2;if(Te===1)ae.children=oe;else if(1<Te){Y=Array(Te);for(var Re=0;Re<Te;Re++)Y[Re]=arguments[Re+2];ae.children=Y}return{$$typeof:o,type:E.type,key:ne,ref:fe,props:ae,_owner:Se}},Ee.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:c,_context:E},E.Consumer=E},Ee.createElement=D,Ee.createFactory=function(E){var P=D.bind(null,E);return P.type=E,P},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(E){return{$$typeof:d,render:E}},Ee.isValidElement=W,Ee.lazy=function(E){return{$$typeof:g,_payload:{_status:-1,_result:E},_init:te}},Ee.memo=function(E,P){return{$$typeof:m,type:E,compare:P===void 0?null:P}},Ee.startTransition=function(E){var P=G.transition;G.transition={};try{E()}finally{G.transition=P}},Ee.unstable_act=q,Ee.useCallback=function(E,P){return ie.current.useCallback(E,P)},Ee.useContext=function(E){return ie.current.useContext(E)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(E){return ie.current.useDeferredValue(E)},Ee.useEffect=function(E,P){return ie.current.useEffect(E,P)},Ee.useId=function(){return ie.current.useId()},Ee.useImperativeHandle=function(E,P,oe){return ie.current.useImperativeHandle(E,P,oe)},Ee.useInsertionEffect=function(E,P){return ie.current.useInsertionEffect(E,P)},Ee.useLayoutEffect=function(E,P){return ie.current.useLayoutEffect(E,P)},Ee.useMemo=function(E,P){return ie.current.useMemo(E,P)},Ee.useReducer=function(E,P,oe){return ie.current.useReducer(E,P,oe)},Ee.useRef=function(E){return ie.current.useRef(E)},Ee.useState=function(E){return ie.current.useState(E)},Ee.useSyncExternalStore=function(E,P,oe){return ie.current.useSyncExternalStore(E,P,oe)},Ee.useTransition=function(){return ie.current.useTransition()},Ee.version="18.3.1",Ee}var Wf;function Cu(){return Wf||(Wf=1,ou.exports=Nv()),ou.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bf;function Ev(){if(Bf)return Ri;Bf=1;var o=Cu(),e=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(d,p,m){var g,v={},k=null,S=null;m!==void 0&&(k=""+m),p.key!==void 0&&(k=""+p.key),p.ref!==void 0&&(S=p.ref);for(g in p)i.call(p,g)&&!c.hasOwnProperty(g)&&(v[g]=p[g]);if(d&&d.defaultProps)for(g in p=d.defaultProps,p)v[g]===void 0&&(v[g]=p[g]);return{$$typeof:e,type:d,key:k,ref:S,props:v,_owner:a.current}}return Ri.Fragment=s,Ri.jsx=h,Ri.jsxs=h,Ri}var Uf;function Mv(){return Uf||(Uf=1,iu.exports=Ev()),iu.exports}var x=Mv(),Q=Cu(),Sa={},au={exports:{}},Ft={},lu={exports:{}},cu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $f;function Av(){return $f||($f=1,(function(o){function e(G,Z){var q=G.length;G.push(Z);e:for(;0<q;){var E=q-1>>>1,P=G[E];if(0<a(P,Z))G[E]=Z,G[q]=P,q=E;else break e}}function s(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var Z=G[0],q=G.pop();if(q!==Z){G[0]=q;e:for(var E=0,P=G.length,oe=P>>>1;E<oe;){var ae=2*(E+1)-1,ne=G[ae],fe=ae+1,Se=G[fe];if(0>a(ne,q))fe<P&&0>a(Se,ne)?(G[E]=Se,G[fe]=q,E=fe):(G[E]=ne,G[ae]=q,E=ae);else if(fe<P&&0>a(Se,q))G[E]=Se,G[fe]=q,E=fe;else break e}}return Z}function a(G,Z){var q=G.sortIndex-Z.sortIndex;return q!==0?q:G.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;o.unstable_now=function(){return c.now()}}else{var h=Date,d=h.now();o.unstable_now=function(){return h.now()-d}}var p=[],m=[],g=1,v=null,k=3,S=!1,w=!1,T=!1,_=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(G){for(var Z=s(m);Z!==null;){if(Z.callback===null)i(m);else if(Z.startTime<=G)i(m),Z.sortIndex=Z.expirationTime,e(p,Z);else break;Z=s(m)}}function F(G){if(T=!1,L(G),!w)if(s(p)!==null)w=!0,te(M);else{var Z=s(m);Z!==null&&ie(F,Z.startTime-G)}}function M(G,Z){w=!1,T&&(T=!1,C(D),D=-1),S=!0;var q=k;try{for(L(Z),v=s(p);v!==null&&(!(v.expirationTime>Z)||G&&!$());){var E=v.callback;if(typeof E=="function"){v.callback=null,k=v.priorityLevel;var P=E(v.expirationTime<=Z);Z=o.unstable_now(),typeof P=="function"?v.callback=P:v===s(p)&&i(p),L(Z)}else i(p);v=s(p)}if(v!==null)var oe=!0;else{var ae=s(m);ae!==null&&ie(F,ae.startTime-Z),oe=!1}return oe}finally{v=null,k=q,S=!1}}var b=!1,I=null,D=-1,B=5,W=-1;function $(){return!(o.unstable_now()-W<B)}function U(){if(I!==null){var G=o.unstable_now();W=G;var Z=!0;try{Z=I(!0,G)}finally{Z?X():(b=!1,I=null)}}else b=!1}var X;if(typeof R=="function")X=function(){R(U)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,le=se.port2;se.port1.onmessage=U,X=function(){le.postMessage(null)}}else X=function(){_(U,0)};function te(G){I=G,b||(b=!0,X())}function ie(G,Z){D=_(function(){G(o.unstable_now())},Z)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(G){G.callback=null},o.unstable_continueExecution=function(){w||S||(w=!0,te(M))},o.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<G?Math.floor(1e3/G):5},o.unstable_getCurrentPriorityLevel=function(){return k},o.unstable_getFirstCallbackNode=function(){return s(p)},o.unstable_next=function(G){switch(k){case 1:case 2:case 3:var Z=3;break;default:Z=k}var q=k;k=Z;try{return G()}finally{k=q}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(G,Z){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var q=k;k=G;try{return Z()}finally{k=q}},o.unstable_scheduleCallback=function(G,Z,q){var E=o.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?E+q:E):q=E,G){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=q+P,G={id:g++,callback:Z,priorityLevel:G,startTime:q,expirationTime:P,sortIndex:-1},q>E?(G.sortIndex=q,e(m,G),s(p)===null&&G===s(m)&&(T?(C(D),D=-1):T=!0,ie(F,q-E))):(G.sortIndex=P,e(p,G),w||S||(w=!0,te(M))),G},o.unstable_shouldYield=$,o.unstable_wrapCallback=function(G){var Z=k;return function(){var q=k;k=Z;try{return G.apply(this,arguments)}finally{k=q}}}})(cu)),cu}var Hf;function bv(){return Hf||(Hf=1,lu.exports=Av()),lu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf;function Dv(){if(Gf)return Ft;Gf=1;var o=Cu(),e=bv();function s(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function c(t,n){h(t,n),h(t+"Capture",n)}function h(t,n){for(a[t]=n,t=0;t<n.length;t++)i.add(n[t])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function k(t){return p.call(v,t)?!0:p.call(g,t)?!1:m.test(t)?v[t]=!0:(g[t]=!0,!1)}function S(t,n,r,l){if(r!==null&&r.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function w(t,n,r,l){if(n===null||typeof n>"u"||S(t,n,r,l))return!0;if(l)return!1;if(r!==null)switch(r.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function T(t,n,r,l,u,f,y){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=u,this.mustUseProperty=r,this.propertyName=t,this.type=n,this.sanitizeURL=f,this.removeEmptyString=y}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_[t]=new T(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];_[n]=new T(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){_[t]=new T(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_[t]=new T(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_[t]=new T(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){_[t]=new T(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){_[t]=new T(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){_[t]=new T(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){_[t]=new T(t,5,!1,t.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function R(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(C,R);_[n]=new T(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(C,R);_[n]=new T(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(C,R);_[n]=new T(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){_[t]=new T(t,1,!1,t.toLowerCase(),null,!1,!1)}),_.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){_[t]=new T(t,1,!1,t.toLowerCase(),null,!0,!0)});function L(t,n,r,l){var u=_.hasOwnProperty(n)?_[n]:null;(u!==null?u.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(w(n,r,u,l)&&(r=null),l||u===null?k(n)&&(r===null?t.removeAttribute(n):t.setAttribute(n,""+r)):u.mustUseProperty?t[u.propertyName]=r===null?u.type===3?!1:"":r:(n=u.attributeName,l=u.attributeNamespace,r===null?t.removeAttribute(n):(u=u.type,r=u===3||u===4&&r===!0?"":""+r,l?t.setAttributeNS(l,n,r):t.setAttribute(n,r))))}var F=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),b=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),$=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),G=Symbol.iterator;function Z(t){return t===null||typeof t!="object"?null:(t=G&&t[G]||t["@@iterator"],typeof t=="function"?t:null)}var q=Object.assign,E;function P(t){if(E===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);E=n&&n[1]||""}return`
`+E+t}var oe=!1;function ae(t,n){if(!t||oe)return"";oe=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(z){var l=z}Reflect.construct(t,[],n)}else{try{n.call()}catch(z){l=z}t.call(n.prototype)}else{try{throw Error()}catch(z){l=z}t()}}catch(z){if(z&&l&&typeof z.stack=="string"){for(var u=z.stack.split(`
`),f=l.stack.split(`
`),y=u.length-1,N=f.length-1;1<=y&&0<=N&&u[y]!==f[N];)N--;for(;1<=y&&0<=N;y--,N--)if(u[y]!==f[N]){if(y!==1||N!==1)do if(y--,N--,0>N||u[y]!==f[N]){var A=`
`+u[y].replace(" at new "," at ");return t.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",t.displayName)),A}while(1<=y&&0<=N);break}}}finally{oe=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?P(t):""}function ne(t){switch(t.tag){case 5:return P(t.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return t=ae(t.type,!1),t;case 11:return t=ae(t.type.render,!1),t;case 1:return t=ae(t.type,!0),t;default:return""}}function fe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case I:return"Fragment";case b:return"Portal";case B:return"Profiler";case D:return"StrictMode";case X:return"Suspense";case se:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $:return(t.displayName||"Context")+".Consumer";case W:return(t._context.displayName||"Context")+".Provider";case U:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case le:return n=t.displayName||null,n!==null?n:fe(t.type)||"Memo";case te:n=t._payload,t=t._init;try{return fe(t(n))}catch{}}return null}function Se(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(n);case 8:return n===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Y(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Te(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Re(t){var n=Te(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Dt(t){t._valueTracker||(t._valueTracker=Re(t))}function On(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Te(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function nr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yr(t,n){var r=n.checked;return q({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function ce(t,n){var r=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;r=Y(n.value!=null?n.value:r),t._wrapperState={initialChecked:l,initialValue:r,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function _e(t,n){n=n.checked,n!=null&&L(t,"checked",n,!1)}function Xe(t,n){_e(t,n);var r=Y(n.value),l=n.type;if(r!=null)l==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(l==="submit"||l==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?be(t,n.type,r):n.hasOwnProperty("defaultValue")&&be(t,n.type,Y(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function qe(t,n,r){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,r||n===t.value||(t.value=n),t.defaultValue=n}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function be(t,n,r){(n!=="number"||nr(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Fe=Array.isArray;function lt(t,n,r,l){if(t=t.options,n){n={};for(var u=0;u<r.length;u++)n["$"+r[u]]=!0;for(r=0;r<t.length;r++)u=n.hasOwnProperty("$"+t[r].value),t[r].selected!==u&&(t[r].selected=u),u&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Y(r),n=null,u=0;u<t.length;u++){if(t[u].value===r){t[u].selected=!0,l&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function Xt(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(s(91));return q({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Jn(t,n){var r=n.value;if(r==null){if(r=n.children,n=n.defaultValue,r!=null){if(n!=null)throw Error(s(92));if(Fe(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}n==null&&(n=""),r=n}t._wrapperState={initialValue:Y(r)}}function sr(t,n){var r=Y(n.value),l=Y(n.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),n.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),l!=null&&(t.defaultValue=""+l)}function fo(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function po(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gl(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?po(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var mo,eh=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,r,l,u){MSApp.execUnsafeLocalFunction(function(){return t(n,r,l,u)})}:t})(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(mo=mo||document.createElement("div"),mo.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=mo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function Xr(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Zr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bm=["Webkit","ms","Moz","O"];Object.keys(Zr).forEach(function(t){bm.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),Zr[n]=Zr[t]})});function th(t,n,r){return n==null||typeof n=="boolean"||n===""?"":r||typeof n!="number"||n===0||Zr.hasOwnProperty(t)&&Zr[t]?(""+n).trim():n+"px"}function nh(t,n){t=t.style;for(var r in n)if(n.hasOwnProperty(r)){var l=r.indexOf("--")===0,u=th(r,n[r],l);r==="float"&&(r="cssFloat"),l?t.setProperty(r,u):t[r]=u}}var Dm=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vl(t,n){if(n){if(Dm[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(s(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(s(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(s(61))}if(n.style!=null&&typeof n.style!="object")throw Error(s(62))}}function yl(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _l=null;function wl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kl=null,rr=null,ir=null;function sh(t){if(t=_i(t)){if(typeof kl!="function")throw Error(s(280));var n=t.stateNode;n&&(n=Vo(n),kl(t.stateNode,t.type,n))}}function rh(t){rr?ir?ir.push(t):ir=[t]:rr=t}function ih(){if(rr){var t=rr,n=ir;if(ir=rr=null,sh(t),n)for(t=0;t<n.length;t++)sh(n[t])}}function oh(t,n){return t(n)}function ah(){}var xl=!1;function lh(t,n,r){if(xl)return t(n,r);xl=!0;try{return oh(t,n,r)}finally{xl=!1,(rr!==null||ir!==null)&&(ah(),ih())}}function Kr(t,n){var r=t.stateNode;if(r===null)return null;var l=Vo(r);if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Sl=!1;if(d)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){Sl=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{Sl=!1}function Im(t,n,r,l,u,f,y,N,A){var z=Array.prototype.slice.call(arguments,3);try{n.apply(r,z)}catch(J){this.onError(J)}}var ei=!1,go=null,vo=!1,Tl=null,Om={onError:function(t){ei=!0,go=t}};function Rm(t,n,r,l,u,f,y,N,A){ei=!1,go=null,Im.apply(Om,arguments)}function Pm(t,n,r,l,u,f,y,N,A){if(Rm.apply(this,arguments),ei){if(ei){var z=go;ei=!1,go=null}else throw Error(s(198));vo||(vo=!0,Tl=z)}}function Ms(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function ch(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function uh(t){if(Ms(t)!==t)throw Error(s(188))}function jm(t){var n=t.alternate;if(!n){if(n=Ms(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var u=r.return;if(u===null)break;var f=u.alternate;if(f===null){if(l=u.return,l!==null){r=l;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===r)return uh(u),t;if(f===l)return uh(u),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=u,l=f;else{for(var y=!1,N=u.child;N;){if(N===r){y=!0,r=u,l=f;break}if(N===l){y=!0,l=u,r=f;break}N=N.sibling}if(!y){for(N=f.child;N;){if(N===r){y=!0,r=f,l=u;break}if(N===l){y=!0,l=f,r=u;break}N=N.sibling}if(!y)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function hh(t){return t=jm(t),t!==null?dh(t):null}function dh(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=dh(t);if(n!==null)return n;t=t.sibling}return null}var fh=e.unstable_scheduleCallback,ph=e.unstable_cancelCallback,Fm=e.unstable_shouldYield,Vm=e.unstable_requestPaint,nt=e.unstable_now,Lm=e.unstable_getCurrentPriorityLevel,Cl=e.unstable_ImmediatePriority,mh=e.unstable_UserBlockingPriority,yo=e.unstable_NormalPriority,qm=e.unstable_LowPriority,gh=e.unstable_IdlePriority,_o=null,Sn=null;function zm(t){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(_o,t,void 0,(t.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:Um,Wm=Math.log,Bm=Math.LN2;function Um(t){return t>>>=0,t===0?32:31-(Wm(t)/Bm|0)|0}var wo=64,ko=4194304;function ti(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xo(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,u=t.suspendedLanes,f=t.pingedLanes,y=r&268435455;if(y!==0){var N=y&~u;N!==0?l=ti(N):(f&=y,f!==0&&(l=ti(f)))}else y=r&~u,y!==0?l=ti(y):f!==0&&(l=ti(f));if(l===0)return 0;if(n!==0&&n!==l&&(n&u)===0&&(u=l&-l,f=n&-n,u>=f||u===16&&(f&4194240)!==0))return n;if((l&4)!==0&&(l|=r&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=l;0<n;)r=31-on(n),u=1<<r,l|=t[r],n&=~u;return l}function $m(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hm(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes;0<f;){var y=31-on(f),N=1<<y,A=u[y];A===-1?((N&r)===0||(N&l)!==0)&&(u[y]=$m(N,n)):A<=n&&(t.expiredLanes|=N),f&=~N}}function Nl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vh(){var t=wo;return wo<<=1,(wo&4194240)===0&&(wo=64),t}function El(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ni(t,n,r){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-on(n),t[n]=r}function Gm(t,n){var r=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var l=t.eventTimes;for(t=t.expirationTimes;0<r;){var u=31-on(r),f=1<<u;n[u]=0,l[u]=-1,t[u]=-1,r&=~f}}function Ml(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-on(r),u=1<<l;u&n|t[l]&n&&(t[l]|=n),r&=~u}}var je=0;function yh(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var _h,Al,wh,kh,xh,bl=!1,So=[],es=null,ts=null,ns=null,si=new Map,ri=new Map,ss=[],Qm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sh(t,n){switch(t){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":si.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ri.delete(n.pointerId)}}function ii(t,n,r,l,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[u]},n!==null&&(n=_i(n),n!==null&&Al(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function Ym(t,n,r,l,u){switch(n){case"focusin":return es=ii(es,t,n,r,l,u),!0;case"dragenter":return ts=ii(ts,t,n,r,l,u),!0;case"mouseover":return ns=ii(ns,t,n,r,l,u),!0;case"pointerover":var f=u.pointerId;return si.set(f,ii(si.get(f)||null,t,n,r,l,u)),!0;case"gotpointercapture":return f=u.pointerId,ri.set(f,ii(ri.get(f)||null,t,n,r,l,u)),!0}return!1}function Th(t){var n=As(t.target);if(n!==null){var r=Ms(n);if(r!==null){if(n=r.tag,n===13){if(n=ch(r),n!==null){t.blockedOn=n,xh(t.priority,function(){wh(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function To(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Il(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);_l=l,r.target.dispatchEvent(l),_l=null}else return n=_i(r),n!==null&&Al(n),t.blockedOn=r,!1;n.shift()}return!0}function Ch(t,n,r){To(t)&&r.delete(n)}function Xm(){bl=!1,es!==null&&To(es)&&(es=null),ts!==null&&To(ts)&&(ts=null),ns!==null&&To(ns)&&(ns=null),si.forEach(Ch),ri.forEach(Ch)}function oi(t,n){t.blockedOn===n&&(t.blockedOn=null,bl||(bl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Xm)))}function ai(t){function n(u){return oi(u,t)}if(0<So.length){oi(So[0],t);for(var r=1;r<So.length;r++){var l=So[r];l.blockedOn===t&&(l.blockedOn=null)}}for(es!==null&&oi(es,t),ts!==null&&oi(ts,t),ns!==null&&oi(ns,t),si.forEach(n),ri.forEach(n),r=0;r<ss.length;r++)l=ss[r],l.blockedOn===t&&(l.blockedOn=null);for(;0<ss.length&&(r=ss[0],r.blockedOn===null);)Th(r),r.blockedOn===null&&ss.shift()}var or=F.ReactCurrentBatchConfig,Co=!0;function Zm(t,n,r,l){var u=je,f=or.transition;or.transition=null;try{je=1,Dl(t,n,r,l)}finally{je=u,or.transition=f}}function Km(t,n,r,l){var u=je,f=or.transition;or.transition=null;try{je=4,Dl(t,n,r,l)}finally{je=u,or.transition=f}}function Dl(t,n,r,l){if(Co){var u=Il(t,n,r,l);if(u===null)Yl(t,n,l,No,r),Sh(t,l);else if(Ym(u,t,n,r,l))l.stopPropagation();else if(Sh(t,l),n&4&&-1<Qm.indexOf(t)){for(;u!==null;){var f=_i(u);if(f!==null&&_h(f),f=Il(t,n,r,l),f===null&&Yl(t,n,l,No,r),f===u)break;u=f}u!==null&&l.stopPropagation()}else Yl(t,n,l,null,r)}}var No=null;function Il(t,n,r,l){if(No=null,t=wl(l),t=As(t),t!==null)if(n=Ms(t),n===null)t=null;else if(r=n.tag,r===13){if(t=ch(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return No=t,null}function Nh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lm()){case Cl:return 1;case mh:return 4;case yo:case qm:return 16;case gh:return 536870912;default:return 16}default:return 16}}var rs=null,Ol=null,Eo=null;function Eh(){if(Eo)return Eo;var t,n=Ol,r=n.length,l,u="value"in rs?rs.value:rs.textContent,f=u.length;for(t=0;t<r&&n[t]===u[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===u[f-l];l++);return Eo=u.slice(t,1<l?1-l:void 0)}function Mo(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ao(){return!0}function Mh(){return!1}function Ut(t){function n(r,l,u,f,y){this._reactName=r,this._targetInst=u,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var N in t)t.hasOwnProperty(N)&&(r=t[N],this[N]=r?r(f):f[N]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ao:Mh,this.isPropagationStopped=Mh,this}return q(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ao)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ao)},persist:function(){},isPersistent:Ao}),n}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rl=Ut(ar),li=q({},ar,{view:0,detail:0}),Jm=Ut(li),Pl,jl,ci,bo=q({},li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ci&&(ci&&t.type==="mousemove"?(Pl=t.screenX-ci.screenX,jl=t.screenY-ci.screenY):jl=Pl=0,ci=t),Pl)},movementY:function(t){return"movementY"in t?t.movementY:jl}}),Ah=Ut(bo),eg=q({},bo,{dataTransfer:0}),tg=Ut(eg),ng=q({},li,{relatedTarget:0}),Fl=Ut(ng),sg=q({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),rg=Ut(sg),ig=q({},ar,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),og=Ut(ig),ag=q({},ar,{data:0}),bh=Ut(ag),lg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ug={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hg(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=ug[t])?!!n[t]:!1}function Vl(){return hg}var dg=q({},li,{key:function(t){if(t.key){var n=lg[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Mo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vl,charCode:function(t){return t.type==="keypress"?Mo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fg=Ut(dg),pg=q({},bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dh=Ut(pg),mg=q({},li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vl}),gg=Ut(mg),vg=q({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),yg=Ut(vg),_g=q({},bo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wg=Ut(_g),kg=[9,13,27,32],Ll=d&&"CompositionEvent"in window,ui=null;d&&"documentMode"in document&&(ui=document.documentMode);var xg=d&&"TextEvent"in window&&!ui,Ih=d&&(!Ll||ui&&8<ui&&11>=ui),Oh=" ",Rh=!1;function Ph(t,n){switch(t){case"keyup":return kg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var lr=!1;function Sg(t,n){switch(t){case"compositionend":return jh(n);case"keypress":return n.which!==32?null:(Rh=!0,Oh);case"textInput":return t=n.data,t===Oh&&Rh?null:t;default:return null}}function Tg(t,n){if(lr)return t==="compositionend"||!Ll&&Ph(t,n)?(t=Eh(),Eo=Ol=rs=null,lr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ih&&n.locale!=="ko"?null:n.data;default:return null}}var Cg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Cg[t.type]:n==="textarea"}function Vh(t,n,r,l){rh(l),n=Po(n,"onChange"),0<n.length&&(r=new Rl("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var hi=null,di=null;function Ng(t){nd(t,0)}function Do(t){var n=fr(t);if(On(n))return t}function Eg(t,n){if(t==="change")return n}var Lh=!1;if(d){var ql;if(d){var zl="oninput"in document;if(!zl){var qh=document.createElement("div");qh.setAttribute("oninput","return;"),zl=typeof qh.oninput=="function"}ql=zl}else ql=!1;Lh=ql&&(!document.documentMode||9<document.documentMode)}function zh(){hi&&(hi.detachEvent("onpropertychange",Wh),di=hi=null)}function Wh(t){if(t.propertyName==="value"&&Do(di)){var n=[];Vh(n,di,t,wl(t)),lh(Ng,n)}}function Mg(t,n,r){t==="focusin"?(zh(),hi=n,di=r,hi.attachEvent("onpropertychange",Wh)):t==="focusout"&&zh()}function Ag(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Do(di)}function bg(t,n){if(t==="click")return Do(n)}function Dg(t,n){if(t==="input"||t==="change")return Do(n)}function Ig(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var an=typeof Object.is=="function"?Object.is:Ig;function fi(t,n){if(an(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var u=r[l];if(!p.call(n,u)||!an(t[u],n[u]))return!1}return!0}function Bh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Uh(t,n){var r=Bh(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Bh(r)}}function $h(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?$h(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Hh(){for(var t=window,n=nr();n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=nr(t.document)}return n}function Wl(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Og(t){var n=Hh(),r=t.focusedElem,l=t.selectionRange;if(n!==r&&r&&r.ownerDocument&&$h(r.ownerDocument.documentElement,r)){if(l!==null&&Wl(r)){if(n=l.start,t=l.end,t===void 0&&(t=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(t,r.value.length);else if(t=(n=r.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var u=r.textContent.length,f=Math.min(l.start,u);l=l.end===void 0?f:Math.min(l.end,u),!t.extend&&f>l&&(u=l,l=f,f=u),u=Uh(r,f);var y=Uh(r,l);u&&y&&(t.rangeCount!==1||t.anchorNode!==u.node||t.anchorOffset!==u.offset||t.focusNode!==y.node||t.focusOffset!==y.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),t.removeAllRanges(),f>l?(t.addRange(n),t.extend(y.node,y.offset)):(n.setEnd(y.node,y.offset),t.addRange(n)))}}for(n=[],t=r;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)t=n[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Rg=d&&"documentMode"in document&&11>=document.documentMode,cr=null,Bl=null,pi=null,Ul=!1;function Gh(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ul||cr==null||cr!==nr(l)||(l=cr,"selectionStart"in l&&Wl(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),pi&&fi(pi,l)||(pi=l,l=Po(Bl,"onSelect"),0<l.length&&(n=new Rl("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=cr)))}function Io(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var ur={animationend:Io("Animation","AnimationEnd"),animationiteration:Io("Animation","AnimationIteration"),animationstart:Io("Animation","AnimationStart"),transitionend:Io("Transition","TransitionEnd")},$l={},Qh={};d&&(Qh=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);function Oo(t){if($l[t])return $l[t];if(!ur[t])return t;var n=ur[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Qh)return $l[t]=n[r];return t}var Yh=Oo("animationend"),Xh=Oo("animationiteration"),Zh=Oo("animationstart"),Kh=Oo("transitionend"),Jh=new Map,ed="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function is(t,n){Jh.set(t,n),c(n,[t])}for(var Hl=0;Hl<ed.length;Hl++){var Gl=ed[Hl],Pg=Gl.toLowerCase(),jg=Gl[0].toUpperCase()+Gl.slice(1);is(Pg,"on"+jg)}is(Yh,"onAnimationEnd"),is(Xh,"onAnimationIteration"),is(Zh,"onAnimationStart"),is("dblclick","onDoubleClick"),is("focusin","onFocus"),is("focusout","onBlur"),is(Kh,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fg=new Set("cancel close invalid load scroll toggle".split(" ").concat(mi));function td(t,n,r){var l=t.type||"unknown-event";t.currentTarget=r,Pm(l,n,void 0,t),t.currentTarget=null}function nd(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],u=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var N=l[y],A=N.instance,z=N.currentTarget;if(N=N.listener,A!==f&&u.isPropagationStopped())break e;td(u,N,z),f=A}else for(y=0;y<l.length;y++){if(N=l[y],A=N.instance,z=N.currentTarget,N=N.listener,A!==f&&u.isPropagationStopped())break e;td(u,N,z),f=A}}}if(vo)throw t=Tl,vo=!1,Tl=null,t}function Be(t,n){var r=n[tc];r===void 0&&(r=n[tc]=new Set);var l=t+"__bubble";r.has(l)||(sd(n,t,2,!1),r.add(l))}function Ql(t,n,r){var l=0;n&&(l|=4),sd(r,t,l,n)}var Ro="_reactListening"+Math.random().toString(36).slice(2);function gi(t){if(!t[Ro]){t[Ro]=!0,i.forEach(function(r){r!=="selectionchange"&&(Fg.has(r)||Ql(r,!1,t),Ql(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ro]||(n[Ro]=!0,Ql("selectionchange",!1,n))}}function sd(t,n,r,l){switch(Nh(n)){case 1:var u=Zm;break;case 4:u=Km;break;default:u=Dl}r=u.bind(null,n,r,t),u=void 0,!Sl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?t.addEventListener(n,r,{capture:!0,passive:u}):t.addEventListener(n,r,!0):u!==void 0?t.addEventListener(n,r,{passive:u}):t.addEventListener(n,r,!1)}function Yl(t,n,r,l,u){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var N=l.stateNode.containerInfo;if(N===u||N.nodeType===8&&N.parentNode===u)break;if(y===4)for(y=l.return;y!==null;){var A=y.tag;if((A===3||A===4)&&(A=y.stateNode.containerInfo,A===u||A.nodeType===8&&A.parentNode===u))return;y=y.return}for(;N!==null;){if(y=As(N),y===null)return;if(A=y.tag,A===5||A===6){l=f=y;continue e}N=N.parentNode}}l=l.return}lh(function(){var z=f,J=wl(r),ee=[];e:{var K=Jh.get(t);if(K!==void 0){var ue=Rl,pe=t;switch(t){case"keypress":if(Mo(r)===0)break e;case"keydown":case"keyup":ue=fg;break;case"focusin":pe="focus",ue=Fl;break;case"focusout":pe="blur",ue=Fl;break;case"beforeblur":case"afterblur":ue=Fl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Ah;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=tg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=gg;break;case Yh:case Xh:case Zh:ue=rg;break;case Kh:ue=yg;break;case"scroll":ue=Jm;break;case"wheel":ue=wg;break;case"copy":case"cut":case"paste":ue=og;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=Dh}var me=(n&4)!==0,st=!me&&t==="scroll",j=me?K!==null?K+"Capture":null:K;me=[];for(var O=z,V;O!==null;){V=O;var re=V.stateNode;if(V.tag===5&&re!==null&&(V=re,j!==null&&(re=Kr(O,j),re!=null&&me.push(vi(O,re,V)))),st)break;O=O.return}0<me.length&&(K=new ue(K,pe,null,r,J),ee.push({event:K,listeners:me}))}}if((n&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",ue=t==="mouseout"||t==="pointerout",K&&r!==_l&&(pe=r.relatedTarget||r.fromElement)&&(As(pe)||pe[Rn]))break e;if((ue||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,ue?(pe=r.relatedTarget||r.toElement,ue=z,pe=pe?As(pe):null,pe!==null&&(st=Ms(pe),pe!==st||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ue=null,pe=z),ue!==pe)){if(me=Ah,re="onMouseLeave",j="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(me=Dh,re="onPointerLeave",j="onPointerEnter",O="pointer"),st=ue==null?K:fr(ue),V=pe==null?K:fr(pe),K=new me(re,O+"leave",ue,r,J),K.target=st,K.relatedTarget=V,re=null,As(J)===z&&(me=new me(j,O+"enter",pe,r,J),me.target=V,me.relatedTarget=st,re=me),st=re,ue&&pe)t:{for(me=ue,j=pe,O=0,V=me;V;V=hr(V))O++;for(V=0,re=j;re;re=hr(re))V++;for(;0<O-V;)me=hr(me),O--;for(;0<V-O;)j=hr(j),V--;for(;O--;){if(me===j||j!==null&&me===j.alternate)break t;me=hr(me),j=hr(j)}me=null}else me=null;ue!==null&&rd(ee,K,ue,me,!1),pe!==null&&st!==null&&rd(ee,st,pe,me,!0)}}e:{if(K=z?fr(z):window,ue=K.nodeName&&K.nodeName.toLowerCase(),ue==="select"||ue==="input"&&K.type==="file")var ge=Eg;else if(Fh(K))if(Lh)ge=Dg;else{ge=Ag;var ve=Mg}else(ue=K.nodeName)&&ue.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(ge=bg);if(ge&&(ge=ge(t,z))){Vh(ee,ge,r,J);break e}ve&&ve(t,K,z),t==="focusout"&&(ve=K._wrapperState)&&ve.controlled&&K.type==="number"&&be(K,"number",K.value)}switch(ve=z?fr(z):window,t){case"focusin":(Fh(ve)||ve.contentEditable==="true")&&(cr=ve,Bl=z,pi=null);break;case"focusout":pi=Bl=cr=null;break;case"mousedown":Ul=!0;break;case"contextmenu":case"mouseup":case"dragend":Ul=!1,Gh(ee,r,J);break;case"selectionchange":if(Rg)break;case"keydown":case"keyup":Gh(ee,r,J)}var ye;if(Ll)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else lr?Ph(t,r)&&(xe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(xe="onCompositionStart");xe&&(Ih&&r.locale!=="ko"&&(lr||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&lr&&(ye=Eh()):(rs=J,Ol="value"in rs?rs.value:rs.textContent,lr=!0)),ve=Po(z,xe),0<ve.length&&(xe=new bh(xe,t,null,r,J),ee.push({event:xe,listeners:ve}),ye?xe.data=ye:(ye=jh(r),ye!==null&&(xe.data=ye)))),(ye=xg?Sg(t,r):Tg(t,r))&&(z=Po(z,"onBeforeInput"),0<z.length&&(J=new bh("onBeforeInput","beforeinput",null,r,J),ee.push({event:J,listeners:z}),J.data=ye))}nd(ee,n)})}function vi(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Po(t,n){for(var r=n+"Capture",l=[];t!==null;){var u=t,f=u.stateNode;u.tag===5&&f!==null&&(u=f,f=Kr(t,r),f!=null&&l.unshift(vi(t,f,u)),f=Kr(t,n),f!=null&&l.push(vi(t,f,u))),t=t.return}return l}function hr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rd(t,n,r,l,u){for(var f=n._reactName,y=[];r!==null&&r!==l;){var N=r,A=N.alternate,z=N.stateNode;if(A!==null&&A===l)break;N.tag===5&&z!==null&&(N=z,u?(A=Kr(r,f),A!=null&&y.unshift(vi(r,A,N))):u||(A=Kr(r,f),A!=null&&y.push(vi(r,A,N)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var Vg=/\r\n?/g,Lg=/\u0000|\uFFFD/g;function id(t){return(typeof t=="string"?t:""+t).replace(Vg,`
`).replace(Lg,"")}function jo(t,n,r){if(n=id(n),id(t)!==n&&r)throw Error(s(425))}function Fo(){}var Xl=null,Zl=null;function Kl(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Jl=typeof setTimeout=="function"?setTimeout:void 0,qg=typeof clearTimeout=="function"?clearTimeout:void 0,od=typeof Promise=="function"?Promise:void 0,zg=typeof queueMicrotask=="function"?queueMicrotask:typeof od<"u"?function(t){return od.resolve(null).then(t).catch(Wg)}:Jl;function Wg(t){setTimeout(function(){throw t})}function ec(t,n){var r=n,l=0;do{var u=r.nextSibling;if(t.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(l===0){t.removeChild(u),ai(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=u}while(r);ai(n)}function os(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function ad(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}var dr=Math.random().toString(36).slice(2),Tn="__reactFiber$"+dr,yi="__reactProps$"+dr,Rn="__reactContainer$"+dr,tc="__reactEvents$"+dr,Bg="__reactListeners$"+dr,Ug="__reactHandles$"+dr;function As(t){var n=t[Tn];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Rn]||r[Tn]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=ad(t);t!==null;){if(r=t[Tn])return r;t=ad(t)}return n}t=r,r=t.parentNode}return null}function _i(t){return t=t[Tn]||t[Rn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(s(33))}function Vo(t){return t[yi]||null}var nc=[],pr=-1;function as(t){return{current:t}}function Ue(t){0>pr||(t.current=nc[pr],nc[pr]=null,pr--)}function ze(t,n){pr++,nc[pr]=t.current,t.current=n}var ls={},kt=as(ls),It=as(!1),bs=ls;function mr(t,n){var r=t.type.contextTypes;if(!r)return ls;var l=t.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var u={},f;for(f in r)u[f]=n[f];return l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=u),u}function Ot(t){return t=t.childContextTypes,t!=null}function Lo(){Ue(It),Ue(kt)}function ld(t,n,r){if(kt.current!==ls)throw Error(s(168));ze(kt,n),ze(It,r)}function cd(t,n,r){var l=t.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return r;l=l.getChildContext();for(var u in l)if(!(u in n))throw Error(s(108,Se(t)||"Unknown",u));return q({},r,l)}function qo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ls,bs=kt.current,ze(kt,t),ze(It,It.current),!0}function ud(t,n,r){var l=t.stateNode;if(!l)throw Error(s(169));r?(t=cd(t,n,bs),l.__reactInternalMemoizedMergedChildContext=t,Ue(It),Ue(kt),ze(kt,t)):Ue(It),ze(It,r)}var Pn=null,zo=!1,sc=!1;function hd(t){Pn===null?Pn=[t]:Pn.push(t)}function $g(t){zo=!0,hd(t)}function cs(){if(!sc&&Pn!==null){sc=!0;var t=0,n=je;try{var r=Pn;for(je=1;t<r.length;t++){var l=r[t];do l=l(!0);while(l!==null)}Pn=null,zo=!1}catch(u){throw Pn!==null&&(Pn=Pn.slice(t+1)),fh(Cl,cs),u}finally{je=n,sc=!1}}return null}var gr=[],vr=0,Wo=null,Bo=0,Zt=[],Kt=0,Ds=null,jn=1,Fn="";function Is(t,n){gr[vr++]=Bo,gr[vr++]=Wo,Wo=t,Bo=n}function dd(t,n,r){Zt[Kt++]=jn,Zt[Kt++]=Fn,Zt[Kt++]=Ds,Ds=t;var l=jn;t=Fn;var u=32-on(l)-1;l&=~(1<<u),r+=1;var f=32-on(n)+u;if(30<f){var y=u-u%5;f=(l&(1<<y)-1).toString(32),l>>=y,u-=y,jn=1<<32-on(n)+u|r<<u|l,Fn=f+t}else jn=1<<f|r<<u|l,Fn=t}function rc(t){t.return!==null&&(Is(t,1),dd(t,1,0))}function ic(t){for(;t===Wo;)Wo=gr[--vr],gr[vr]=null,Bo=gr[--vr],gr[vr]=null;for(;t===Ds;)Ds=Zt[--Kt],Zt[Kt]=null,Fn=Zt[--Kt],Zt[Kt]=null,jn=Zt[--Kt],Zt[Kt]=null}var $t=null,Ht=null,Ge=!1,ln=null;function fd(t,n){var r=nn(5,null,null,0);r.elementType="DELETED",r.stateNode=n,r.return=t,n=t.deletions,n===null?(t.deletions=[r],t.flags|=16):n.push(r)}function pd(t,n){switch(t.tag){case 5:var r=t.type;return n=n.nodeType!==1||r.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,$t=t,Ht=os(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,$t=t,Ht=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(r=Ds!==null?{id:jn,overflow:Fn}:null,t.memoizedState={dehydrated:n,treeContext:r,retryLane:1073741824},r=nn(18,null,null,0),r.stateNode=n,r.return=t,t.child=r,$t=t,Ht=null,!0):!1;default:return!1}}function oc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ac(t){if(Ge){var n=Ht;if(n){var r=n;if(!pd(t,n)){if(oc(t))throw Error(s(418));n=os(r.nextSibling);var l=$t;n&&pd(t,n)?fd(l,r):(t.flags=t.flags&-4097|2,Ge=!1,$t=t)}}else{if(oc(t))throw Error(s(418));t.flags=t.flags&-4097|2,Ge=!1,$t=t}}}function md(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$t=t}function Uo(t){if(t!==$t)return!1;if(!Ge)return md(t),Ge=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!Kl(t.type,t.memoizedProps)),n&&(n=Ht)){if(oc(t))throw gd(),Error(s(418));for(;n;)fd(t,n),n=os(n.nextSibling)}if(md(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(n===0){Ht=os(t.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++}t=t.nextSibling}Ht=null}}else Ht=$t?os(t.stateNode.nextSibling):null;return!0}function gd(){for(var t=Ht;t;)t=os(t.nextSibling)}function yr(){Ht=$t=null,Ge=!1}function lc(t){ln===null?ln=[t]:ln.push(t)}var Hg=F.ReactCurrentBatchConfig;function wi(t,n,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(s(309));var l=r.stateNode}if(!l)throw Error(s(147,t));var u=l,f=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(y){var N=u.refs;y===null?delete N[f]:N[f]=y},n._stringRef=f,n)}if(typeof t!="string")throw Error(s(284));if(!r._owner)throw Error(s(290,t))}return t}function $o(t,n){throw t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function vd(t){var n=t._init;return n(t._payload)}function yd(t){function n(j,O){if(t){var V=j.deletions;V===null?(j.deletions=[O],j.flags|=16):V.push(O)}}function r(j,O){if(!t)return null;for(;O!==null;)n(j,O),O=O.sibling;return null}function l(j,O){for(j=new Map;O!==null;)O.key!==null?j.set(O.key,O):j.set(O.index,O),O=O.sibling;return j}function u(j,O){return j=vs(j,O),j.index=0,j.sibling=null,j}function f(j,O,V){return j.index=V,t?(V=j.alternate,V!==null?(V=V.index,V<O?(j.flags|=2,O):V):(j.flags|=2,O)):(j.flags|=1048576,O)}function y(j){return t&&j.alternate===null&&(j.flags|=2),j}function N(j,O,V,re){return O===null||O.tag!==6?(O=Jc(V,j.mode,re),O.return=j,O):(O=u(O,V),O.return=j,O)}function A(j,O,V,re){var ge=V.type;return ge===I?J(j,O,V.props.children,re,V.key):O!==null&&(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===te&&vd(ge)===O.type)?(re=u(O,V.props),re.ref=wi(j,O,V),re.return=j,re):(re=ma(V.type,V.key,V.props,null,j.mode,re),re.ref=wi(j,O,V),re.return=j,re)}function z(j,O,V,re){return O===null||O.tag!==4||O.stateNode.containerInfo!==V.containerInfo||O.stateNode.implementation!==V.implementation?(O=eu(V,j.mode,re),O.return=j,O):(O=u(O,V.children||[]),O.return=j,O)}function J(j,O,V,re,ge){return O===null||O.tag!==7?(O=qs(V,j.mode,re,ge),O.return=j,O):(O=u(O,V),O.return=j,O)}function ee(j,O,V){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Jc(""+O,j.mode,V),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case M:return V=ma(O.type,O.key,O.props,null,j.mode,V),V.ref=wi(j,null,O),V.return=j,V;case b:return O=eu(O,j.mode,V),O.return=j,O;case te:var re=O._init;return ee(j,re(O._payload),V)}if(Fe(O)||Z(O))return O=qs(O,j.mode,V,null),O.return=j,O;$o(j,O)}return null}function K(j,O,V,re){var ge=O!==null?O.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return ge!==null?null:N(j,O,""+V,re);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case M:return V.key===ge?A(j,O,V,re):null;case b:return V.key===ge?z(j,O,V,re):null;case te:return ge=V._init,K(j,O,ge(V._payload),re)}if(Fe(V)||Z(V))return ge!==null?null:J(j,O,V,re,null);$o(j,V)}return null}function ue(j,O,V,re,ge){if(typeof re=="string"&&re!==""||typeof re=="number")return j=j.get(V)||null,N(O,j,""+re,ge);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case M:return j=j.get(re.key===null?V:re.key)||null,A(O,j,re,ge);case b:return j=j.get(re.key===null?V:re.key)||null,z(O,j,re,ge);case te:var ve=re._init;return ue(j,O,V,ve(re._payload),ge)}if(Fe(re)||Z(re))return j=j.get(V)||null,J(O,j,re,ge,null);$o(O,re)}return null}function pe(j,O,V,re){for(var ge=null,ve=null,ye=O,xe=O=0,mt=null;ye!==null&&xe<V.length;xe++){ye.index>xe?(mt=ye,ye=null):mt=ye.sibling;var Oe=K(j,ye,V[xe],re);if(Oe===null){ye===null&&(ye=mt);break}t&&ye&&Oe.alternate===null&&n(j,ye),O=f(Oe,O,xe),ve===null?ge=Oe:ve.sibling=Oe,ve=Oe,ye=mt}if(xe===V.length)return r(j,ye),Ge&&Is(j,xe),ge;if(ye===null){for(;xe<V.length;xe++)ye=ee(j,V[xe],re),ye!==null&&(O=f(ye,O,xe),ve===null?ge=ye:ve.sibling=ye,ve=ye);return Ge&&Is(j,xe),ge}for(ye=l(j,ye);xe<V.length;xe++)mt=ue(ye,j,xe,V[xe],re),mt!==null&&(t&&mt.alternate!==null&&ye.delete(mt.key===null?xe:mt.key),O=f(mt,O,xe),ve===null?ge=mt:ve.sibling=mt,ve=mt);return t&&ye.forEach(function(ys){return n(j,ys)}),Ge&&Is(j,xe),ge}function me(j,O,V,re){var ge=Z(V);if(typeof ge!="function")throw Error(s(150));if(V=ge.call(V),V==null)throw Error(s(151));for(var ve=ge=null,ye=O,xe=O=0,mt=null,Oe=V.next();ye!==null&&!Oe.done;xe++,Oe=V.next()){ye.index>xe?(mt=ye,ye=null):mt=ye.sibling;var ys=K(j,ye,Oe.value,re);if(ys===null){ye===null&&(ye=mt);break}t&&ye&&ys.alternate===null&&n(j,ye),O=f(ys,O,xe),ve===null?ge=ys:ve.sibling=ys,ve=ys,ye=mt}if(Oe.done)return r(j,ye),Ge&&Is(j,xe),ge;if(ye===null){for(;!Oe.done;xe++,Oe=V.next())Oe=ee(j,Oe.value,re),Oe!==null&&(O=f(Oe,O,xe),ve===null?ge=Oe:ve.sibling=Oe,ve=Oe);return Ge&&Is(j,xe),ge}for(ye=l(j,ye);!Oe.done;xe++,Oe=V.next())Oe=ue(ye,j,xe,Oe.value,re),Oe!==null&&(t&&Oe.alternate!==null&&ye.delete(Oe.key===null?xe:Oe.key),O=f(Oe,O,xe),ve===null?ge=Oe:ve.sibling=Oe,ve=Oe);return t&&ye.forEach(function(Cv){return n(j,Cv)}),Ge&&Is(j,xe),ge}function st(j,O,V,re){if(typeof V=="object"&&V!==null&&V.type===I&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case M:e:{for(var ge=V.key,ve=O;ve!==null;){if(ve.key===ge){if(ge=V.type,ge===I){if(ve.tag===7){r(j,ve.sibling),O=u(ve,V.props.children),O.return=j,j=O;break e}}else if(ve.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===te&&vd(ge)===ve.type){r(j,ve.sibling),O=u(ve,V.props),O.ref=wi(j,ve,V),O.return=j,j=O;break e}r(j,ve);break}else n(j,ve);ve=ve.sibling}V.type===I?(O=qs(V.props.children,j.mode,re,V.key),O.return=j,j=O):(re=ma(V.type,V.key,V.props,null,j.mode,re),re.ref=wi(j,O,V),re.return=j,j=re)}return y(j);case b:e:{for(ve=V.key;O!==null;){if(O.key===ve)if(O.tag===4&&O.stateNode.containerInfo===V.containerInfo&&O.stateNode.implementation===V.implementation){r(j,O.sibling),O=u(O,V.children||[]),O.return=j,j=O;break e}else{r(j,O);break}else n(j,O);O=O.sibling}O=eu(V,j.mode,re),O.return=j,j=O}return y(j);case te:return ve=V._init,st(j,O,ve(V._payload),re)}if(Fe(V))return pe(j,O,V,re);if(Z(V))return me(j,O,V,re);$o(j,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,O!==null&&O.tag===6?(r(j,O.sibling),O=u(O,V),O.return=j,j=O):(r(j,O),O=Jc(V,j.mode,re),O.return=j,j=O),y(j)):r(j,O)}return st}var _r=yd(!0),_d=yd(!1),Ho=as(null),Go=null,wr=null,cc=null;function uc(){cc=wr=Go=null}function hc(t){var n=Ho.current;Ue(Ho),t._currentValue=n}function dc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function kr(t,n){Go=t,cc=wr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&n)!==0&&(Rt=!0),t.firstContext=null)}function Jt(t){var n=t._currentValue;if(cc!==t)if(t={context:t,memoizedValue:n,next:null},wr===null){if(Go===null)throw Error(s(308));wr=t,Go.dependencies={lanes:0,firstContext:t}}else wr=wr.next=t;return n}var Os=null;function fc(t){Os===null?Os=[t]:Os.push(t)}function wd(t,n,r,l){var u=n.interleaved;return u===null?(r.next=r,fc(n)):(r.next=u.next,u.next=r),n.interleaved=r,Vn(t,l)}function Vn(t,n){t.lanes|=n;var r=t.alternate;for(r!==null&&(r.lanes|=n),r=t,t=t.return;t!==null;)t.childLanes|=n,r=t.alternate,r!==null&&(r.childLanes|=n),r=t,t=t.return;return r.tag===3?r.stateNode:null}var us=!1;function pc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kd(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ln(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function hs(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ie&2)!==0){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,Vn(t,r)}return u=l.interleaved,u===null?(n.next=n,fc(l)):(n.next=u.next,u.next=n),l.interleaved=n,Vn(t,r)}function Qo(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194240)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ml(t,r)}}function xd(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var u=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};f===null?u=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?u=f=n:f=f.next=n}else u=f=n;r={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:l.shared,effects:l.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}function Yo(t,n,r,l){var u=t.updateQueue;us=!1;var f=u.firstBaseUpdate,y=u.lastBaseUpdate,N=u.shared.pending;if(N!==null){u.shared.pending=null;var A=N,z=A.next;A.next=null,y===null?f=z:y.next=z,y=A;var J=t.alternate;J!==null&&(J=J.updateQueue,N=J.lastBaseUpdate,N!==y&&(N===null?J.firstBaseUpdate=z:N.next=z,J.lastBaseUpdate=A))}if(f!==null){var ee=u.baseState;y=0,J=z=A=null,N=f;do{var K=N.lane,ue=N.eventTime;if((l&K)===K){J!==null&&(J=J.next={eventTime:ue,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var pe=t,me=N;switch(K=n,ue=r,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){ee=pe.call(ue,ee,K);break e}ee=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,K=typeof pe=="function"?pe.call(ue,ee,K):pe,K==null)break e;ee=q({},ee,K);break e;case 2:us=!0}}N.callback!==null&&N.lane!==0&&(t.flags|=64,K=u.effects,K===null?u.effects=[N]:K.push(N))}else ue={eventTime:ue,lane:K,tag:N.tag,payload:N.payload,callback:N.callback,next:null},J===null?(z=J=ue,A=ee):J=J.next=ue,y|=K;if(N=N.next,N===null){if(N=u.shared.pending,N===null)break;K=N,N=K.next,K.next=null,u.lastBaseUpdate=K,u.shared.pending=null}}while(!0);if(J===null&&(A=ee),u.baseState=A,u.firstBaseUpdate=z,u.lastBaseUpdate=J,n=u.shared.interleaved,n!==null){u=n;do y|=u.lane,u=u.next;while(u!==n)}else f===null&&(u.shared.lanes=0);js|=y,t.lanes=y,t.memoizedState=ee}}function Sd(t,n,r){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var l=t[n],u=l.callback;if(u!==null){if(l.callback=null,l=r,typeof u!="function")throw Error(s(191,u));u.call(l)}}}var ki={},Cn=as(ki),xi=as(ki),Si=as(ki);function Rs(t){if(t===ki)throw Error(s(174));return t}function mc(t,n){switch(ze(Si,n),ze(xi,t),ze(Cn,ki),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:gl(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=gl(n,t)}Ue(Cn),ze(Cn,n)}function xr(){Ue(Cn),Ue(xi),Ue(Si)}function Td(t){Rs(Si.current);var n=Rs(Cn.current),r=gl(n,t.type);n!==r&&(ze(xi,t),ze(Cn,r))}function gc(t){xi.current===t&&(Ue(Cn),Ue(xi))}var Ze=as(0);function Xo(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var vc=[];function yc(){for(var t=0;t<vc.length;t++)vc[t]._workInProgressVersionPrimary=null;vc.length=0}var Zo=F.ReactCurrentDispatcher,_c=F.ReactCurrentBatchConfig,Ps=0,Ke=null,ct=null,ft=null,Ko=!1,Ti=!1,Ci=0,Gg=0;function xt(){throw Error(s(321))}function wc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!an(t[r],n[r]))return!1;return!0}function kc(t,n,r,l,u,f){if(Ps=f,Ke=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Zo.current=t===null||t.memoizedState===null?Zg:Kg,t=r(l,u),Ti){f=0;do{if(Ti=!1,Ci=0,25<=f)throw Error(s(301));f+=1,ft=ct=null,n.updateQueue=null,Zo.current=Jg,t=r(l,u)}while(Ti)}if(Zo.current=ta,n=ct!==null&&ct.next!==null,Ps=0,ft=ct=Ke=null,Ko=!1,n)throw Error(s(300));return t}function xc(){var t=Ci!==0;return Ci=0,t}function Nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Ke.memoizedState=ft=t:ft=ft.next=t,ft}function en(){if(ct===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var n=ft===null?Ke.memoizedState:ft.next;if(n!==null)ft=n,ct=t;else{if(t===null)throw Error(s(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},ft===null?Ke.memoizedState=ft=t:ft=ft.next=t}return ft}function Ni(t,n){return typeof n=="function"?n(t):n}function Sc(t){var n=en(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=ct,u=l.baseQueue,f=r.pending;if(f!==null){if(u!==null){var y=u.next;u.next=f.next,f.next=y}l.baseQueue=u=f,r.pending=null}if(u!==null){f=u.next,l=l.baseState;var N=y=null,A=null,z=f;do{var J=z.lane;if((Ps&J)===J)A!==null&&(A=A.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),l=z.hasEagerState?z.eagerState:t(l,z.action);else{var ee={lane:J,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};A===null?(N=A=ee,y=l):A=A.next=ee,Ke.lanes|=J,js|=J}z=z.next}while(z!==null&&z!==f);A===null?y=l:A.next=N,an(l,n.memoizedState)||(Rt=!0),n.memoizedState=l,n.baseState=y,n.baseQueue=A,r.lastRenderedState=l}if(t=r.interleaved,t!==null){u=t;do f=u.lane,Ke.lanes|=f,js|=f,u=u.next;while(u!==t)}else u===null&&(r.lanes=0);return[n.memoizedState,r.dispatch]}function Tc(t){var n=en(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,u=r.pending,f=n.memoizedState;if(u!==null){r.pending=null;var y=u=u.next;do f=t(f,y.action),y=y.next;while(y!==u);an(f,n.memoizedState)||(Rt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Cd(){}function Nd(t,n){var r=Ke,l=en(),u=n(),f=!an(l.memoizedState,u);if(f&&(l.memoizedState=u,Rt=!0),l=l.queue,Cc(Ad.bind(null,r,l,t),[t]),l.getSnapshot!==n||f||ft!==null&&ft.memoizedState.tag&1){if(r.flags|=2048,Ei(9,Md.bind(null,r,l,u,n),void 0,null),pt===null)throw Error(s(349));(Ps&30)!==0||Ed(r,n,u)}return u}function Ed(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ke.updateQueue,n===null?(n={lastEffect:null,stores:null},Ke.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Md(t,n,r,l){n.value=r,n.getSnapshot=l,bd(n)&&Dd(t)}function Ad(t,n,r){return r(function(){bd(n)&&Dd(t)})}function bd(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!an(t,r)}catch{return!0}}function Dd(t){var n=Vn(t,1);n!==null&&dn(n,t,1,-1)}function Id(t){var n=Nn();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:t},n.queue=t,t=t.dispatch=Xg.bind(null,Ke,t),[n.memoizedState,t]}function Ei(t,n,r,l){return t={tag:t,create:n,destroy:r,deps:l,next:null},n=Ke.updateQueue,n===null?(n={lastEffect:null,stores:null},Ke.updateQueue=n,n.lastEffect=t.next=t):(r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t)),t}function Od(){return en().memoizedState}function Jo(t,n,r,l){var u=Nn();Ke.flags|=t,u.memoizedState=Ei(1|n,r,void 0,l===void 0?null:l)}function ea(t,n,r,l){var u=en();l=l===void 0?null:l;var f=void 0;if(ct!==null){var y=ct.memoizedState;if(f=y.destroy,l!==null&&wc(l,y.deps)){u.memoizedState=Ei(n,r,f,l);return}}Ke.flags|=t,u.memoizedState=Ei(1|n,r,f,l)}function Rd(t,n){return Jo(8390656,8,t,n)}function Cc(t,n){return ea(2048,8,t,n)}function Pd(t,n){return ea(4,2,t,n)}function jd(t,n){return ea(4,4,t,n)}function Fd(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Vd(t,n,r){return r=r!=null?r.concat([t]):null,ea(4,4,Fd.bind(null,n,t),r)}function Nc(){}function Ld(t,n){var r=en();n=n===void 0?null:n;var l=r.memoizedState;return l!==null&&n!==null&&wc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function qd(t,n){var r=en();n=n===void 0?null:n;var l=r.memoizedState;return l!==null&&n!==null&&wc(n,l[1])?l[0]:(t=t(),r.memoizedState=[t,n],t)}function zd(t,n,r){return(Ps&21)===0?(t.baseState&&(t.baseState=!1,Rt=!0),t.memoizedState=r):(an(r,n)||(r=vh(),Ke.lanes|=r,js|=r,t.baseState=!0),n)}function Qg(t,n){var r=je;je=r!==0&&4>r?r:4,t(!0);var l=_c.transition;_c.transition={};try{t(!1),n()}finally{je=r,_c.transition=l}}function Wd(){return en().memoizedState}function Yg(t,n,r){var l=ms(t);if(r={lane:l,action:r,hasEagerState:!1,eagerState:null,next:null},Bd(t))Ud(n,r);else if(r=wd(t,n,r,l),r!==null){var u=Et();dn(r,t,l,u),$d(r,n,l)}}function Xg(t,n,r){var l=ms(t),u={lane:l,action:r,hasEagerState:!1,eagerState:null,next:null};if(Bd(t))Ud(n,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,N=f(y,r);if(u.hasEagerState=!0,u.eagerState=N,an(N,y)){var A=n.interleaved;A===null?(u.next=u,fc(n)):(u.next=A.next,A.next=u),n.interleaved=u;return}}catch{}finally{}r=wd(t,n,u,l),r!==null&&(u=Et(),dn(r,t,l,u),$d(r,n,l))}}function Bd(t){var n=t.alternate;return t===Ke||n!==null&&n===Ke}function Ud(t,n){Ti=Ko=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function $d(t,n,r){if((r&4194240)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ml(t,r)}}var ta={readContext:Jt,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},Zg={readContext:Jt,useCallback:function(t,n){return Nn().memoizedState=[t,n===void 0?null:n],t},useContext:Jt,useEffect:Rd,useImperativeHandle:function(t,n,r){return r=r!=null?r.concat([t]):null,Jo(4194308,4,Fd.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Jo(4194308,4,t,n)},useInsertionEffect:function(t,n){return Jo(4,2,t,n)},useMemo:function(t,n){var r=Nn();return n=n===void 0?null:n,t=t(),r.memoizedState=[t,n],t},useReducer:function(t,n,r){var l=Nn();return n=r!==void 0?r(n):n,l.memoizedState=l.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},l.queue=t,t=t.dispatch=Yg.bind(null,Ke,t),[l.memoizedState,t]},useRef:function(t){var n=Nn();return t={current:t},n.memoizedState=t},useState:Id,useDebugValue:Nc,useDeferredValue:function(t){return Nn().memoizedState=t},useTransition:function(){var t=Id(!1),n=t[0];return t=Qg.bind(null,t[1]),Nn().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,r){var l=Ke,u=Nn();if(Ge){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),pt===null)throw Error(s(349));(Ps&30)!==0||Ed(l,n,r)}u.memoizedState=r;var f={value:r,getSnapshot:n};return u.queue=f,Rd(Ad.bind(null,l,f,t),[t]),l.flags|=2048,Ei(9,Md.bind(null,l,f,r,n),void 0,null),r},useId:function(){var t=Nn(),n=pt.identifierPrefix;if(Ge){var r=Fn,l=jn;r=(l&~(1<<32-on(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=Ci++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=Gg++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},Kg={readContext:Jt,useCallback:Ld,useContext:Jt,useEffect:Cc,useImperativeHandle:Vd,useInsertionEffect:Pd,useLayoutEffect:jd,useMemo:qd,useReducer:Sc,useRef:Od,useState:function(){return Sc(Ni)},useDebugValue:Nc,useDeferredValue:function(t){var n=en();return zd(n,ct.memoizedState,t)},useTransition:function(){var t=Sc(Ni)[0],n=en().memoizedState;return[t,n]},useMutableSource:Cd,useSyncExternalStore:Nd,useId:Wd,unstable_isNewReconciler:!1},Jg={readContext:Jt,useCallback:Ld,useContext:Jt,useEffect:Cc,useImperativeHandle:Vd,useInsertionEffect:Pd,useLayoutEffect:jd,useMemo:qd,useReducer:Tc,useRef:Od,useState:function(){return Tc(Ni)},useDebugValue:Nc,useDeferredValue:function(t){var n=en();return ct===null?n.memoizedState=t:zd(n,ct.memoizedState,t)},useTransition:function(){var t=Tc(Ni)[0],n=en().memoizedState;return[t,n]},useMutableSource:Cd,useSyncExternalStore:Nd,useId:Wd,unstable_isNewReconciler:!1};function cn(t,n){if(t&&t.defaultProps){n=q({},n),t=t.defaultProps;for(var r in t)n[r]===void 0&&(n[r]=t[r]);return n}return n}function Ec(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:q({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var na={isMounted:function(t){return(t=t._reactInternals)?Ms(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Et(),u=ms(t),f=Ln(l,u);f.payload=n,r!=null&&(f.callback=r),n=hs(t,f,u),n!==null&&(dn(n,t,u,l),Qo(n,t,u))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Et(),u=ms(t),f=Ln(l,u);f.tag=1,f.payload=n,r!=null&&(f.callback=r),n=hs(t,f,u),n!==null&&(dn(n,t,u,l),Qo(n,t,u))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Et(),l=ms(t),u=Ln(r,l);u.tag=2,n!=null&&(u.callback=n),n=hs(t,u,l),n!==null&&(dn(n,t,l,r),Qo(n,t,l))}};function Hd(t,n,r,l,u,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!fi(r,l)||!fi(u,f):!0}function Gd(t,n,r){var l=!1,u=ls,f=n.contextType;return typeof f=="object"&&f!==null?f=Jt(f):(u=Ot(n)?bs:kt.current,l=n.contextTypes,f=(l=l!=null)?mr(t,u):ls),n=new n(r,f),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=na,t.stateNode=n,n._reactInternals=t,l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=u,t.__reactInternalMemoizedMaskedChildContext=f),n}function Qd(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&na.enqueueReplaceState(n,n.state,null)}function Mc(t,n,r,l){var u=t.stateNode;u.props=r,u.state=t.memoizedState,u.refs={},pc(t);var f=n.contextType;typeof f=="object"&&f!==null?u.context=Jt(f):(f=Ot(n)?bs:kt.current,u.context=mr(t,f)),u.state=t.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(Ec(t,n,f,r),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&na.enqueueReplaceState(u,u.state,null),Yo(t,r,u,l),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308)}function Sr(t,n){try{var r="",l=n;do r+=ne(l),l=l.return;while(l);var u=r}catch(f){u=`
Error generating stack: `+f.message+`
`+f.stack}return{value:t,source:n,stack:u,digest:null}}function Ac(t,n,r){return{value:t,source:null,stack:r??null,digest:n??null}}function bc(t,n){try{console.error(n.value)}catch(r){setTimeout(function(){throw r})}}var ev=typeof WeakMap=="function"?WeakMap:Map;function Yd(t,n,r){r=Ln(-1,r),r.tag=3,r.payload={element:null};var l=n.value;return r.callback=function(){ca||(ca=!0,$c=l),bc(t,n)},r}function Xd(t,n,r){r=Ln(-1,r),r.tag=3;var l=t.type.getDerivedStateFromError;if(typeof l=="function"){var u=n.value;r.payload=function(){return l(u)},r.callback=function(){bc(t,n)}}var f=t.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(r.callback=function(){bc(t,n),typeof l!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})}),r}function Zd(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new ev;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(r)||(u.add(r),t=pv.bind(null,t,n,r),n.then(t,t))}function Kd(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function Jd(t,n,r,l,u){return(t.mode&1)===0?(t===n?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(n=Ln(-1,1),n.tag=2,hs(r,n,1))),r.lanes|=1),t):(t.flags|=65536,t.lanes=u,t)}var tv=F.ReactCurrentOwner,Rt=!1;function Nt(t,n,r,l){n.child=t===null?_d(n,null,r,l):_r(n,t.child,r,l)}function ef(t,n,r,l,u){r=r.render;var f=n.ref;return kr(n,u),l=kc(t,n,r,l,f,u),r=xc(),t!==null&&!Rt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~u,qn(t,n,u)):(Ge&&r&&rc(n),n.flags|=1,Nt(t,n,l,u),n.child)}function tf(t,n,r,l,u){if(t===null){var f=r.type;return typeof f=="function"&&!Kc(f)&&f.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(n.tag=15,n.type=f,nf(t,n,f,l,u)):(t=ma(r.type,null,l,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,(t.lanes&u)===0){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:fi,r(y,l)&&t.ref===n.ref)return qn(t,n,u)}return n.flags|=1,t=vs(f,l),t.ref=n.ref,t.return=n,n.child=t}function nf(t,n,r,l,u){if(t!==null){var f=t.memoizedProps;if(fi(f,l)&&t.ref===n.ref)if(Rt=!1,n.pendingProps=l=f,(t.lanes&u)!==0)(t.flags&131072)!==0&&(Rt=!0);else return n.lanes=t.lanes,qn(t,n,u)}return Dc(t,n,r,l,u)}function sf(t,n,r){var l=n.pendingProps,u=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Cr,Gt),Gt|=r;else{if((r&1073741824)===0)return t=f!==null?f.baseLanes|r:r,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,ze(Cr,Gt),Gt|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=f!==null?f.baseLanes:r,ze(Cr,Gt),Gt|=l}else f!==null?(l=f.baseLanes|r,n.memoizedState=null):l=r,ze(Cr,Gt),Gt|=l;return Nt(t,n,u,r),n.child}function rf(t,n){var r=n.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(n.flags|=512,n.flags|=2097152)}function Dc(t,n,r,l,u){var f=Ot(r)?bs:kt.current;return f=mr(n,f),kr(n,u),r=kc(t,n,r,l,f,u),l=xc(),t!==null&&!Rt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~u,qn(t,n,u)):(Ge&&l&&rc(n),n.flags|=1,Nt(t,n,r,u),n.child)}function of(t,n,r,l,u){if(Ot(r)){var f=!0;qo(n)}else f=!1;if(kr(n,u),n.stateNode===null)ra(t,n),Gd(n,r,l),Mc(n,r,l,u),l=!0;else if(t===null){var y=n.stateNode,N=n.memoizedProps;y.props=N;var A=y.context,z=r.contextType;typeof z=="object"&&z!==null?z=Jt(z):(z=Ot(r)?bs:kt.current,z=mr(n,z));var J=r.getDerivedStateFromProps,ee=typeof J=="function"||typeof y.getSnapshotBeforeUpdate=="function";ee||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N!==l||A!==z)&&Qd(n,y,l,z),us=!1;var K=n.memoizedState;y.state=K,Yo(n,l,y,u),A=n.memoizedState,N!==l||K!==A||It.current||us?(typeof J=="function"&&(Ec(n,r,J,l),A=n.memoizedState),(N=us||Hd(n,r,N,l,K,A,z))?(ee||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=A),y.props=l,y.state=A,y.context=z,l=N):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{y=n.stateNode,kd(t,n),N=n.memoizedProps,z=n.type===n.elementType?N:cn(n.type,N),y.props=z,ee=n.pendingProps,K=y.context,A=r.contextType,typeof A=="object"&&A!==null?A=Jt(A):(A=Ot(r)?bs:kt.current,A=mr(n,A));var ue=r.getDerivedStateFromProps;(J=typeof ue=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N!==ee||K!==A)&&Qd(n,y,l,A),us=!1,K=n.memoizedState,y.state=K,Yo(n,l,y,u);var pe=n.memoizedState;N!==ee||K!==pe||It.current||us?(typeof ue=="function"&&(Ec(n,r,ue,l),pe=n.memoizedState),(z=us||Hd(n,r,z,l,K,pe,A)||!1)?(J||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(l,pe,A),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(l,pe,A)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||N===t.memoizedProps&&K===t.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||N===t.memoizedProps&&K===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=pe),y.props=l,y.state=pe,y.context=A,l=z):(typeof y.componentDidUpdate!="function"||N===t.memoizedProps&&K===t.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||N===t.memoizedProps&&K===t.memoizedState||(n.flags|=1024),l=!1)}return Ic(t,n,r,l,f,u)}function Ic(t,n,r,l,u,f){rf(t,n);var y=(n.flags&128)!==0;if(!l&&!y)return u&&ud(n,r,!1),qn(t,n,f);l=n.stateNode,tv.current=n;var N=y&&typeof r.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,t!==null&&y?(n.child=_r(n,t.child,null,f),n.child=_r(n,null,N,f)):Nt(t,n,N,f),n.memoizedState=l.state,u&&ud(n,r,!0),n.child}function af(t){var n=t.stateNode;n.pendingContext?ld(t,n.pendingContext,n.pendingContext!==n.context):n.context&&ld(t,n.context,!1),mc(t,n.containerInfo)}function lf(t,n,r,l,u){return yr(),lc(u),n.flags|=256,Nt(t,n,r,l),n.child}var Oc={dehydrated:null,treeContext:null,retryLane:0};function Rc(t){return{baseLanes:t,cachePool:null,transitions:null}}function cf(t,n,r){var l=n.pendingProps,u=Ze.current,f=!1,y=(n.flags&128)!==0,N;if((N=y)||(N=t!==null&&t.memoizedState===null?!1:(u&2)!==0),N?(f=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(u|=1),ze(Ze,u&1),t===null)return ac(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((n.mode&1)===0?n.lanes=1:t.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(y=l.children,t=l.fallback,f?(l=n.mode,f=n.child,y={mode:"hidden",children:y},(l&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=y):f=ga(y,l,0,null),t=qs(t,l,r,null),f.return=n,t.return=n,f.sibling=t,n.child=f,n.child.memoizedState=Rc(r),n.memoizedState=Oc,t):Pc(n,y));if(u=t.memoizedState,u!==null&&(N=u.dehydrated,N!==null))return nv(t,n,y,l,N,u,r);if(f){f=l.fallback,y=n.mode,u=t.child,N=u.sibling;var A={mode:"hidden",children:l.children};return(y&1)===0&&n.child!==u?(l=n.child,l.childLanes=0,l.pendingProps=A,n.deletions=null):(l=vs(u,A),l.subtreeFlags=u.subtreeFlags&14680064),N!==null?f=vs(N,f):(f=qs(f,y,r,null),f.flags|=2),f.return=n,l.return=n,l.sibling=f,n.child=l,l=f,f=n.child,y=t.child.memoizedState,y=y===null?Rc(r):{baseLanes:y.baseLanes|r,cachePool:null,transitions:y.transitions},f.memoizedState=y,f.childLanes=t.childLanes&~r,n.memoizedState=Oc,l}return f=t.child,t=f.sibling,l=vs(f,{mode:"visible",children:l.children}),(n.mode&1)===0&&(l.lanes=r),l.return=n,l.sibling=null,t!==null&&(r=n.deletions,r===null?(n.deletions=[t],n.flags|=16):r.push(t)),n.child=l,n.memoizedState=null,l}function Pc(t,n){return n=ga({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function sa(t,n,r,l){return l!==null&&lc(l),_r(n,t.child,null,r),t=Pc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function nv(t,n,r,l,u,f,y){if(r)return n.flags&256?(n.flags&=-257,l=Ac(Error(s(422))),sa(t,n,y,l)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(f=l.fallback,u=n.mode,l=ga({mode:"visible",children:l.children},u,0,null),f=qs(f,u,y,null),f.flags|=2,l.return=n,f.return=n,l.sibling=f,n.child=l,(n.mode&1)!==0&&_r(n,t.child,null,y),n.child.memoizedState=Rc(y),n.memoizedState=Oc,f);if((n.mode&1)===0)return sa(t,n,y,null);if(u.data==="$!"){if(l=u.nextSibling&&u.nextSibling.dataset,l)var N=l.dgst;return l=N,f=Error(s(419)),l=Ac(f,l,void 0),sa(t,n,y,l)}if(N=(y&t.childLanes)!==0,Rt||N){if(l=pt,l!==null){switch(y&-y){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(l.suspendedLanes|y))!==0?0:u,u!==0&&u!==f.retryLane&&(f.retryLane=u,Vn(t,u),dn(l,t,u,-1))}return Zc(),l=Ac(Error(s(421))),sa(t,n,y,l)}return u.data==="$?"?(n.flags|=128,n.child=t.child,n=mv.bind(null,t),u._reactRetry=n,null):(t=f.treeContext,Ht=os(u.nextSibling),$t=n,Ge=!0,ln=null,t!==null&&(Zt[Kt++]=jn,Zt[Kt++]=Fn,Zt[Kt++]=Ds,jn=t.id,Fn=t.overflow,Ds=n),n=Pc(n,l.children),n.flags|=4096,n)}function uf(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),dc(t.return,n,r)}function jc(t,n,r,l,u){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:u}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=u)}function hf(t,n,r){var l=n.pendingProps,u=l.revealOrder,f=l.tail;if(Nt(t,n,l.children,r),l=Ze.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uf(t,r,n);else if(t.tag===19)uf(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}if(ze(Ze,l),(n.mode&1)===0)n.memoizedState=null;else switch(u){case"forwards":for(r=n.child,u=null;r!==null;)t=r.alternate,t!==null&&Xo(t)===null&&(u=r),r=r.sibling;r=u,r===null?(u=n.child,n.child=null):(u=r.sibling,r.sibling=null),jc(n,!1,u,r,f);break;case"backwards":for(r=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&Xo(t)===null){n.child=u;break}t=u.sibling,u.sibling=r,r=u,u=t}jc(n,!0,r,null,f);break;case"together":jc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ra(t,n){(n.mode&1)===0&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function qn(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),js|=n.lanes,(r&n.childLanes)===0)return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=vs(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=vs(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function sv(t,n,r){switch(n.tag){case 3:af(n),yr();break;case 5:Td(n);break;case 1:Ot(n.type)&&qo(n);break;case 4:mc(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,u=n.memoizedProps.value;ze(Ho,l._currentValue),l._currentValue=u;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(ze(Ze,Ze.current&1),n.flags|=128,null):(r&n.child.childLanes)!==0?cf(t,n,r):(ze(Ze,Ze.current&1),t=qn(t,n,r),t!==null?t.sibling:null);ze(Ze,Ze.current&1);break;case 19:if(l=(r&n.childLanes)!==0,(t.flags&128)!==0){if(l)return hf(t,n,r);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ze(Ze,Ze.current),l)break;return null;case 22:case 23:return n.lanes=0,sf(t,n,r)}return qn(t,n,r)}var df,Fc,ff,pf;df=function(t,n){for(var r=n.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Fc=function(){},ff=function(t,n,r,l){var u=t.memoizedProps;if(u!==l){t=n.stateNode,Rs(Cn.current);var f=null;switch(r){case"input":u=Yr(t,u),l=Yr(t,l),f=[];break;case"select":u=q({},u,{value:void 0}),l=q({},l,{value:void 0}),f=[];break;case"textarea":u=Xt(t,u),l=Xt(t,l),f=[];break;default:typeof u.onClick!="function"&&typeof l.onClick=="function"&&(t.onclick=Fo)}vl(r,l);var y;r=null;for(z in u)if(!l.hasOwnProperty(z)&&u.hasOwnProperty(z)&&u[z]!=null)if(z==="style"){var N=u[z];for(y in N)N.hasOwnProperty(y)&&(r||(r={}),r[y]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(a.hasOwnProperty(z)?f||(f=[]):(f=f||[]).push(z,null));for(z in l){var A=l[z];if(N=u!=null?u[z]:void 0,l.hasOwnProperty(z)&&A!==N&&(A!=null||N!=null))if(z==="style")if(N){for(y in N)!N.hasOwnProperty(y)||A&&A.hasOwnProperty(y)||(r||(r={}),r[y]="");for(y in A)A.hasOwnProperty(y)&&N[y]!==A[y]&&(r||(r={}),r[y]=A[y])}else r||(f||(f=[]),f.push(z,r)),r=A;else z==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,N=N?N.__html:void 0,A!=null&&N!==A&&(f=f||[]).push(z,A)):z==="children"?typeof A!="string"&&typeof A!="number"||(f=f||[]).push(z,""+A):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(a.hasOwnProperty(z)?(A!=null&&z==="onScroll"&&Be("scroll",t),f||N===A||(f=[])):(f=f||[]).push(z,A))}r&&(f=f||[]).push("style",r);var z=f;(n.updateQueue=z)&&(n.flags|=4)}},pf=function(t,n,r,l){r!==l&&(n.flags|=4)};function Mi(t,n){if(!Ge)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function St(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var u=t.child;u!==null;)r|=u.lanes|u.childLanes,l|=u.subtreeFlags&14680064,l|=u.flags&14680064,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)r|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function rv(t,n,r){var l=n.pendingProps;switch(ic(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(n),null;case 1:return Ot(n.type)&&Lo(),St(n),null;case 3:return l=n.stateNode,xr(),Ue(It),Ue(kt),yc(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(Uo(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ln!==null&&(Qc(ln),ln=null))),Fc(t,n),St(n),null;case 5:gc(n);var u=Rs(Si.current);if(r=n.type,t!==null&&n.stateNode!=null)ff(t,n,r,l,u),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(s(166));return St(n),null}if(t=Rs(Cn.current),Uo(n)){l=n.stateNode,r=n.type;var f=n.memoizedProps;switch(l[Tn]=n,l[yi]=f,t=(n.mode&1)!==0,r){case"dialog":Be("cancel",l),Be("close",l);break;case"iframe":case"object":case"embed":Be("load",l);break;case"video":case"audio":for(u=0;u<mi.length;u++)Be(mi[u],l);break;case"source":Be("error",l);break;case"img":case"image":case"link":Be("error",l),Be("load",l);break;case"details":Be("toggle",l);break;case"input":ce(l,f),Be("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!f.multiple},Be("invalid",l);break;case"textarea":Jn(l,f),Be("invalid",l)}vl(r,f),u=null;for(var y in f)if(f.hasOwnProperty(y)){var N=f[y];y==="children"?typeof N=="string"?l.textContent!==N&&(f.suppressHydrationWarning!==!0&&jo(l.textContent,N,t),u=["children",N]):typeof N=="number"&&l.textContent!==""+N&&(f.suppressHydrationWarning!==!0&&jo(l.textContent,N,t),u=["children",""+N]):a.hasOwnProperty(y)&&N!=null&&y==="onScroll"&&Be("scroll",l)}switch(r){case"input":Dt(l),qe(l,f,!0);break;case"textarea":Dt(l),fo(l);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(l.onclick=Fo)}l=u,n.updateQueue=l,l!==null&&(n.flags|=4)}else{y=u.nodeType===9?u:u.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=po(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=y.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof l.is=="string"?t=y.createElement(r,{is:l.is}):(t=y.createElement(r),r==="select"&&(y=t,l.multiple?y.multiple=!0:l.size&&(y.size=l.size))):t=y.createElementNS(t,r),t[Tn]=n,t[yi]=l,df(t,n,!1,!1),n.stateNode=t;e:{switch(y=yl(r,l),r){case"dialog":Be("cancel",t),Be("close",t),u=l;break;case"iframe":case"object":case"embed":Be("load",t),u=l;break;case"video":case"audio":for(u=0;u<mi.length;u++)Be(mi[u],t);u=l;break;case"source":Be("error",t),u=l;break;case"img":case"image":case"link":Be("error",t),Be("load",t),u=l;break;case"details":Be("toggle",t),u=l;break;case"input":ce(t,l),u=Yr(t,l),Be("invalid",t);break;case"option":u=l;break;case"select":t._wrapperState={wasMultiple:!!l.multiple},u=q({},l,{value:void 0}),Be("invalid",t);break;case"textarea":Jn(t,l),u=Xt(t,l),Be("invalid",t);break;default:u=l}vl(r,u),N=u;for(f in N)if(N.hasOwnProperty(f)){var A=N[f];f==="style"?nh(t,A):f==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&eh(t,A)):f==="children"?typeof A=="string"?(r!=="textarea"||A!=="")&&Xr(t,A):typeof A=="number"&&Xr(t,""+A):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(a.hasOwnProperty(f)?A!=null&&f==="onScroll"&&Be("scroll",t):A!=null&&L(t,f,A,y))}switch(r){case"input":Dt(t),qe(t,l,!1);break;case"textarea":Dt(t),fo(t);break;case"option":l.value!=null&&t.setAttribute("value",""+Y(l.value));break;case"select":t.multiple=!!l.multiple,f=l.value,f!=null?lt(t,!!l.multiple,f,!1):l.defaultValue!=null&&lt(t,!!l.multiple,l.defaultValue,!0);break;default:typeof u.onClick=="function"&&(t.onclick=Fo)}switch(r){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return St(n),null;case 6:if(t&&n.stateNode!=null)pf(t,n,t.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(r=Rs(Si.current),Rs(Cn.current),Uo(n)){if(l=n.stateNode,r=n.memoizedProps,l[Tn]=n,(f=l.nodeValue!==r)&&(t=$t,t!==null))switch(t.tag){case 3:jo(l.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jo(l.nodeValue,r,(t.mode&1)!==0)}f&&(n.flags|=4)}else l=(r.nodeType===9?r:r.ownerDocument).createTextNode(l),l[Tn]=n,n.stateNode=l}return St(n),null;case 13:if(Ue(Ze),l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&Ht!==null&&(n.mode&1)!==0&&(n.flags&128)===0)gd(),yr(),n.flags|=98560,f=!1;else if(f=Uo(n),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Tn]=n}else yr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;St(n),f=!1}else ln!==null&&(Qc(ln),ln=null),f=!0;if(!f)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=r,n):(l=l!==null,l!==(t!==null&&t.memoizedState!==null)&&l&&(n.child.flags|=8192,(n.mode&1)!==0&&(t===null||(Ze.current&1)!==0?ut===0&&(ut=3):Zc())),n.updateQueue!==null&&(n.flags|=4),St(n),null);case 4:return xr(),Fc(t,n),t===null&&gi(n.stateNode.containerInfo),St(n),null;case 10:return hc(n.type._context),St(n),null;case 17:return Ot(n.type)&&Lo(),St(n),null;case 19:if(Ue(Ze),f=n.memoizedState,f===null)return St(n),null;if(l=(n.flags&128)!==0,y=f.rendering,y===null)if(l)Mi(f,!1);else{if(ut!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(y=Xo(t),y!==null){for(n.flags|=128,Mi(f,!1),l=y.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=r,r=n.child;r!==null;)f=r,t=l,f.flags&=14680066,y=f.alternate,y===null?(f.childLanes=0,f.lanes=t,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=y.childLanes,f.lanes=y.lanes,f.child=y.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=y.memoizedProps,f.memoizedState=y.memoizedState,f.updateQueue=y.updateQueue,f.type=y.type,t=y.dependencies,f.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ze(Ze,Ze.current&1|2),n.child}t=t.sibling}f.tail!==null&&nt()>Nr&&(n.flags|=128,l=!0,Mi(f,!1),n.lanes=4194304)}else{if(!l)if(t=Xo(y),t!==null){if(n.flags|=128,l=!0,r=t.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),Mi(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!Ge)return St(n),null}else 2*nt()-f.renderingStartTime>Nr&&r!==1073741824&&(n.flags|=128,l=!0,Mi(f,!1),n.lanes=4194304);f.isBackwards?(y.sibling=n.child,n.child=y):(r=f.last,r!==null?r.sibling=y:n.child=y,f.last=y)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=nt(),n.sibling=null,r=Ze.current,ze(Ze,l?r&1|2:r&1),n):(St(n),null);case 22:case 23:return Xc(),l=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==l&&(n.flags|=8192),l&&(n.mode&1)!==0?(Gt&1073741824)!==0&&(St(n),n.subtreeFlags&6&&(n.flags|=8192)):St(n),null;case 24:return null;case 25:return null}throw Error(s(156,n.tag))}function iv(t,n){switch(ic(n),n.tag){case 1:return Ot(n.type)&&Lo(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return xr(),Ue(It),Ue(kt),yc(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 5:return gc(n),null;case 13:if(Ue(Ze),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));yr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Ue(Ze),null;case 4:return xr(),null;case 10:return hc(n.type._context),null;case 22:case 23:return Xc(),null;case 24:return null;default:return null}}var ia=!1,Tt=!1,ov=typeof WeakSet=="function"?WeakSet:Set,he=null;function Tr(t,n){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(l){et(t,n,l)}else r.current=null}function Vc(t,n,r){try{r()}catch(l){et(t,n,l)}}var mf=!1;function av(t,n){if(Xl=Co,t=Hh(),Wl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var u=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var y=0,N=-1,A=-1,z=0,J=0,ee=t,K=null;t:for(;;){for(var ue;ee!==r||u!==0&&ee.nodeType!==3||(N=y+u),ee!==f||l!==0&&ee.nodeType!==3||(A=y+l),ee.nodeType===3&&(y+=ee.nodeValue.length),(ue=ee.firstChild)!==null;)K=ee,ee=ue;for(;;){if(ee===t)break t;if(K===r&&++z===u&&(N=y),K===f&&++J===l&&(A=y),(ue=ee.nextSibling)!==null)break;ee=K,K=ee.parentNode}ee=ue}r=N===-1||A===-1?null:{start:N,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zl={focusedElem:t,selectionRange:r},Co=!1,he=n;he!==null;)if(n=he,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,he=t;else for(;he!==null;){n=he;try{var pe=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,st=pe.memoizedState,j=n.stateNode,O=j.getSnapshotBeforeUpdate(n.elementType===n.type?me:cn(n.type,me),st);j.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var V=n.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(re){et(n,n.return,re)}if(t=n.sibling,t!==null){t.return=n.return,he=t;break}he=n.return}return pe=mf,mf=!1,pe}function Ai(t,n,r){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&t)===t){var f=u.destroy;u.destroy=void 0,f!==void 0&&Vc(n,r,f)}u=u.next}while(u!==l)}}function oa(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&t)===t){var l=r.create;r.destroy=l()}r=r.next}while(r!==n)}}function Lc(t){var n=t.ref;if(n!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof n=="function"?n(t):n.current=t}}function gf(t){var n=t.alternate;n!==null&&(t.alternate=null,gf(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[Tn],delete n[yi],delete n[tc],delete n[Bg],delete n[Ug])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vf(t){return t.tag===5||t.tag===3||t.tag===4}function yf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qc(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Fo));else if(l!==4&&(t=t.child,t!==null))for(qc(t,n,r),t=t.sibling;t!==null;)qc(t,n,r),t=t.sibling}function zc(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(t=t.child,t!==null))for(zc(t,n,r),t=t.sibling;t!==null;)zc(t,n,r),t=t.sibling}var vt=null,un=!1;function ds(t,n,r){for(r=r.child;r!==null;)_f(t,n,r),r=r.sibling}function _f(t,n,r){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(_o,r)}catch{}switch(r.tag){case 5:Tt||Tr(r,n);case 6:var l=vt,u=un;vt=null,ds(t,n,r),vt=l,un=u,vt!==null&&(un?(t=vt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):vt.removeChild(r.stateNode));break;case 18:vt!==null&&(un?(t=vt,r=r.stateNode,t.nodeType===8?ec(t.parentNode,r):t.nodeType===1&&ec(t,r),ai(t)):ec(vt,r.stateNode));break;case 4:l=vt,u=un,vt=r.stateNode.containerInfo,un=!0,ds(t,n,r),vt=l,un=u;break;case 0:case 11:case 14:case 15:if(!Tt&&(l=r.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){u=l=l.next;do{var f=u,y=f.destroy;f=f.tag,y!==void 0&&((f&2)!==0||(f&4)!==0)&&Vc(r,n,y),u=u.next}while(u!==l)}ds(t,n,r);break;case 1:if(!Tt&&(Tr(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=r.memoizedProps,l.state=r.memoizedState,l.componentWillUnmount()}catch(N){et(r,n,N)}ds(t,n,r);break;case 21:ds(t,n,r);break;case 22:r.mode&1?(Tt=(l=Tt)||r.memoizedState!==null,ds(t,n,r),Tt=l):ds(t,n,r);break;default:ds(t,n,r)}}function wf(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new ov),n.forEach(function(l){var u=gv.bind(null,t,l);r.has(l)||(r.add(l),l.then(u,u))})}}function hn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var u=r[l];try{var f=t,y=n,N=y;e:for(;N!==null;){switch(N.tag){case 5:vt=N.stateNode,un=!1;break e;case 3:vt=N.stateNode.containerInfo,un=!0;break e;case 4:vt=N.stateNode.containerInfo,un=!0;break e}N=N.return}if(vt===null)throw Error(s(160));_f(f,y,u),vt=null,un=!1;var A=u.alternate;A!==null&&(A.return=null),u.return=null}catch(z){et(u,n,z)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)kf(n,t),n=n.sibling}function kf(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(hn(n,t),En(t),l&4){try{Ai(3,t,t.return),oa(3,t)}catch(me){et(t,t.return,me)}try{Ai(5,t,t.return)}catch(me){et(t,t.return,me)}}break;case 1:hn(n,t),En(t),l&512&&r!==null&&Tr(r,r.return);break;case 5:if(hn(n,t),En(t),l&512&&r!==null&&Tr(r,r.return),t.flags&32){var u=t.stateNode;try{Xr(u,"")}catch(me){et(t,t.return,me)}}if(l&4&&(u=t.stateNode,u!=null)){var f=t.memoizedProps,y=r!==null?r.memoizedProps:f,N=t.type,A=t.updateQueue;if(t.updateQueue=null,A!==null)try{N==="input"&&f.type==="radio"&&f.name!=null&&_e(u,f),yl(N,y);var z=yl(N,f);for(y=0;y<A.length;y+=2){var J=A[y],ee=A[y+1];J==="style"?nh(u,ee):J==="dangerouslySetInnerHTML"?eh(u,ee):J==="children"?Xr(u,ee):L(u,J,ee,z)}switch(N){case"input":Xe(u,f);break;case"textarea":sr(u,f);break;case"select":var K=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!f.multiple;var ue=f.value;ue!=null?lt(u,!!f.multiple,ue,!1):K!==!!f.multiple&&(f.defaultValue!=null?lt(u,!!f.multiple,f.defaultValue,!0):lt(u,!!f.multiple,f.multiple?[]:"",!1))}u[yi]=f}catch(me){et(t,t.return,me)}}break;case 6:if(hn(n,t),En(t),l&4){if(t.stateNode===null)throw Error(s(162));u=t.stateNode,f=t.memoizedProps;try{u.nodeValue=f}catch(me){et(t,t.return,me)}}break;case 3:if(hn(n,t),En(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{ai(n.containerInfo)}catch(me){et(t,t.return,me)}break;case 4:hn(n,t),En(t);break;case 13:hn(n,t),En(t),u=t.child,u.flags&8192&&(f=u.memoizedState!==null,u.stateNode.isHidden=f,!f||u.alternate!==null&&u.alternate.memoizedState!==null||(Uc=nt())),l&4&&wf(t);break;case 22:if(J=r!==null&&r.memoizedState!==null,t.mode&1?(Tt=(z=Tt)||J,hn(n,t),Tt=z):hn(n,t),En(t),l&8192){if(z=t.memoizedState!==null,(t.stateNode.isHidden=z)&&!J&&(t.mode&1)!==0)for(he=t,J=t.child;J!==null;){for(ee=he=J;he!==null;){switch(K=he,ue=K.child,K.tag){case 0:case 11:case 14:case 15:Ai(4,K,K.return);break;case 1:Tr(K,K.return);var pe=K.stateNode;if(typeof pe.componentWillUnmount=="function"){l=K,r=K.return;try{n=l,pe.props=n.memoizedProps,pe.state=n.memoizedState,pe.componentWillUnmount()}catch(me){et(l,r,me)}}break;case 5:Tr(K,K.return);break;case 22:if(K.memoizedState!==null){Tf(ee);continue}}ue!==null?(ue.return=K,he=ue):Tf(ee)}J=J.sibling}e:for(J=null,ee=t;;){if(ee.tag===5){if(J===null){J=ee;try{u=ee.stateNode,z?(f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(N=ee.stateNode,A=ee.memoizedProps.style,y=A!=null&&A.hasOwnProperty("display")?A.display:null,N.style.display=th("display",y))}catch(me){et(t,t.return,me)}}}else if(ee.tag===6){if(J===null)try{ee.stateNode.nodeValue=z?"":ee.memoizedProps}catch(me){et(t,t.return,me)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===t)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===t)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===t)break e;J===ee&&(J=null),ee=ee.return}J===ee&&(J=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:hn(n,t),En(t),l&4&&wf(t);break;case 21:break;default:hn(n,t),En(t)}}function En(t){var n=t.flags;if(n&2){try{e:{for(var r=t.return;r!==null;){if(vf(r)){var l=r;break e}r=r.return}throw Error(s(160))}switch(l.tag){case 5:var u=l.stateNode;l.flags&32&&(Xr(u,""),l.flags&=-33);var f=yf(t);zc(t,f,u);break;case 3:case 4:var y=l.stateNode.containerInfo,N=yf(t);qc(t,N,y);break;default:throw Error(s(161))}}catch(A){et(t,t.return,A)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function lv(t,n,r){he=t,xf(t)}function xf(t,n,r){for(var l=(t.mode&1)!==0;he!==null;){var u=he,f=u.child;if(u.tag===22&&l){var y=u.memoizedState!==null||ia;if(!y){var N=u.alternate,A=N!==null&&N.memoizedState!==null||Tt;N=ia;var z=Tt;if(ia=y,(Tt=A)&&!z)for(he=u;he!==null;)y=he,A=y.child,y.tag===22&&y.memoizedState!==null?Cf(u):A!==null?(A.return=y,he=A):Cf(u);for(;f!==null;)he=f,xf(f),f=f.sibling;he=u,ia=N,Tt=z}Sf(t)}else(u.subtreeFlags&8772)!==0&&f!==null?(f.return=u,he=f):Sf(t)}}function Sf(t){for(;he!==null;){var n=he;if((n.flags&8772)!==0){var r=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Tt||oa(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!Tt)if(r===null)l.componentDidMount();else{var u=n.elementType===n.type?r.memoizedProps:cn(n.type,r.memoizedProps);l.componentDidUpdate(u,r.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&Sd(n,f,l);break;case 3:var y=n.updateQueue;if(y!==null){if(r=null,n.child!==null)switch(n.child.tag){case 5:r=n.child.stateNode;break;case 1:r=n.child.stateNode}Sd(n,y,r)}break;case 5:var N=n.stateNode;if(r===null&&n.flags&4){r=N;var A=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&r.focus();break;case"img":A.src&&(r.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var z=n.alternate;if(z!==null){var J=z.memoizedState;if(J!==null){var ee=J.dehydrated;ee!==null&&ai(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Tt||n.flags&512&&Lc(n)}catch(K){et(n,n.return,K)}}if(n===t){he=null;break}if(r=n.sibling,r!==null){r.return=n.return,he=r;break}he=n.return}}function Tf(t){for(;he!==null;){var n=he;if(n===t){he=null;break}var r=n.sibling;if(r!==null){r.return=n.return,he=r;break}he=n.return}}function Cf(t){for(;he!==null;){var n=he;try{switch(n.tag){case 0:case 11:case 15:var r=n.return;try{oa(4,n)}catch(A){et(n,r,A)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var u=n.return;try{l.componentDidMount()}catch(A){et(n,u,A)}}var f=n.return;try{Lc(n)}catch(A){et(n,f,A)}break;case 5:var y=n.return;try{Lc(n)}catch(A){et(n,y,A)}}}catch(A){et(n,n.return,A)}if(n===t){he=null;break}var N=n.sibling;if(N!==null){N.return=n.return,he=N;break}he=n.return}}var cv=Math.ceil,aa=F.ReactCurrentDispatcher,Wc=F.ReactCurrentOwner,tn=F.ReactCurrentBatchConfig,Ie=0,pt=null,at=null,yt=0,Gt=0,Cr=as(0),ut=0,bi=null,js=0,la=0,Bc=0,Di=null,Pt=null,Uc=0,Nr=1/0,zn=null,ca=!1,$c=null,fs=null,ua=!1,ps=null,ha=0,Ii=0,Hc=null,da=-1,fa=0;function Et(){return(Ie&6)!==0?nt():da!==-1?da:da=nt()}function ms(t){return(t.mode&1)===0?1:(Ie&2)!==0&&yt!==0?yt&-yt:Hg.transition!==null?(fa===0&&(fa=vh()),fa):(t=je,t!==0||(t=window.event,t=t===void 0?16:Nh(t.type)),t)}function dn(t,n,r,l){if(50<Ii)throw Ii=0,Hc=null,Error(s(185));ni(t,r,l),((Ie&2)===0||t!==pt)&&(t===pt&&((Ie&2)===0&&(la|=r),ut===4&&gs(t,yt)),jt(t,l),r===1&&Ie===0&&(n.mode&1)===0&&(Nr=nt()+500,zo&&cs()))}function jt(t,n){var r=t.callbackNode;Hm(t,n);var l=xo(t,t===pt?yt:0);if(l===0)r!==null&&ph(r),t.callbackNode=null,t.callbackPriority=0;else if(n=l&-l,t.callbackPriority!==n){if(r!=null&&ph(r),n===1)t.tag===0?$g(Ef.bind(null,t)):hd(Ef.bind(null,t)),zg(function(){(Ie&6)===0&&cs()}),r=null;else{switch(yh(l)){case 1:r=Cl;break;case 4:r=mh;break;case 16:r=yo;break;case 536870912:r=gh;break;default:r=yo}r=Pf(r,Nf.bind(null,t))}t.callbackPriority=n,t.callbackNode=r}}function Nf(t,n){if(da=-1,fa=0,(Ie&6)!==0)throw Error(s(327));var r=t.callbackNode;if(Er()&&t.callbackNode!==r)return null;var l=xo(t,t===pt?yt:0);if(l===0)return null;if((l&30)!==0||(l&t.expiredLanes)!==0||n)n=pa(t,l);else{n=l;var u=Ie;Ie|=2;var f=Af();(pt!==t||yt!==n)&&(zn=null,Nr=nt()+500,Vs(t,n));do try{dv();break}catch(N){Mf(t,N)}while(!0);uc(),aa.current=f,Ie=u,at!==null?n=0:(pt=null,yt=0,n=ut)}if(n!==0){if(n===2&&(u=Nl(t),u!==0&&(l=u,n=Gc(t,u))),n===1)throw r=bi,Vs(t,0),gs(t,l),jt(t,nt()),r;if(n===6)gs(t,l);else{if(u=t.current.alternate,(l&30)===0&&!uv(u)&&(n=pa(t,l),n===2&&(f=Nl(t),f!==0&&(l=f,n=Gc(t,f))),n===1))throw r=bi,Vs(t,0),gs(t,l),jt(t,nt()),r;switch(t.finishedWork=u,t.finishedLanes=l,n){case 0:case 1:throw Error(s(345));case 2:Ls(t,Pt,zn);break;case 3:if(gs(t,l),(l&130023424)===l&&(n=Uc+500-nt(),10<n)){if(xo(t,0)!==0)break;if(u=t.suspendedLanes,(u&l)!==l){Et(),t.pingedLanes|=t.suspendedLanes&u;break}t.timeoutHandle=Jl(Ls.bind(null,t,Pt,zn),n);break}Ls(t,Pt,zn);break;case 4:if(gs(t,l),(l&4194240)===l)break;for(n=t.eventTimes,u=-1;0<l;){var y=31-on(l);f=1<<y,y=n[y],y>u&&(u=y),l&=~f}if(l=u,l=nt()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*cv(l/1960))-l,10<l){t.timeoutHandle=Jl(Ls.bind(null,t,Pt,zn),l);break}Ls(t,Pt,zn);break;case 5:Ls(t,Pt,zn);break;default:throw Error(s(329))}}}return jt(t,nt()),t.callbackNode===r?Nf.bind(null,t):null}function Gc(t,n){var r=Di;return t.current.memoizedState.isDehydrated&&(Vs(t,n).flags|=256),t=pa(t,n),t!==2&&(n=Pt,Pt=r,n!==null&&Qc(n)),t}function Qc(t){Pt===null?Pt=t:Pt.push.apply(Pt,t)}function uv(t){for(var n=t;;){if(n.flags&16384){var r=n.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var l=0;l<r.length;l++){var u=r[l],f=u.getSnapshot;u=u.value;try{if(!an(f(),u))return!1}catch{return!1}}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function gs(t,n){for(n&=~Bc,n&=~la,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var r=31-on(n),l=1<<r;t[r]=-1,n&=~l}}function Ef(t){if((Ie&6)!==0)throw Error(s(327));Er();var n=xo(t,0);if((n&1)===0)return jt(t,nt()),null;var r=pa(t,n);if(t.tag!==0&&r===2){var l=Nl(t);l!==0&&(n=l,r=Gc(t,l))}if(r===1)throw r=bi,Vs(t,0),gs(t,n),jt(t,nt()),r;if(r===6)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,Ls(t,Pt,zn),jt(t,nt()),null}function Yc(t,n){var r=Ie;Ie|=1;try{return t(n)}finally{Ie=r,Ie===0&&(Nr=nt()+500,zo&&cs())}}function Fs(t){ps!==null&&ps.tag===0&&(Ie&6)===0&&Er();var n=Ie;Ie|=1;var r=tn.transition,l=je;try{if(tn.transition=null,je=1,t)return t()}finally{je=l,tn.transition=r,Ie=n,(Ie&6)===0&&cs()}}function Xc(){Gt=Cr.current,Ue(Cr)}function Vs(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,qg(r)),at!==null)for(r=at.return;r!==null;){var l=r;switch(ic(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Lo();break;case 3:xr(),Ue(It),Ue(kt),yc();break;case 5:gc(l);break;case 4:xr();break;case 13:Ue(Ze);break;case 19:Ue(Ze);break;case 10:hc(l.type._context);break;case 22:case 23:Xc()}r=r.return}if(pt=t,at=t=vs(t.current,null),yt=Gt=n,ut=0,bi=null,Bc=la=js=0,Pt=Di=null,Os!==null){for(n=0;n<Os.length;n++)if(r=Os[n],l=r.interleaved,l!==null){r.interleaved=null;var u=l.next,f=r.pending;if(f!==null){var y=f.next;f.next=u,l.next=y}r.pending=l}Os=null}return t}function Mf(t,n){do{var r=at;try{if(uc(),Zo.current=ta,Ko){for(var l=Ke.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}Ko=!1}if(Ps=0,ft=ct=Ke=null,Ti=!1,Ci=0,Wc.current=null,r===null||r.return===null){ut=1,bi=n,at=null;break}e:{var f=t,y=r.return,N=r,A=n;if(n=yt,N.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var z=A,J=N,ee=J.tag;if((J.mode&1)===0&&(ee===0||ee===11||ee===15)){var K=J.alternate;K?(J.updateQueue=K.updateQueue,J.memoizedState=K.memoizedState,J.lanes=K.lanes):(J.updateQueue=null,J.memoizedState=null)}var ue=Kd(y);if(ue!==null){ue.flags&=-257,Jd(ue,y,N,f,n),ue.mode&1&&Zd(f,z,n),n=ue,A=z;var pe=n.updateQueue;if(pe===null){var me=new Set;me.add(A),n.updateQueue=me}else pe.add(A);break e}else{if((n&1)===0){Zd(f,z,n),Zc();break e}A=Error(s(426))}}else if(Ge&&N.mode&1){var st=Kd(y);if(st!==null){(st.flags&65536)===0&&(st.flags|=256),Jd(st,y,N,f,n),lc(Sr(A,N));break e}}f=A=Sr(A,N),ut!==4&&(ut=2),Di===null?Di=[f]:Di.push(f),f=y;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var j=Yd(f,A,n);xd(f,j);break e;case 1:N=A;var O=f.type,V=f.stateNode;if((f.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(fs===null||!fs.has(V)))){f.flags|=65536,n&=-n,f.lanes|=n;var re=Xd(f,N,n);xd(f,re);break e}}f=f.return}while(f!==null)}Df(r)}catch(ge){n=ge,at===r&&r!==null&&(at=r=r.return);continue}break}while(!0)}function Af(){var t=aa.current;return aa.current=ta,t===null?ta:t}function Zc(){(ut===0||ut===3||ut===2)&&(ut=4),pt===null||(js&268435455)===0&&(la&268435455)===0||gs(pt,yt)}function pa(t,n){var r=Ie;Ie|=2;var l=Af();(pt!==t||yt!==n)&&(zn=null,Vs(t,n));do try{hv();break}catch(u){Mf(t,u)}while(!0);if(uc(),Ie=r,aa.current=l,at!==null)throw Error(s(261));return pt=null,yt=0,ut}function hv(){for(;at!==null;)bf(at)}function dv(){for(;at!==null&&!Fm();)bf(at)}function bf(t){var n=Rf(t.alternate,t,Gt);t.memoizedProps=t.pendingProps,n===null?Df(t):at=n,Wc.current=null}function Df(t){var n=t;do{var r=n.alternate;if(t=n.return,(n.flags&32768)===0){if(r=rv(r,n,Gt),r!==null){at=r;return}}else{if(r=iv(r,n),r!==null){r.flags&=32767,at=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ut=6,at=null;return}}if(n=n.sibling,n!==null){at=n;return}at=n=t}while(n!==null);ut===0&&(ut=5)}function Ls(t,n,r){var l=je,u=tn.transition;try{tn.transition=null,je=1,fv(t,n,r,l)}finally{tn.transition=u,je=l}return null}function fv(t,n,r,l){do Er();while(ps!==null);if((Ie&6)!==0)throw Error(s(327));r=t.finishedWork;var u=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var f=r.lanes|r.childLanes;if(Gm(t,f),t===pt&&(at=pt=null,yt=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||ua||(ua=!0,Pf(yo,function(){return Er(),null})),f=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||f){f=tn.transition,tn.transition=null;var y=je;je=1;var N=Ie;Ie|=4,Wc.current=null,av(t,r),kf(r,t),Og(Zl),Co=!!Xl,Zl=Xl=null,t.current=r,lv(r),Vm(),Ie=N,je=y,tn.transition=f}else t.current=r;if(ua&&(ua=!1,ps=t,ha=u),f=t.pendingLanes,f===0&&(fs=null),zm(r.stateNode),jt(t,nt()),n!==null)for(l=t.onRecoverableError,r=0;r<n.length;r++)u=n[r],l(u.value,{componentStack:u.stack,digest:u.digest});if(ca)throw ca=!1,t=$c,$c=null,t;return(ha&1)!==0&&t.tag!==0&&Er(),f=t.pendingLanes,(f&1)!==0?t===Hc?Ii++:(Ii=0,Hc=t):Ii=0,cs(),null}function Er(){if(ps!==null){var t=yh(ha),n=tn.transition,r=je;try{if(tn.transition=null,je=16>t?16:t,ps===null)var l=!1;else{if(t=ps,ps=null,ha=0,(Ie&6)!==0)throw Error(s(331));var u=Ie;for(Ie|=4,he=t.current;he!==null;){var f=he,y=f.child;if((he.flags&16)!==0){var N=f.deletions;if(N!==null){for(var A=0;A<N.length;A++){var z=N[A];for(he=z;he!==null;){var J=he;switch(J.tag){case 0:case 11:case 15:Ai(8,J,f)}var ee=J.child;if(ee!==null)ee.return=J,he=ee;else for(;he!==null;){J=he;var K=J.sibling,ue=J.return;if(gf(J),J===z){he=null;break}if(K!==null){K.return=ue,he=K;break}he=ue}}}var pe=f.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var st=me.sibling;me.sibling=null,me=st}while(me!==null)}}he=f}}if((f.subtreeFlags&2064)!==0&&y!==null)y.return=f,he=y;else e:for(;he!==null;){if(f=he,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:Ai(9,f,f.return)}var j=f.sibling;if(j!==null){j.return=f.return,he=j;break e}he=f.return}}var O=t.current;for(he=O;he!==null;){y=he;var V=y.child;if((y.subtreeFlags&2064)!==0&&V!==null)V.return=y,he=V;else e:for(y=O;he!==null;){if(N=he,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:oa(9,N)}}catch(ge){et(N,N.return,ge)}if(N===y){he=null;break e}var re=N.sibling;if(re!==null){re.return=N.return,he=re;break e}he=N.return}}if(Ie=u,cs(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(_o,t)}catch{}l=!0}return l}finally{je=r,tn.transition=n}}return!1}function If(t,n,r){n=Sr(r,n),n=Yd(t,n,1),t=hs(t,n,1),n=Et(),t!==null&&(ni(t,1,n),jt(t,n))}function et(t,n,r){if(t.tag===3)If(t,t,r);else for(;n!==null;){if(n.tag===3){If(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fs===null||!fs.has(l))){t=Sr(r,t),t=Xd(n,t,1),n=hs(n,t,1),t=Et(),n!==null&&(ni(n,1,t),jt(n,t));break}}n=n.return}}function pv(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),n=Et(),t.pingedLanes|=t.suspendedLanes&r,pt===t&&(yt&r)===r&&(ut===4||ut===3&&(yt&130023424)===yt&&500>nt()-Uc?Vs(t,0):Bc|=r),jt(t,n)}function Of(t,n){n===0&&((t.mode&1)===0?n=1:(n=ko,ko<<=1,(ko&130023424)===0&&(ko=4194304)));var r=Et();t=Vn(t,n),t!==null&&(ni(t,n,r),jt(t,r))}function mv(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Of(t,r)}function gv(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,u=t.memoizedState;u!==null&&(r=u.retryLane);break;case 19:l=t.stateNode;break;default:throw Error(s(314))}l!==null&&l.delete(n),Of(t,r)}var Rf;Rf=function(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps||It.current)Rt=!0;else{if((t.lanes&r)===0&&(n.flags&128)===0)return Rt=!1,sv(t,n,r);Rt=(t.flags&131072)!==0}else Rt=!1,Ge&&(n.flags&1048576)!==0&&dd(n,Bo,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;ra(t,n),t=n.pendingProps;var u=mr(n,kt.current);kr(n,r),u=kc(null,n,l,t,u,r);var f=xc();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Ot(l)?(f=!0,qo(n)):f=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,pc(n),u.updater=na,n.stateNode=u,u._reactInternals=n,Mc(n,l,t,r),n=Ic(null,n,l,!0,f,r)):(n.tag=0,Ge&&f&&rc(n),Nt(null,n,u,r),n=n.child),n;case 16:l=n.elementType;e:{switch(ra(t,n),t=n.pendingProps,u=l._init,l=u(l._payload),n.type=l,u=n.tag=yv(l),t=cn(l,t),u){case 0:n=Dc(null,n,l,t,r);break e;case 1:n=of(null,n,l,t,r);break e;case 11:n=ef(null,n,l,t,r);break e;case 14:n=tf(null,n,l,cn(l.type,t),r);break e}throw Error(s(306,l,""))}return n;case 0:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:cn(l,u),Dc(t,n,l,u,r);case 1:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:cn(l,u),of(t,n,l,u,r);case 3:e:{if(af(n),t===null)throw Error(s(387));l=n.pendingProps,f=n.memoizedState,u=f.element,kd(t,n),Yo(n,l,null,r);var y=n.memoizedState;if(l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){u=Sr(Error(s(423)),n),n=lf(t,n,l,r,u);break e}else if(l!==u){u=Sr(Error(s(424)),n),n=lf(t,n,l,r,u);break e}else for(Ht=os(n.stateNode.containerInfo.firstChild),$t=n,Ge=!0,ln=null,r=_d(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(yr(),l===u){n=qn(t,n,r);break e}Nt(t,n,l,r)}n=n.child}return n;case 5:return Td(n),t===null&&ac(n),l=n.type,u=n.pendingProps,f=t!==null?t.memoizedProps:null,y=u.children,Kl(l,u)?y=null:f!==null&&Kl(l,f)&&(n.flags|=32),rf(t,n),Nt(t,n,y,r),n.child;case 6:return t===null&&ac(n),null;case 13:return cf(t,n,r);case 4:return mc(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=_r(n,null,l,r):Nt(t,n,l,r),n.child;case 11:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:cn(l,u),ef(t,n,l,u,r);case 7:return Nt(t,n,n.pendingProps,r),n.child;case 8:return Nt(t,n,n.pendingProps.children,r),n.child;case 12:return Nt(t,n,n.pendingProps.children,r),n.child;case 10:e:{if(l=n.type._context,u=n.pendingProps,f=n.memoizedProps,y=u.value,ze(Ho,l._currentValue),l._currentValue=y,f!==null)if(an(f.value,y)){if(f.children===u.children&&!It.current){n=qn(t,n,r);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var N=f.dependencies;if(N!==null){y=f.child;for(var A=N.firstContext;A!==null;){if(A.context===l){if(f.tag===1){A=Ln(-1,r&-r),A.tag=2;var z=f.updateQueue;if(z!==null){z=z.shared;var J=z.pending;J===null?A.next=A:(A.next=J.next,J.next=A),z.pending=A}}f.lanes|=r,A=f.alternate,A!==null&&(A.lanes|=r),dc(f.return,r,n),N.lanes|=r;break}A=A.next}}else if(f.tag===10)y=f.type===n.type?null:f.child;else if(f.tag===18){if(y=f.return,y===null)throw Error(s(341));y.lanes|=r,N=y.alternate,N!==null&&(N.lanes|=r),dc(y,r,n),y=f.sibling}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===n){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}Nt(t,n,u.children,r),n=n.child}return n;case 9:return u=n.type,l=n.pendingProps.children,kr(n,r),u=Jt(u),l=l(u),n.flags|=1,Nt(t,n,l,r),n.child;case 14:return l=n.type,u=cn(l,n.pendingProps),u=cn(l.type,u),tf(t,n,l,u,r);case 15:return nf(t,n,n.type,n.pendingProps,r);case 17:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:cn(l,u),ra(t,n),n.tag=1,Ot(l)?(t=!0,qo(n)):t=!1,kr(n,r),Gd(n,l,u),Mc(n,l,u,r),Ic(null,n,l,!0,t,r);case 19:return hf(t,n,r);case 22:return sf(t,n,r)}throw Error(s(156,n.tag))};function Pf(t,n){return fh(t,n)}function vv(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,n,r,l){return new vv(t,n,r,l)}function Kc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yv(t){if(typeof t=="function")return Kc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===U)return 11;if(t===le)return 14}return 2}function vs(t,n){var r=t.alternate;return r===null?(r=nn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ma(t,n,r,l,u,f){var y=2;if(l=t,typeof t=="function")Kc(t)&&(y=1);else if(typeof t=="string")y=5;else e:switch(t){case I:return qs(r.children,u,f,n);case D:y=8,u|=8;break;case B:return t=nn(12,r,n,u|2),t.elementType=B,t.lanes=f,t;case X:return t=nn(13,r,n,u),t.elementType=X,t.lanes=f,t;case se:return t=nn(19,r,n,u),t.elementType=se,t.lanes=f,t;case ie:return ga(r,u,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:y=10;break e;case $:y=9;break e;case U:y=11;break e;case le:y=14;break e;case te:y=16,l=null;break e}throw Error(s(130,t==null?t:typeof t,""))}return n=nn(y,r,n,u),n.elementType=t,n.type=l,n.lanes=f,n}function qs(t,n,r,l){return t=nn(7,t,l,n),t.lanes=r,t}function ga(t,n,r,l){return t=nn(22,t,l,n),t.elementType=ie,t.lanes=r,t.stateNode={isHidden:!1},t}function Jc(t,n,r){return t=nn(6,t,null,n),t.lanes=r,t}function eu(t,n,r){return n=nn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function _v(t,n,r,l,u){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=El(0),this.expirationTimes=El(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=El(0),this.identifierPrefix=l,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function tu(t,n,r,l,u,f,y,N,A){return t=new _v(t,n,r,N,A),n===1?(n=1,f===!0&&(n|=8)):n=0,f=nn(3,null,null,n),t.current=f,f.stateNode=t,f.memoizedState={element:l,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},pc(f),t}function wv(t,n,r){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b,key:l==null?null:""+l,children:t,containerInfo:n,implementation:r}}function jf(t){if(!t)return ls;t=t._reactInternals;e:{if(Ms(t)!==t||t.tag!==1)throw Error(s(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Ot(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(s(171))}if(t.tag===1){var r=t.type;if(Ot(r))return cd(t,r,n)}return n}function Ff(t,n,r,l,u,f,y,N,A){return t=tu(r,l,!0,t,u,f,y,N,A),t.context=jf(null),r=t.current,l=Et(),u=ms(r),f=Ln(l,u),f.callback=n??null,hs(r,f,u),t.current.lanes=u,ni(t,u,l),jt(t,l),t}function va(t,n,r,l){var u=n.current,f=Et(),y=ms(u);return r=jf(r),n.context===null?n.context=r:n.pendingContext=r,n=Ln(f,y),n.payload={element:t},l=l===void 0?null:l,l!==null&&(n.callback=l),t=hs(u,n,y),t!==null&&(dn(t,u,y,f),Qo(t,u,y)),y}function ya(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vf(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function nu(t,n){Vf(t,n),(t=t.alternate)&&Vf(t,n)}function kv(){return null}var Lf=typeof reportError=="function"?reportError:function(t){console.error(t)};function su(t){this._internalRoot=t}_a.prototype.render=su.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));va(t,n,null,null)},_a.prototype.unmount=su.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Fs(function(){va(null,t,null,null)}),n[Rn]=null}};function _a(t){this._internalRoot=t}_a.prototype.unstable_scheduleHydration=function(t){if(t){var n=kh();t={blockedOn:null,target:t,priority:n};for(var r=0;r<ss.length&&n!==0&&n<ss[r].priority;r++);ss.splice(r,0,t),r===0&&Th(t)}};function ru(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qf(){}function xv(t,n,r,l,u){if(u){if(typeof l=="function"){var f=l;l=function(){var z=ya(y);f.call(z)}}var y=Ff(n,l,t,0,null,!1,!1,"",qf);return t._reactRootContainer=y,t[Rn]=y.current,gi(t.nodeType===8?t.parentNode:t),Fs(),y}for(;u=t.lastChild;)t.removeChild(u);if(typeof l=="function"){var N=l;l=function(){var z=ya(A);N.call(z)}}var A=tu(t,0,!1,null,null,!1,!1,"",qf);return t._reactRootContainer=A,t[Rn]=A.current,gi(t.nodeType===8?t.parentNode:t),Fs(function(){va(n,A,r,l)}),A}function ka(t,n,r,l,u){var f=r._reactRootContainer;if(f){var y=f;if(typeof u=="function"){var N=u;u=function(){var A=ya(y);N.call(A)}}va(n,y,t,u)}else y=xv(r,n,t,u,l);return ya(y)}_h=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var r=ti(n.pendingLanes);r!==0&&(Ml(n,r|1),jt(n,nt()),(Ie&6)===0&&(Nr=nt()+500,cs()))}break;case 13:Fs(function(){var l=Vn(t,1);if(l!==null){var u=Et();dn(l,t,1,u)}}),nu(t,1)}},Al=function(t){if(t.tag===13){var n=Vn(t,134217728);if(n!==null){var r=Et();dn(n,t,134217728,r)}nu(t,134217728)}},wh=function(t){if(t.tag===13){var n=ms(t),r=Vn(t,n);if(r!==null){var l=Et();dn(r,t,n,l)}nu(t,n)}},kh=function(){return je},xh=function(t,n){var r=je;try{return je=t,n()}finally{je=r}},kl=function(t,n,r){switch(n){case"input":if(Xe(t,r),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var u=Vo(l);if(!u)throw Error(s(90));On(l),Xe(l,u)}}}break;case"textarea":sr(t,r);break;case"select":n=r.value,n!=null&&lt(t,!!r.multiple,n,!1)}},oh=Yc,ah=Fs;var Sv={usingClientEntryPoint:!1,Events:[_i,fr,Vo,rh,ih,Yc]},Oi={findFiberByHostInstance:As,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Tv={bundleType:Oi.bundleType,version:Oi.version,rendererPackageName:Oi.rendererPackageName,rendererConfig:Oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hh(t),t===null?null:t.stateNode},findFiberByHostInstance:Oi.findFiberByHostInstance||kv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xa.isDisabled&&xa.supportsFiber)try{_o=xa.inject(Tv),Sn=xa}catch{}}return Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sv,Ft.createPortal=function(t,n){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ru(n))throw Error(s(200));return wv(t,n,null,r)},Ft.createRoot=function(t,n){if(!ru(t))throw Error(s(299));var r=!1,l="",u=Lf;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=tu(t,1,!1,null,null,r,!1,l,u),t[Rn]=n.current,gi(t.nodeType===8?t.parentNode:t),new su(n)},Ft.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=hh(n),t=t===null?null:t.stateNode,t},Ft.flushSync=function(t){return Fs(t)},Ft.hydrate=function(t,n,r){if(!wa(n))throw Error(s(200));return ka(null,t,n,!0,r)},Ft.hydrateRoot=function(t,n,r){if(!ru(t))throw Error(s(405));var l=r!=null&&r.hydratedSources||null,u=!1,f="",y=Lf;if(r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onRecoverableError!==void 0&&(y=r.onRecoverableError)),n=Ff(n,null,t,1,r??null,u,!1,f,y),t[Rn]=n.current,gi(t),l)for(t=0;t<l.length;t++)r=l[t],u=r._getVersion,u=u(r._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[r,u]:n.mutableSourceEagerHydrationData.push(r,u);return new _a(n)},Ft.render=function(t,n,r){if(!wa(n))throw Error(s(200));return ka(null,t,n,!1,r)},Ft.unmountComponentAtNode=function(t){if(!wa(t))throw Error(s(40));return t._reactRootContainer?(Fs(function(){ka(null,null,t,!1,function(){t._reactRootContainer=null,t[Rn]=null})}),!0):!1},Ft.unstable_batchedUpdates=Yc,Ft.unstable_renderSubtreeIntoContainer=function(t,n,r,l){if(!wa(r))throw Error(s(200));if(t==null||t._reactInternals===void 0)throw Error(s(38));return ka(t,n,r,!1,l)},Ft.version="18.3.1-next-f1338f8080-20240426",Ft}var Qf;function Iv(){if(Qf)return au.exports;Qf=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}return o(),au.exports=Dv(),au.exports}var Yf;function Ov(){if(Yf)return Sa;Yf=1;var o=Iv();return Sa.createRoot=o.createRoot,Sa.hydrateRoot=o.hydrateRoot,Sa}var Rv=Ov();const Sp="14.9.17",Xf=(o,e,s)=>({endTime:e,insertTime:s,type:"exponentialRampToValue",value:o}),Zf=(o,e,s)=>({endTime:e,insertTime:s,type:"linearRampToValue",value:o}),pu=(o,e)=>({startTime:e,type:"setValue",value:o}),Tp=(o,e,s)=>({duration:s,startTime:e,type:"setValueCurve",values:o}),Cp=(o,e,{startTime:s,target:i,timeConstant:a})=>i+(e-i)*Math.exp((s-o)/a),br=o=>o.type==="exponentialRampToValue",Da=o=>o.type==="linearRampToValue",ws=o=>br(o)||Da(o),Nu=o=>o.type==="setValue",Un=o=>o.type==="setValueCurve",Ia=(o,e,s,i)=>{const a=o[e];return a===void 0?i:ws(a)||Nu(a)?a.value:Un(a)?a.values[a.values.length-1]:Cp(s,Ia(o,e-1,a.startTime,i),a)},Kf=(o,e,s,i,a)=>s===void 0?[i.insertTime,a]:ws(s)?[s.endTime,s.value]:Nu(s)?[s.startTime,s.value]:Un(s)?[s.startTime+s.duration,s.values[s.values.length-1]]:[s.startTime,Ia(o,e-1,s.startTime,a)],mu=o=>o.type==="cancelAndHold",gu=o=>o.type==="cancelScheduledValues",_s=o=>mu(o)||gu(o)?o.cancelTime:br(o)||Da(o)?o.endTime:o.startTime,Jf=(o,e,s,{endTime:i,value:a})=>s===a?a:0<s&&0<a||s<0&&a<0?s*(a/s)**((o-e)/(i-e)):0,ep=(o,e,s,{endTime:i,value:a})=>s+(o-e)/(i-e)*(a-s),Pv=(o,e)=>{const s=Math.floor(e),i=Math.ceil(e);return s===i?o[s]:(1-(e-s))*o[s]+(1-(i-e))*o[i]},jv=(o,{duration:e,startTime:s,values:i})=>{const a=(o-s)/e*(i.length-1);return Pv(i,a)},Ta=o=>o.type==="setTarget";class Fv{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const s=_s(e);if(mu(e)||gu(e)){const i=this._automationEvents.findIndex(c=>gu(e)&&Un(c)?c.startTime+c.duration>=s:_s(c)>=s),a=this._automationEvents[i];if(i!==-1&&(this._automationEvents=this._automationEvents.slice(0,i)),mu(e)){const c=this._automationEvents[this._automationEvents.length-1];if(a!==void 0&&ws(a)){if(c!==void 0&&Ta(c))throw new Error("The internal list is malformed.");const h=c===void 0?a.insertTime:Un(c)?c.startTime+c.duration:_s(c),d=c===void 0?this._defaultValue:Un(c)?c.values[c.values.length-1]:c.value,p=br(a)?Jf(s,h,d,a):ep(s,h,d,a),m=br(a)?Xf(p,s,this._currenTime):Zf(p,s,this._currenTime);this._automationEvents.push(m)}if(c!==void 0&&Ta(c)&&this._automationEvents.push(pu(this.getValue(s),s)),c!==void 0&&Un(c)&&c.startTime+c.duration>s){const h=s-c.startTime,d=(c.values.length-1)/c.duration,p=Math.max(2,1+Math.ceil(h*d)),m=h/(p-1)*d,g=c.values.slice(0,p);if(m<1)for(let v=1;v<p;v+=1){const k=m*v%1;g[v]=c.values[v-1]*(1-k)+c.values[v]*k}this._automationEvents[this._automationEvents.length-1]=Tp(g,c.startTime,h)}}}else{const i=this._automationEvents.findIndex(h=>_s(h)>s),a=i===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[i-1];if(a!==void 0&&Un(a)&&_s(a)+a.duration>s)return!1;const c=br(e)?Xf(e.value,e.endTime,this._currenTime):Da(e)?Zf(e.value,s,this._currenTime):e;if(i===-1)this._automationEvents.push(c);else{if(Un(e)&&s+e.duration>_s(this._automationEvents[i]))return!1;this._automationEvents.splice(i,0,c)}}return!0}flush(e){const s=this._automationEvents.findIndex(i=>_s(i)>e);if(s>1){const i=this._automationEvents.slice(s-1),a=i[0];Ta(a)&&i.unshift(pu(Ia(this._automationEvents,s-2,a.startTime,this._defaultValue),a.startTime)),this._automationEvents=i}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const s=this._automationEvents.findIndex(h=>_s(h)>e),i=this._automationEvents[s],a=(s===-1?this._automationEvents.length:s)-1,c=this._automationEvents[a];if(c!==void 0&&Ta(c)&&(i===void 0||!ws(i)||i.insertTime>e))return Cp(e,Ia(this._automationEvents,a-1,c.startTime,this._defaultValue),c);if(c!==void 0&&Nu(c)&&(i===void 0||!ws(i)))return c.value;if(c!==void 0&&Un(c)&&(i===void 0||!ws(i)||c.startTime+c.duration>e))return e<c.startTime+c.duration?jv(e,c):c.values[c.values.length-1];if(c!==void 0&&ws(c)&&(i===void 0||!ws(i)))return c.value;if(i!==void 0&&br(i)){const[h,d]=Kf(this._automationEvents,a,c,i,this._defaultValue);return Jf(e,h,d,i)}if(i!==void 0&&Da(i)){const[h,d]=Kf(this._automationEvents,a,c,i,this._defaultValue);return ep(e,h,d,i)}return this._defaultValue}}const Vv=o=>({cancelTime:o,type:"cancelAndHold"}),Lv=o=>({cancelTime:o,type:"cancelScheduledValues"}),qv=(o,e)=>({endTime:e,type:"exponentialRampToValue",value:o}),zv=(o,e)=>({endTime:e,type:"linearRampToValue",value:o}),Wv=(o,e,s)=>({startTime:e,target:o,timeConstant:s,type:"setTarget"}),Bv=()=>new DOMException("","AbortError"),Uv=o=>(e,s,[i,a,c],h)=>{o(e[a],[s,i,c],d=>d[0]===s&&d[1]===i,h)},$v=o=>(e,s,i)=>{const a=[];for(let c=0;c<i.numberOfInputs;c+=1)a.push(new Set);o.set(e,{activeInputs:a,outputs:new Set,passiveInputs:new WeakMap,renderer:s})},Hv=o=>(e,s)=>{o.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:s})},Or=new WeakSet,Np=new WeakMap,Eu=new WeakMap,Ep=new WeakMap,Mu=new WeakMap,rl=new WeakMap,Mp=new WeakMap,vu=new WeakMap,yu=new WeakMap,_u=new WeakMap,Ap={construct(){return Ap}},Gv=o=>{try{const e=new Proxy(o,Ap);new e}catch{return!1}return!0},tp=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,np=(o,e)=>{const s=[];let i=o.replace(/^[\s]+/,""),a=i.match(tp);for(;a!==null;){const c=a[1].slice(1,-1),h=a[0].replace(/([\s]+)?;?$/,"").replace(c,new URL(c,e).toString());s.push(h),i=i.slice(a[0].length).replace(/^[\s]+/,""),a=i.match(tp)}return[s.join(";"),i]},sp=o=>{if(o!==void 0&&!Array.isArray(o))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},rp=o=>{if(!Gv(o))throw new TypeError("The given value for processorCtor should be a constructor.");if(o.prototype===null||typeof o.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},Qv=(o,e,s,i,a,c,h,d,p,m,g,v,k)=>{let S=0;return(w,T,_={credentials:"omit"})=>{const C=g.get(w);if(C!==void 0&&C.has(T))return Promise.resolve();const R=m.get(w);if(R!==void 0){const M=R.get(T);if(M!==void 0)return M}const L=c(w),F=L.audioWorklet===void 0?a(T).then(([M,b])=>{const[I,D]=np(M,b),B=`${I};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${D}
})})(window,'_AWGS')`;return s(B)}).then(()=>{const M=k._AWGS.pop();if(M===void 0)throw new SyntaxError;i(L.currentTime,L.sampleRate,()=>M(class{},void 0,(b,I)=>{if(b.trim()==="")throw e();const D=yu.get(L);if(D!==void 0){if(D.has(b))throw e();rp(I),sp(I.parameterDescriptors),D.set(b,I)}else rp(I),sp(I.parameterDescriptors),yu.set(L,new Map([[b,I]]))},L.sampleRate,void 0,void 0))}):Promise.all([a(T),Promise.resolve(o(v,v))]).then(([[M,b],I])=>{const D=S+1;S=D;const[B,W]=np(M,b),se=`${B};((AudioWorkletProcessor,registerProcessor)=>{${W}
})(${I?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${I?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${I?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${D}',class extends AudioWorkletProcessor{process(){return !1}})`,le=new Blob([se],{type:"application/javascript; charset=utf-8"}),te=URL.createObjectURL(le);return L.audioWorklet.addModule(te,_).then(()=>{if(d(L))return L;const ie=h(L);return ie.audioWorklet.addModule(te,_).then(()=>ie)}).then(ie=>{if(p===null)throw new SyntaxError;try{new p(ie,`__sac${D}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(te))});return R===void 0?m.set(w,new Map([[T,F]])):R.set(T,F),F.then(()=>{const M=g.get(w);M===void 0?g.set(w,new Set([T])):M.add(T)}).finally(()=>{const M=m.get(w);M!==void 0&&M.delete(T)}),F}},mn=(o,e)=>{const s=o.get(e);if(s===void 0)throw new Error("A value with the given key could not be found.");return s},il=(o,e)=>{const s=Array.from(o).filter(e);if(s.length>1)throw Error("More than one element was found.");if(s.length===0)throw Error("No element was found.");const[i]=s;return o.delete(i),i},bp=(o,e,s,i)=>{const a=mn(o,e),c=il(a,h=>h[0]===s&&h[1]===i);return a.size===0&&o.delete(e),c},to=o=>mn(Mp,o),Rr=o=>{if(Or.has(o))throw new Error("The AudioNode is already stored.");Or.add(o),to(o).forEach(e=>e(!0))},Dp=o=>"port"in o,no=o=>{if(!Or.has(o))throw new Error("The AudioNode is not stored.");Or.delete(o),to(o).forEach(e=>e(!1))},wu=(o,e)=>{!Dp(o)&&e.every(s=>s.size===0)&&no(o)},Yv=(o,e,s,i,a,c,h,d,p,m,g,v,k)=>{const S=new WeakMap;return(w,T,_,C,R)=>{const{activeInputs:L,passiveInputs:F}=c(T),{outputs:M}=c(w),b=d(w),I=D=>{const B=p(T),W=p(w);if(D){const $=bp(F,w,_,C);o(L,w,$,!1),!R&&!v(w)&&s(W,B,_,C),k(T)&&Rr(T)}else{const $=i(L,w,_,C);e(F,C,$,!1),!R&&!v(w)&&a(W,B,_,C);const U=h(T);if(U===0)g(T)&&wu(T,L);else{const X=S.get(T);X!==void 0&&clearTimeout(X),S.set(T,setTimeout(()=>{g(T)&&wu(T,L)},U*1e3))}}};return m(M,[T,_,C],D=>D[0]===T&&D[1]===_&&D[2]===C,!0)?(b.add(I),g(w)?o(L,w,[_,C,I],!0):e(F,C,[w,_,I],!0),!0):!1}},Xv=o=>(e,s,[i,a,c],h)=>{const d=e.get(i);d===void 0?e.set(i,new Set([[a,s,c]])):o(d,[a,s,c],p=>p[0]===a&&p[1]===s,h)},Zv=o=>(e,s)=>{const i=o(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.connect(i).connect(e.destination);const a=()=>{s.removeEventListener("ended",a),s.disconnect(i),i.disconnect()};s.addEventListener("ended",a)},Kv=o=>(e,s)=>{o(e).add(s)},Jv={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},ey=(o,e,s,i,a,c)=>class extends o{constructor(d,p){const m=a(d),g={...Jv,...p},v=i(m,g),k=c(m)?e():null;super(d,!1,v,k),this._nativeAnalyserNode=v}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(d){this._nativeAnalyserNode.fftSize=d}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(d){const p=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=d,!(d>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=p,s()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(d){const p=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=d,!(this._nativeAnalyserNode.maxDecibels>d))throw this._nativeAnalyserNode.minDecibels=p,s()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(d){this._nativeAnalyserNode.smoothingTimeConstant=d}getByteFrequencyData(d){this._nativeAnalyserNode.getByteFrequencyData(d)}getByteTimeDomainData(d){this._nativeAnalyserNode.getByteTimeDomainData(d)}getFloatFrequencyData(d){this._nativeAnalyserNode.getFloatFrequencyData(d)}getFloatTimeDomainData(d){this._nativeAnalyserNode.getFloatTimeDomainData(d)}},Ct=(o,e)=>o.context===e,ty=(o,e,s)=>()=>{const i=new WeakMap,a=async(c,h)=>{let d=e(c);if(!Ct(d,h)){const m={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,fftSize:d.fftSize,maxDecibels:d.maxDecibels,minDecibels:d.minDecibels,smoothingTimeConstant:d.smoothingTimeConstant};d=o(h,m)}return i.set(h,d),await s(c,h,d),d};return{render(c,h){const d=i.get(h);return d!==void 0?Promise.resolve(d):a(c,h)}}},Oa=o=>{try{o.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},bn=()=>new DOMException("","IndexSizeError"),Au=o=>{o.getChannelData=(e=>s=>{try{return e.call(o,s)}catch(i){throw i.code===12?bn():i}})(o.getChannelData)},ny={numberOfChannels:1},sy=(o,e,s,i,a,c,h,d)=>{let p=null;return class Ip{constructor(g){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:v,numberOfChannels:k,sampleRate:S}={...ny,...g};p===null&&(p=new a(1,1,44100));const w=i!==null&&e(c,c)?new i({length:v,numberOfChannels:k,sampleRate:S}):p.createBuffer(k,v,S);if(w.numberOfChannels===0)throw s();return typeof w.copyFromChannel!="function"?(h(w),Au(w)):e(Oa,()=>Oa(w))||d(w),o.add(w),w}static[Symbol.hasInstance](g){return g!==null&&typeof g=="object"&&Object.getPrototypeOf(g)===Ip.prototype||o.has(g)}}},Vt=-34028234663852886e22,Mt=-Vt,Hn=o=>Or.has(o),ry={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},iy=(o,e,s,i,a,c,h,d)=>class extends o{constructor(m,g){const v=c(m),k={...ry,...g},S=a(v,k),w=h(v),T=w?e():null;super(m,!1,S,T),this._audioBufferSourceNodeRenderer=T,this._isBufferNullified=!1,this._isBufferSet=k.buffer!==null,this._nativeAudioBufferSourceNode=S,this._onended=null,this._playbackRate=s(this,w,S.playbackRate,Mt,Vt)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(m){if(this._nativeAudioBufferSourceNode.buffer=m,m!==null){if(this._isBufferSet)throw i();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(m){this._nativeAudioBufferSourceNode.loop=m}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(m){this._nativeAudioBufferSourceNode.loopEnd=m}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(m){this._nativeAudioBufferSourceNode.loopStart=m}get onended(){return this._onended}set onended(m){const g=typeof m=="function"?d(this,m):null;this._nativeAudioBufferSourceNode.onended=g;const v=this._nativeAudioBufferSourceNode.onended;this._onended=v!==null&&v===g?m:v}get playbackRate(){return this._playbackRate}start(m=0,g=0,v){if(this._nativeAudioBufferSourceNode.start(m,g,v),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=v===void 0?[m,g]:[m,g,v]),this.context.state!=="closed"){Rr(this);const k=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",k),Hn(this)&&no(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",k)}}stop(m=0){this._nativeAudioBufferSourceNode.stop(m),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=m)}},oy=(o,e,s,i,a)=>()=>{const c=new WeakMap;let h=null,d=null;const p=async(m,g)=>{let v=s(m);const k=Ct(v,g);if(!k){const S={buffer:v.buffer,channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,loop:v.loop,loopEnd:v.loopEnd,loopStart:v.loopStart,playbackRate:v.playbackRate.value};v=e(g,S),h!==null&&v.start(...h),d!==null&&v.stop(d)}return c.set(g,v),k?await o(g,m.playbackRate,v.playbackRate):await i(g,m.playbackRate,v.playbackRate),await a(m,g,v),v};return{set start(m){h=m},set stop(m){d=m},render(m,g){const v=c.get(g);return v!==void 0?Promise.resolve(v):p(m,g)}}},ay=o=>"playbackRate"in o,ly=o=>"frequency"in o&&"gain"in o,cy=o=>"offset"in o,uy=o=>!("frequency"in o)&&"gain"in o,hy=o=>"detune"in o&&"frequency"in o&&!("gain"in o),dy=o=>"pan"in o,At=o=>mn(Np,o),so=o=>mn(Ep,o),ku=(o,e)=>{const{activeInputs:s}=At(o);s.forEach(a=>a.forEach(([c])=>{e.includes(o)||ku(c,[...e,o])}));const i=ay(o)?[o.playbackRate]:Dp(o)?Array.from(o.parameters.values()):ly(o)?[o.Q,o.detune,o.frequency,o.gain]:cy(o)?[o.offset]:uy(o)?[o.gain]:hy(o)?[o.detune,o.frequency]:dy(o)?[o.pan]:[];for(const a of i){const c=so(a);c!==void 0&&c.activeInputs.forEach(([h])=>ku(h,e))}Hn(o)&&no(o)},Op=o=>{ku(o.destination,[])},fy=o=>o===void 0||typeof o=="number"||typeof o=="string"&&(o==="balanced"||o==="interactive"||o==="playback"),py=(o,e,s,i,a,c,h,d,p)=>class extends o{constructor(g={}){if(p===null)throw new Error("Missing the native AudioContext constructor.");let v;try{v=new p(g)}catch(w){throw w.code===12&&w.message==="sampleRate is not in range"?s():w}if(v===null)throw i();if(!fy(g.latencyHint))throw new TypeError(`The provided value '${g.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(g.sampleRate!==void 0&&v.sampleRate!==g.sampleRate)throw s();super(v,2);const{latencyHint:k}=g,{sampleRate:S}=v;if(this._baseLatency=typeof v.baseLatency=="number"?v.baseLatency:k==="balanced"?512/S:k==="interactive"||k===void 0?256/S:k==="playback"?1024/S:Math.max(2,Math.min(128,Math.round(k*S/128)))*128/S,this._nativeAudioContext=v,p.name==="webkitAudioContext"?(this._nativeGainNode=v.createGain(),this._nativeOscillatorNode=v.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(v.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,v.state==="running"){this._state="suspended";const w=()=>{this._state==="suspended"&&(this._state=null),v.removeEventListener("statechange",w)};v.addEventListener("statechange",w)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Op(this)}))}createMediaElementSource(g){return new a(this,{mediaElement:g})}createMediaStreamDestination(){return new c(this)}createMediaStreamSource(g){return new h(this,{mediaStream:g})}createMediaStreamTrackSource(g){return new d(this,{mediaStreamTrack:g})}resume(){return this._state==="suspended"?new Promise((g,v)=>{const k=()=>{this._nativeAudioContext.removeEventListener("statechange",k),this._nativeAudioContext.state==="running"?g():this.resume().then(g,v)};this._nativeAudioContext.addEventListener("statechange",k)}):this._nativeAudioContext.resume().catch(g=>{throw g===void 0||g.code===15?e():g})}suspend(){return this._nativeAudioContext.suspend().catch(g=>{throw g===void 0?e():g})}},my=(o,e,s,i,a,c,h,d)=>class extends o{constructor(m,g){const v=c(m),k=h(v),S=a(v,g,k),w=k?e(d):null;super(m,!1,S,w),this._isNodeOfNativeOfflineAudioContext=k,this._nativeAudioDestinationNode=S}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(m){if(this._isNodeOfNativeOfflineAudioContext)throw i();if(m>this._nativeAudioDestinationNode.maxChannelCount)throw s();this._nativeAudioDestinationNode.channelCount=m}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(m){if(this._isNodeOfNativeOfflineAudioContext)throw i();this._nativeAudioDestinationNode.channelCountMode=m}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},gy=o=>{const e=new WeakMap,s=async(i,a)=>{const c=a.destination;return e.set(a,c),await o(i,a,c),c};return{render(i,a){const c=e.get(a);return c!==void 0?Promise.resolve(c):s(i,a)}}},vy=(o,e,s,i,a,c,h,d)=>(p,m)=>{const g=m.listener,v=()=>{const M=new Float32Array(1),b=e(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),I=h(m);let D=!1,B=[0,0,-1,0,1,0],W=[0,0,0];const $=()=>{if(D)return;D=!0;const le=i(m,256,9,0);le.onaudioprocess=({inputBuffer:te})=>{const ie=[c(te,M,0),c(te,M,1),c(te,M,2),c(te,M,3),c(te,M,4),c(te,M,5)];ie.some((Z,q)=>Z!==B[q])&&(g.setOrientation(...ie),B=ie);const G=[c(te,M,6),c(te,M,7),c(te,M,8)];G.some((Z,q)=>Z!==W[q])&&(g.setPosition(...G),W=G)},b.connect(le)},U=le=>te=>{te!==B[le]&&(B[le]=te,g.setOrientation(...B))},X=le=>te=>{te!==W[le]&&(W[le]=te,g.setPosition(...W))},se=(le,te,ie)=>{const G=s(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:te});G.connect(b,0,le),G.start(),Object.defineProperty(G.offset,"defaultValue",{get(){return te}});const Z=o({context:p},I,G.offset,Mt,Vt);return d(Z,"value",q=>()=>q.call(Z),q=>E=>{try{q.call(Z,E)}catch(P){if(P.code!==9)throw P}$(),I&&ie(E)}),Z.cancelAndHoldAtTime=(q=>I?()=>{throw a()}:(...E)=>{const P=q.apply(Z,E);return $(),P})(Z.cancelAndHoldAtTime),Z.cancelScheduledValues=(q=>I?()=>{throw a()}:(...E)=>{const P=q.apply(Z,E);return $(),P})(Z.cancelScheduledValues),Z.exponentialRampToValueAtTime=(q=>I?()=>{throw a()}:(...E)=>{const P=q.apply(Z,E);return $(),P})(Z.exponentialRampToValueAtTime),Z.linearRampToValueAtTime=(q=>I?()=>{throw a()}:(...E)=>{const P=q.apply(Z,E);return $(),P})(Z.linearRampToValueAtTime),Z.setTargetAtTime=(q=>I?()=>{throw a()}:(...E)=>{const P=q.apply(Z,E);return $(),P})(Z.setTargetAtTime),Z.setValueAtTime=(q=>I?()=>{throw a()}:(...E)=>{const P=q.apply(Z,E);return $(),P})(Z.setValueAtTime),Z.setValueCurveAtTime=(q=>I?()=>{throw a()}:(...E)=>{const P=q.apply(Z,E);return $(),P})(Z.setValueCurveAtTime),Z};return{forwardX:se(0,0,U(0)),forwardY:se(1,0,U(1)),forwardZ:se(2,-1,U(2)),positionX:se(6,0,X(0)),positionY:se(7,0,X(1)),positionZ:se(8,0,X(2)),upX:se(3,0,U(3)),upY:se(4,1,U(4)),upZ:se(5,0,U(5))}},{forwardX:k,forwardY:S,forwardZ:w,positionX:T,positionY:_,positionZ:C,upX:R,upY:L,upZ:F}=g.forwardX===void 0?v():g;return{get forwardX(){return k},get forwardY(){return S},get forwardZ(){return w},get positionX(){return T},get positionY(){return _},get positionZ(){return C},get upX(){return R},get upY(){return L},get upZ(){return F}}},Ra=o=>"context"in o,ro=o=>Ra(o[0]),Js=(o,e,s,i)=>{for(const a of o)if(s(a)){if(i)return!1;throw Error("The set contains at least one similar element.")}return o.add(e),!0},ip=(o,e,[s,i],a)=>{Js(o,[e,s,i],c=>c[0]===e&&c[1]===s,a)},op=(o,[e,s,i],a)=>{const c=o.get(e);c===void 0?o.set(e,new Set([[s,i]])):Js(c,[s,i],h=>h[0]===s,a)},Ur=o=>"inputs"in o,Pa=(o,e,s,i)=>{if(Ur(e)){const a=e.inputs[i];return o.connect(a,s,0),[a,s,0]}return o.connect(e,s,i),[e,s,i]},Rp=(o,e,s)=>{for(const i of o)if(i[0]===e&&i[1]===s)return o.delete(i),i;return null},yy=(o,e,s)=>il(o,i=>i[0]===e&&i[1]===s),Pp=(o,e)=>{if(!to(o).delete(e))throw new Error("Missing the expected event listener.")},jp=(o,e,s)=>{const i=mn(o,e),a=il(i,c=>c[0]===s);return i.size===0&&o.delete(e),a},ja=(o,e,s,i)=>{Ur(e)?o.disconnect(e.inputs[i],s,0):o.disconnect(e,s,i)},He=o=>mn(Eu,o),Fi=o=>mn(Mu,o),Gs=o=>vu.has(o),Aa=o=>!Or.has(o),ap=(o,e)=>new Promise(s=>{if(e!==null)s(!0);else{const i=o.createScriptProcessor(256,1,1),a=o.createGain(),c=o.createBuffer(1,2,44100),h=c.getChannelData(0);h[0]=1,h[1]=1;const d=o.createBufferSource();d.buffer=c,d.loop=!0,d.connect(i).connect(o.destination),d.connect(a),d.disconnect(a),i.onaudioprocess=p=>{const m=p.inputBuffer.getChannelData(0);Array.prototype.some.call(m,g=>g===1)?s(!0):s(!1),d.stop(),i.onaudioprocess=null,d.disconnect(i),i.disconnect(o.destination)},d.start()}}),uu=(o,e)=>{const s=new Map;for(const i of o)for(const a of i){const c=s.get(a);s.set(a,c===void 0?1:c+1)}s.forEach((i,a)=>e(a,i))},Fa=o=>"context"in o,_y=o=>{const e=new Map;o.connect=(s=>(i,a=0,c=0)=>{const h=Fa(i)?s(i,a,c):s(i,a),d=e.get(i);return d===void 0?e.set(i,[{input:c,output:a}]):d.every(p=>p.input!==c||p.output!==a)&&d.push({input:c,output:a}),h})(o.connect.bind(o)),o.disconnect=(s=>(i,a,c)=>{if(s.apply(o),i===void 0)e.clear();else if(typeof i=="number")for(const[h,d]of e){const p=d.filter(m=>m.output!==i);p.length===0?e.delete(h):e.set(h,p)}else if(e.has(i))if(a===void 0)e.delete(i);else{const h=e.get(i);if(h!==void 0){const d=h.filter(p=>p.output!==a&&(p.input!==c||c===void 0));d.length===0?e.delete(i):e.set(i,d)}}for(const[h,d]of e)d.forEach(p=>{Fa(h)?o.connect(h,p.output,p.input):o.connect(h,p.output)})})(o.disconnect)},wy=(o,e,s,i)=>{const{activeInputs:a,passiveInputs:c}=so(e),{outputs:h}=At(o),d=to(o),p=m=>{const g=He(o),v=Fi(e);if(m){const k=jp(c,o,s);ip(a,o,k,!1),!i&&!Gs(o)&&g.connect(v,s)}else{const k=yy(a,o,s);op(c,k,!1),!i&&!Gs(o)&&g.disconnect(v,s)}};return Js(h,[e,s],m=>m[0]===e&&m[1]===s,!0)?(d.add(p),Hn(o)?ip(a,o,[s,p],!0):op(c,[o,s,p],!0),!0):!1},ky=(o,e,s,i)=>{const{activeInputs:a,passiveInputs:c}=At(e),h=Rp(a[i],o,s);return h===null?[bp(c,o,s,i)[2],!1]:[h[2],!0]},xy=(o,e,s)=>{const{activeInputs:i,passiveInputs:a}=so(e),c=Rp(i,o,s);return c===null?[jp(a,o,s)[1],!1]:[c[2],!0]},bu=(o,e,s,i,a)=>{const[c,h]=ky(o,s,i,a);if(c!==null&&(Pp(o,c),h&&!e&&!Gs(o)&&ja(He(o),He(s),i,a)),Hn(s)){const{activeInputs:d}=At(s);wu(s,d)}},Du=(o,e,s,i)=>{const[a,c]=xy(o,s,i);a!==null&&(Pp(o,a),c&&!e&&!Gs(o)&&He(o).disconnect(Fi(s),i))},Sy=(o,e)=>{const s=At(o),i=[];for(const a of s.outputs)ro(a)?bu(o,e,...a):Du(o,e,...a),i.push(a[0]);return s.outputs.clear(),i},Ty=(o,e,s)=>{const i=At(o),a=[];for(const c of i.outputs)c[1]===s&&(ro(c)?bu(o,e,...c):Du(o,e,...c),a.push(c[0]),i.outputs.delete(c));return a},Cy=(o,e,s,i,a)=>{const c=At(o);return Array.from(c.outputs).filter(h=>h[0]===s&&(i===void 0||h[1]===i)&&(a===void 0||h[2]===a)).map(h=>(ro(h)?bu(o,e,...h):Du(o,e,...h),c.outputs.delete(h),h[0]))},Ny=(o,e,s,i,a,c,h,d,p,m,g,v,k,S,w,T)=>class extends m{constructor(C,R,L,F){super(L),this._context=C,this._nativeAudioNode=L;const M=g(C);v(M)&&s(ap,()=>ap(M,T))!==!0&&_y(L),Eu.set(this,L),Mp.set(this,new Set),C.state!=="closed"&&R&&Rr(this),o(this,F,L)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(C){this._nativeAudioNode.channelCount=C}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(C){this._nativeAudioNode.channelCountMode=C}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(C){this._nativeAudioNode.channelInterpretation=C}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(C,R=0,L=0){if(R<0||R>=this._nativeAudioNode.numberOfOutputs)throw a();const F=g(this._context),M=w(F);if(k(C)||S(C))throw c();if(Ra(C)){const D=He(C);try{const W=Pa(this._nativeAudioNode,D,R,L),$=Aa(this);(M||$)&&this._nativeAudioNode.disconnect(...W),this.context.state!=="closed"&&!$&&Aa(C)&&Rr(C)}catch(W){throw W.code===12?c():W}if(e(this,C,R,L,M)){const W=p([this],C);uu(W,i(M))}return C}const b=Fi(C);if(b.name==="playbackRate"&&b.maxValue===1024)throw h();try{this._nativeAudioNode.connect(b,R),(M||Aa(this))&&this._nativeAudioNode.disconnect(b,R)}catch(D){throw D.code===12?c():D}if(wy(this,C,R,M)){const D=p([this],C);uu(D,i(M))}}disconnect(C,R,L){let F;const M=g(this._context),b=w(M);if(C===void 0)F=Sy(this,b);else if(typeof C=="number"){if(C<0||C>=this.numberOfOutputs)throw a();F=Ty(this,b,C)}else{if(R!==void 0&&(R<0||R>=this.numberOfOutputs)||Ra(C)&&L!==void 0&&(L<0||L>=C.numberOfInputs))throw a();if(F=Cy(this,b,C,R,L),F.length===0)throw c()}for(const I of F){const D=p([this],I);uu(D,d)}}},Ey=(o,e,s,i,a,c,h,d,p,m,g,v,k)=>(S,w,T,_=null,C=null)=>{const R=T.value,L=new Fv(R),F=w?i(L):null,M={get defaultValue(){return R},get maxValue(){return _===null?T.maxValue:_},get minValue(){return C===null?T.minValue:C},get value(){return T.value},set value(b){T.value=b,M.setValueAtTime(b,S.context.currentTime)},cancelAndHoldAtTime(b){if(typeof T.cancelAndHoldAtTime=="function")F===null&&L.flush(S.context.currentTime),L.add(a(b)),T.cancelAndHoldAtTime(b);else{const I=Array.from(L).pop();F===null&&L.flush(S.context.currentTime),L.add(a(b));const D=Array.from(L).pop();T.cancelScheduledValues(b),I!==D&&D!==void 0&&(D.type==="exponentialRampToValue"?T.exponentialRampToValueAtTime(D.value,D.endTime):D.type==="linearRampToValue"?T.linearRampToValueAtTime(D.value,D.endTime):D.type==="setValue"?T.setValueAtTime(D.value,D.startTime):D.type==="setValueCurve"&&T.setValueCurveAtTime(D.values,D.startTime,D.duration))}return M},cancelScheduledValues(b){return F===null&&L.flush(S.context.currentTime),L.add(c(b)),T.cancelScheduledValues(b),M},exponentialRampToValueAtTime(b,I){if(b===0)throw new RangeError;if(!Number.isFinite(I)||I<0)throw new RangeError;const D=S.context.currentTime;return F===null&&L.flush(D),Array.from(L).length===0&&(L.add(m(R,D)),T.setValueAtTime(R,D)),L.add(h(b,I)),T.exponentialRampToValueAtTime(b,I),M},linearRampToValueAtTime(b,I){const D=S.context.currentTime;return F===null&&L.flush(D),Array.from(L).length===0&&(L.add(m(R,D)),T.setValueAtTime(R,D)),L.add(d(b,I)),T.linearRampToValueAtTime(b,I),M},setTargetAtTime(b,I,D){return F===null&&L.flush(S.context.currentTime),L.add(p(b,I,D)),T.setTargetAtTime(b,I,D),M},setValueAtTime(b,I){return F===null&&L.flush(S.context.currentTime),L.add(m(b,I)),T.setValueAtTime(b,I),M},setValueCurveAtTime(b,I,D){const B=b instanceof Float32Array?b:new Float32Array(b);if(v!==null&&v.name==="webkitAudioContext"){const W=I+D,$=S.context.sampleRate,U=Math.ceil(I*$),X=Math.floor(W*$),se=X-U,le=new Float32Array(se);for(let ie=0;ie<se;ie+=1){const G=(B.length-1)/D*((U+ie)/$-I),Z=Math.floor(G),q=Math.ceil(G);le[ie]=Z===q?B[Z]:(1-(G-Z))*B[Z]+(1-(q-G))*B[q]}F===null&&L.flush(S.context.currentTime),L.add(g(le,I,D)),T.setValueCurveAtTime(le,I,D);const te=X/$;te<W&&k(M,le[le.length-1],te),k(M,B[B.length-1],W)}else F===null&&L.flush(S.context.currentTime),L.add(g(B,I,D)),T.setValueCurveAtTime(B,I,D);return M}};return s.set(M,T),e.set(M,S),o(M,F),M},My=o=>({replay(e){for(const s of o)if(s.type==="exponentialRampToValue"){const{endTime:i,value:a}=s;e.exponentialRampToValueAtTime(a,i)}else if(s.type==="linearRampToValue"){const{endTime:i,value:a}=s;e.linearRampToValueAtTime(a,i)}else if(s.type==="setTarget"){const{startTime:i,target:a,timeConstant:c}=s;e.setTargetAtTime(a,i,c)}else if(s.type==="setValue"){const{startTime:i,value:a}=s;e.setValueAtTime(a,i)}else if(s.type==="setValueCurve"){const{duration:i,startTime:a,values:c}=s;e.setValueCurveAtTime(c,a,i)}else throw new Error("Can't apply an unknown automation.")}});class Fp{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,s=null){return this._map.forEach((i,a)=>e.call(s,i,a,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const Ay={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},by=(o,e,s,i,a,c,h,d,p,m,g,v,k,S)=>class extends e{constructor(T,_,C){var R;const L=d(T),F=p(L),M=g({...Ay,...C});k(M);const b=yu.get(L),I=b==null?void 0:b.get(_),D=F||L.state!=="closed"?L:(R=h(L))!==null&&R!==void 0?R:L,B=a(D,F?null:T.baseLatency,m,_,I,M),W=F?i(_,M,I):null;super(T,!0,B,W);const $=[];B.parameters.forEach((X,se)=>{const le=s(this,F,X);$.push([se,le])}),this._nativeAudioWorkletNode=B,this._onprocessorerror=null,this._parameters=new Fp($),F&&o(L,this);const{activeInputs:U}=c(this);v(B,U)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(T){const _=typeof T=="function"?S(this,T):null;this._nativeAudioWorkletNode.onprocessorerror=_;const C=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=C!==null&&C===_?T:C}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Va(o,e,s,i,a){if(typeof o.copyFromChannel=="function")e[s].byteLength===0&&(e[s]=new Float32Array(128)),o.copyFromChannel(e[s],i,a);else{const c=o.getChannelData(i);if(e[s].byteLength===0)e[s]=c.slice(a,a+128);else{const h=new Float32Array(c.buffer,a*Float32Array.BYTES_PER_ELEMENT,128);e[s].set(h)}}}const Vp=(o,e,s,i,a)=>{typeof o.copyToChannel=="function"?e[s].byteLength!==0&&o.copyToChannel(e[s],i,a):e[s].byteLength!==0&&o.getChannelData(i).set(e[s],a)},La=(o,e)=>{const s=[];for(let i=0;i<o;i+=1){const a=[],c=typeof e=="number"?e:e[i];for(let h=0;h<c;h+=1)a.push(new Float32Array(128));s.push(a)}return s},Dy=(o,e)=>{const s=mn(_u,o),i=He(e);return mn(s,i)},Iy=async(o,e,s,i,a,c,h)=>{const d=e===null?Math.ceil(o.context.length/128)*128:e.length,p=i.channelCount*i.numberOfInputs,m=a.reduce((_,C)=>_+C,0),g=m===0?null:s.createBuffer(m,d,s.sampleRate);if(c===void 0)throw new Error("Missing the processor constructor.");const v=At(o),k=await Dy(s,o),S=La(i.numberOfInputs,i.channelCount),w=La(i.numberOfOutputs,a),T=Array.from(o.parameters.keys()).reduce((_,C)=>({..._,[C]:new Float32Array(128)}),{});for(let _=0;_<d;_+=128){if(i.numberOfInputs>0&&e!==null)for(let C=0;C<i.numberOfInputs;C+=1)for(let R=0;R<i.channelCount;R+=1)Va(e,S[C],R,R,_);c.parameterDescriptors!==void 0&&e!==null&&c.parameterDescriptors.forEach(({name:C},R)=>{Va(e,T,C,p+R,_)});for(let C=0;C<i.numberOfInputs;C+=1)for(let R=0;R<a[C];R+=1)w[C][R].byteLength===0&&(w[C][R]=new Float32Array(128));try{const C=S.map((L,F)=>v.activeInputs[F].size===0?[]:L),R=h(_/s.sampleRate,s.sampleRate,()=>k.process(C,w,T));if(g!==null)for(let L=0,F=0;L<i.numberOfOutputs;L+=1){for(let M=0;M<a[L];M+=1)Vp(g,w[L],M,F+M,_);F+=a[L]}if(!R)break}catch(C){o.dispatchEvent(new ErrorEvent("processorerror",{colno:C.colno,filename:C.filename,lineno:C.lineno,message:C.message}));break}}return g},Oy=(o,e,s,i,a,c,h,d,p,m,g,v,k,S,w,T)=>(_,C,R)=>{const L=new WeakMap;let F=null;const M=async(b,I)=>{let D=g(b),B=null;const W=Ct(D,I),$=Array.isArray(C.outputChannelCount)?C.outputChannelCount:Array.from(C.outputChannelCount);if(v===null){const U=$.reduce((te,ie)=>te+ie,0),X=a(I,{channelCount:Math.max(1,U),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,U)}),se=[];for(let te=0;te<b.numberOfOutputs;te+=1)se.push(i(I,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:$[te]}));const le=h(I,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1});le.connect=e.bind(null,se),le.disconnect=p.bind(null,se),B=[X,se,le]}else W||(D=new v(I,_));if(L.set(I,B===null?D:B[2]),B!==null){if(F===null){if(R===void 0)throw new Error("Missing the processor constructor.");if(k===null)throw new Error("Missing the native OfflineAudioContext constructor.");const ie=b.channelCount*b.numberOfInputs,G=R.parameterDescriptors===void 0?0:R.parameterDescriptors.length,Z=ie+G;F=Iy(b,Z===0?null:await(async()=>{const E=new k(Z,Math.ceil(b.context.length/128)*128,I.sampleRate),P=[],oe=[];for(let fe=0;fe<C.numberOfInputs;fe+=1)P.push(h(E,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1})),oe.push(a(E,{channelCount:C.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:C.channelCount}));const ae=await Promise.all(Array.from(b.parameters.values()).map(async fe=>{const Se=c(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:fe.value});return await S(E,fe,Se.offset),Se})),ne=i(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,ie+G)});for(let fe=0;fe<C.numberOfInputs;fe+=1){P[fe].connect(oe[fe]);for(let Se=0;Se<C.channelCount;Se+=1)oe[fe].connect(ne,Se,fe*C.channelCount+Se)}for(const[fe,Se]of ae.entries())Se.connect(ne,0,ie+fe),Se.start(0);return ne.connect(E.destination),await Promise.all(P.map(fe=>w(b,E,fe))),T(E)})(),I,C,$,R,m)}const U=await F,X=s(I,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[se,le,te]=B;U!==null&&(X.buffer=U,X.start(0)),X.connect(se);for(let ie=0,G=0;ie<b.numberOfOutputs;ie+=1){const Z=le[ie];for(let q=0;q<$[ie];q+=1)se.connect(Z,G+q,q);G+=$[ie]}return te}if(W)for(const[U,X]of b.parameters.entries())await o(I,X,D.parameters.get(U));else for(const[U,X]of b.parameters.entries())await S(I,X,D.parameters.get(U));return await w(b,I,D),D};return{render(b,I){d(I,b);const D=L.get(I);return D!==void 0?Promise.resolve(D):M(b,I)}}},Ry=(o,e,s,i,a,c,h,d,p,m,g,v,k,S,w,T,_,C,R,L)=>class extends w{constructor(M,b){super(M,b),this._nativeContext=M,this._audioWorklet=o===void 0?void 0:{addModule:(I,D)=>o(this,I,D)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new a(this)}createBuffer(M,b,I){return new s({length:b,numberOfChannels:M,sampleRate:I})}createBufferSource(){return new i(this)}createChannelMerger(M=6){return new c(this,{numberOfInputs:M})}createChannelSplitter(M=6){return new h(this,{numberOfOutputs:M})}createConstantSource(){return new d(this)}createConvolver(){return new p(this)}createDelay(M=1){return new g(this,{maxDelayTime:M})}createDynamicsCompressor(){return new v(this)}createGain(){return new k(this)}createIIRFilter(M,b){return new S(this,{feedback:b,feedforward:M})}createOscillator(){return new T(this)}createPanner(){return new _(this)}createPeriodicWave(M,b,I={disableNormalization:!1}){return new C(this,{...I,imag:b,real:M})}createStereoPanner(){return new R(this)}createWaveShaper(){return new L(this)}decodeAudioData(M,b,I){return m(this._nativeContext,M).then(D=>(typeof b=="function"&&b(D),D),D=>{throw typeof I=="function"&&I(D),D})}},Py={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},jy=(o,e,s,i,a,c,h,d)=>class extends o{constructor(m,g){const v=c(m),k={...Py,...g},S=a(v,k),w=h(v),T=w?s():null;super(m,!1,S,T),this._Q=e(this,w,S.Q,Mt,Vt),this._detune=e(this,w,S.detune,1200*Math.log2(Mt),-1200*Math.log2(Mt)),this._frequency=e(this,w,S.frequency,m.sampleRate/2,0),this._gain=e(this,w,S.gain,40*Math.log10(Mt),Vt),this._nativeBiquadFilterNode=S,d(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(m){this._nativeBiquadFilterNode.type=m}getFrequencyResponse(m,g,v){try{this._nativeBiquadFilterNode.getFrequencyResponse(m,g,v)}catch(k){throw k.code===11?i():k}if(m.length!==g.length||g.length!==v.length)throw i()}},Fy=(o,e,s,i,a)=>()=>{const c=new WeakMap,h=async(d,p)=>{let m=s(d);const g=Ct(m,p);if(!g){const v={Q:m.Q.value,channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,detune:m.detune.value,frequency:m.frequency.value,gain:m.gain.value,type:m.type};m=e(p,v)}return c.set(p,m),g?(await o(p,d.Q,m.Q),await o(p,d.detune,m.detune),await o(p,d.frequency,m.frequency),await o(p,d.gain,m.gain)):(await i(p,d.Q,m.Q),await i(p,d.detune,m.detune),await i(p,d.frequency,m.frequency),await i(p,d.gain,m.gain)),await a(d,p,m),m};return{render(d,p){const m=c.get(p);return m!==void 0?Promise.resolve(m):h(d,p)}}},Vy=(o,e)=>(s,i)=>{const a=e.get(s);if(a!==void 0)return a;const c=o.get(s);if(c!==void 0)return c;try{const h=i();return h instanceof Promise?(o.set(s,h),h.catch(()=>!1).then(d=>(o.delete(s),e.set(s,d),d))):(e.set(s,h),h)}catch{return e.set(s,!1),!1}},Ly={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},qy=(o,e,s,i,a)=>class extends o{constructor(h,d){const p=i(h),m={...Ly,...d},g=s(p,m),v=a(p)?e():null;super(h,!1,g,v)}},zy=(o,e,s)=>()=>{const i=new WeakMap,a=async(c,h)=>{let d=e(c);if(!Ct(d,h)){const m={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,numberOfInputs:d.numberOfInputs};d=o(h,m)}return i.set(h,d),await s(c,h,d),d};return{render(c,h){const d=i.get(h);return d!==void 0?Promise.resolve(d):a(c,h)}}},Wy={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},By=(o,e,s,i,a,c)=>class extends o{constructor(d,p){const m=i(d),g=c({...Wy,...p}),v=s(m,g),k=a(m)?e():null;super(d,!1,v,k)}},Uy=(o,e,s)=>()=>{const i=new WeakMap,a=async(c,h)=>{let d=e(c);if(!Ct(d,h)){const m={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,numberOfOutputs:d.numberOfOutputs};d=o(h,m)}return i.set(h,d),await s(c,h,d),d};return{render(c,h){const d=i.get(h);return d!==void 0?Promise.resolve(d):a(c,h)}}},$y=o=>(e,s,i)=>o(s,e,i),Hy=o=>(e,s,i=0,a=0)=>{const c=e[i];if(c===void 0)throw o();return Fa(s)?c.connect(s,0,a):c.connect(s,0)},Gy=o=>(e,s)=>{const i=o(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),a=e.createBuffer(1,2,44100);return i.buffer=a,i.loop=!0,i.connect(s),i.start(),()=>{i.stop(),i.disconnect(s)}},Qy={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Yy=(o,e,s,i,a,c,h)=>class extends o{constructor(p,m){const g=a(p),v={...Qy,...m},k=i(g,v),S=c(g),w=S?s():null;super(p,!1,k,w),this._constantSourceNodeRenderer=w,this._nativeConstantSourceNode=k,this._offset=e(this,S,k.offset,Mt,Vt),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(p){const m=typeof p=="function"?h(this,p):null;this._nativeConstantSourceNode.onended=m;const g=this._nativeConstantSourceNode.onended;this._onended=g!==null&&g===m?p:g}start(p=0){if(this._nativeConstantSourceNode.start(p),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=p),this.context.state!=="closed"){Rr(this);const m=()=>{this._nativeConstantSourceNode.removeEventListener("ended",m),Hn(this)&&no(this)};this._nativeConstantSourceNode.addEventListener("ended",m)}}stop(p=0){this._nativeConstantSourceNode.stop(p),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=p)}},Xy=(o,e,s,i,a)=>()=>{const c=new WeakMap;let h=null,d=null;const p=async(m,g)=>{let v=s(m);const k=Ct(v,g);if(!k){const S={channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,offset:v.offset.value};v=e(g,S),h!==null&&v.start(h),d!==null&&v.stop(d)}return c.set(g,v),k?await o(g,m.offset,v.offset):await i(g,m.offset,v.offset),await a(m,g,v),v};return{set start(m){h=m},set stop(m){d=m},render(m,g){const v=c.get(g);return v!==void 0?Promise.resolve(v):p(m,g)}}},Zy=o=>e=>(o[0]=e,o[0]),Ky={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Jy=(o,e,s,i,a,c)=>class extends o{constructor(d,p){const m=i(d),g={...Ky,...p},v=s(m,g),S=a(m)?e():null;super(d,!1,v,S),this._isBufferNullified=!1,this._nativeConvolverNode=v,g.buffer!==null&&c(this,g.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(d){if(this._nativeConvolverNode.buffer=d,d===null&&this._nativeConvolverNode.buffer!==null){const p=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=p.createBuffer(1,1,p.sampleRate),this._isBufferNullified=!0,c(this,0)}else this._isBufferNullified=!1,c(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(d){this._nativeConvolverNode.normalize=d}},e_=(o,e,s)=>()=>{const i=new WeakMap,a=async(c,h)=>{let d=e(c);if(!Ct(d,h)){const m={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,disableNormalization:!d.normalize};d=o(h,m)}return i.set(h,d),Ur(d)?await s(c,h,d.inputs[0]):await s(c,h,d),d};return{render(c,h){const d=i.get(h);return d!==void 0?Promise.resolve(d):a(c,h)}}},t_=(o,e)=>(s,i,a)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(s,i,a)}catch(c){throw c.name==="SyntaxError"?o():c}},n_=()=>new DOMException("","DataCloneError"),lp=o=>{const{port1:e,port2:s}=new MessageChannel;return new Promise(i=>{const a=()=>{s.onmessage=null,e.close(),s.close(),i()};s.onmessage=()=>a();try{e.postMessage(o,[o])}catch{}finally{a()}})},s_=(o,e,s,i,a,c,h,d,p,m,g)=>(v,k)=>{const S=h(v)?v:c(v);if(a.has(k)){const w=s();return Promise.reject(w)}try{a.add(k)}catch{}return e(p,()=>p(S))?S.decodeAudioData(k).then(w=>(lp(k).catch(()=>{}),e(d,()=>d(w))||g(w),o.add(w),w)):new Promise((w,T)=>{const _=async()=>{try{await lp(k)}catch{}},C=R=>{T(R),_()};try{S.decodeAudioData(k,R=>{typeof R.copyFromChannel!="function"&&(m(R),Au(R)),o.add(R),_().then(()=>w(R))},R=>{C(R===null?i():R)})}catch(R){C(R)}})},r_=(o,e,s,i,a,c,h,d)=>(p,m)=>{const g=e.get(p);if(g===void 0)throw new Error("Missing the expected cycle count.");const v=c(p.context),k=d(v);if(g===m){if(e.delete(p),!k&&h(p)){const S=i(p),{outputs:w}=s(p);for(const T of w)if(ro(T)){const _=i(T[0]);o(S,_,T[1],T[2])}else{const _=a(T[0]);S.connect(_,T[1])}}}else e.set(p,g-m)},i_={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},o_=(o,e,s,i,a,c,h)=>class extends o{constructor(p,m){const g=a(p),v={...i_,...m},k=i(g,v),S=c(g),w=S?s(v.maxDelayTime):null;super(p,!1,k,w),this._delayTime=e(this,S,k.delayTime),h(this,v.maxDelayTime)}get delayTime(){return this._delayTime}},a_=(o,e,s,i,a)=>c=>{const h=new WeakMap,d=async(p,m)=>{let g=s(p);const v=Ct(g,m);if(!v){const k={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,delayTime:g.delayTime.value,maxDelayTime:c};g=e(m,k)}return h.set(m,g),v?await o(m,p.delayTime,g.delayTime):await i(m,p.delayTime,g.delayTime),await a(p,m,g),g};return{render(p,m){const g=h.get(m);return g!==void 0?Promise.resolve(g):d(p,m)}}},l_=o=>(e,s,i,a)=>o(e[a],c=>c[0]===s&&c[1]===i),c_=o=>(e,s)=>{o(e).delete(s)},u_=o=>"delayTime"in o,h_=(o,e,s)=>function i(a,c){const h=Ra(c)?c:s(o,c);if(u_(h))return[];if(a[0]===h)return[a];if(a.includes(h))return[];const{outputs:d}=e(h);return Array.from(d).map(p=>i([...a,h],p[0])).reduce((p,m)=>p.concat(m),[])},Ca=(o,e,s)=>{const i=e[s];if(i===void 0)throw o();return i},d_=o=>(e,s=void 0,i=void 0,a=0)=>s===void 0?e.forEach(c=>c.disconnect()):typeof s=="number"?Ca(o,e,s).disconnect():Fa(s)?i===void 0?e.forEach(c=>c.disconnect(s)):a===void 0?Ca(o,e,i).disconnect(s,0):Ca(o,e,i).disconnect(s,0,a):i===void 0?e.forEach(c=>c.disconnect(s)):Ca(o,e,i).disconnect(s,0),f_={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},p_=(o,e,s,i,a,c,h,d)=>class extends o{constructor(m,g){const v=c(m),k={...f_,...g},S=i(v,k),w=h(v),T=w?s():null;super(m,!1,S,T),this._attack=e(this,w,S.attack),this._knee=e(this,w,S.knee),this._nativeDynamicsCompressorNode=S,this._ratio=e(this,w,S.ratio),this._release=e(this,w,S.release),this._threshold=e(this,w,S.threshold),d(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(m){const g=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=m,m>2)throw this._nativeDynamicsCompressorNode.channelCount=g,a()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(m){const g=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=m,m==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=g,a()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},m_=(o,e,s,i,a)=>()=>{const c=new WeakMap,h=async(d,p)=>{let m=s(d);const g=Ct(m,p);if(!g){const v={attack:m.attack.value,channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,knee:m.knee.value,ratio:m.ratio.value,release:m.release.value,threshold:m.threshold.value};m=e(p,v)}return c.set(p,m),g?(await o(p,d.attack,m.attack),await o(p,d.knee,m.knee),await o(p,d.ratio,m.ratio),await o(p,d.release,m.release),await o(p,d.threshold,m.threshold)):(await i(p,d.attack,m.attack),await i(p,d.knee,m.knee),await i(p,d.ratio,m.ratio),await i(p,d.release,m.release),await i(p,d.threshold,m.threshold)),await a(d,p,m),m};return{render(d,p){const m=c.get(p);return m!==void 0?Promise.resolve(m):h(d,p)}}},g_=()=>new DOMException("","EncodingError"),v_=o=>e=>new Promise((s,i)=>{if(o===null){i(new SyntaxError);return}const a=o.document.head;if(a===null)i(new SyntaxError);else{const c=o.document.createElement("script"),h=new Blob([e],{type:"application/javascript"}),d=URL.createObjectURL(h),p=o.onerror,m=()=>{o.onerror=p,URL.revokeObjectURL(d)};o.onerror=(g,v,k,S,w)=>{if(v===d||v===o.location.href&&k===1&&S===1)return m(),i(w),!1;if(p!==null)return p(g,v,k,S,w)},c.onerror=()=>{m(),i(new SyntaxError)},c.onload=()=>{m(),s()},c.src=d,c.type="module",a.appendChild(c)}}),y_=o=>class{constructor(s){this._nativeEventTarget=s,this._listeners=new WeakMap}addEventListener(s,i,a){if(i!==null){let c=this._listeners.get(i);c===void 0&&(c=o(this,i),typeof i=="function"&&this._listeners.set(i,c)),this._nativeEventTarget.addEventListener(s,c,a)}}dispatchEvent(s){return this._nativeEventTarget.dispatchEvent(s)}removeEventListener(s,i,a){const c=i===null?void 0:this._listeners.get(i);this._nativeEventTarget.removeEventListener(s,c===void 0?null:c,a)}},__=o=>(e,s,i)=>{Object.defineProperties(o,{currentFrame:{configurable:!0,get(){return Math.round(e*s)}},currentTime:{configurable:!0,get(){return e}}});try{return i()}finally{o!==null&&(delete o.currentFrame,delete o.currentTime)}},w_=o=>async e=>{try{const s=await fetch(e);if(s.ok)return[await s.text(),s.url]}catch{}throw o()},k_={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},x_=(o,e,s,i,a,c)=>class extends o{constructor(d,p){const m=a(d),g={...k_,...p},v=i(m,g),k=c(m),S=k?s():null;super(d,!1,v,S),this._gain=e(this,k,v.gain,Mt,Vt)}get gain(){return this._gain}},S_=(o,e,s,i,a)=>()=>{const c=new WeakMap,h=async(d,p)=>{let m=s(d);const g=Ct(m,p);if(!g){const v={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,gain:m.gain.value};m=e(p,v)}return c.set(p,m),g?await o(p,d.gain,m.gain):await i(p,d.gain,m.gain),await a(d,p,m),m};return{render(d,p){const m=c.get(p);return m!==void 0?Promise.resolve(m):h(d,p)}}},T_=(o,e)=>s=>e(o,s),C_=o=>e=>{const s=o(e);if(s.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return s.renderer},N_=o=>e=>{var s;return(s=o.get(e))!==null&&s!==void 0?s:0},E_=o=>e=>{const s=o(e);if(s.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return s.renderer},M_=o=>e=>o.get(e),gt=()=>new DOMException("","InvalidStateError"),A_=o=>e=>{const s=o.get(e);if(s===void 0)throw gt();return s},b_=(o,e)=>s=>{let i=o.get(s);if(i!==void 0)return i;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return i=new e(1,1,44100),o.set(s,i),i},D_=o=>e=>{const s=o.get(e);if(s===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return s},ol=()=>new DOMException("","InvalidAccessError"),I_=o=>{o.getFrequencyResponse=(e=>(s,i,a)=>{if(s.length!==i.length||i.length!==a.length)throw ol();return e.call(o,s,i,a)})(o.getFrequencyResponse)},O_={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},R_=(o,e,s,i,a,c)=>class extends o{constructor(d,p){const m=i(d),g=a(m),v={...O_,...p},k=e(m,g?null:d.baseLatency,v),S=g?s(v.feedback,v.feedforward):null;super(d,!1,k,S),I_(k),this._nativeIIRFilterNode=k,c(this,1)}getFrequencyResponse(d,p,m){return this._nativeIIRFilterNode.getFrequencyResponse(d,p,m)}},Lp=(o,e,s,i,a,c,h,d,p,m,g)=>{const v=m.length;let k=d;for(let S=0;S<v;S+=1){let w=s[0]*m[S];for(let T=1;T<a;T+=1){const _=k-T&p-1;w+=s[T]*c[_],w-=o[T]*h[_]}for(let T=a;T<i;T+=1)w+=s[T]*c[k-T&p-1];for(let T=a;T<e;T+=1)w-=o[T]*h[k-T&p-1];c[k]=m[S],h[k]=w,k=k+1&p-1,g[S]=w}return k},P_=(o,e,s,i)=>{const a=s instanceof Float64Array?s:new Float64Array(s),c=i instanceof Float64Array?i:new Float64Array(i),h=a.length,d=c.length,p=Math.min(h,d);if(a[0]!==1){for(let w=0;w<h;w+=1)c[w]/=a[0];for(let w=1;w<d;w+=1)a[w]/=a[0]}const m=32,g=new Float32Array(m),v=new Float32Array(m),k=e.createBuffer(o.numberOfChannels,o.length,o.sampleRate),S=o.numberOfChannels;for(let w=0;w<S;w+=1){const T=o.getChannelData(w),_=k.getChannelData(w);g.fill(0),v.fill(0),Lp(a,h,c,d,p,g,v,0,m,T,_)}return k},j_=(o,e,s,i,a)=>(c,h)=>{const d=new WeakMap;let p=null;const m=async(g,v)=>{let k=null,S=e(g);const w=Ct(S,v);if(v.createIIRFilter===void 0?k=o(v,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):w||(S=v.createIIRFilter(h,c)),d.set(v,k===null?S:k),k!==null){if(p===null){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const _=new s(g.context.destination.channelCount,g.context.length,v.sampleRate);p=(async()=>{await i(g,_,_.destination);const C=await a(_);return P_(C,v,c,h)})()}const T=await p;return k.buffer=T,k.start(0),k}return await i(g,v,S),S};return{render(g,v){const k=d.get(v);return k!==void 0?Promise.resolve(k):m(g,v)}}},F_=(o,e,s,i,a,c)=>h=>(d,p)=>{const m=o.get(d);if(m===void 0){if(!h&&c(d)){const g=i(d),{outputs:v}=s(d);for(const k of v)if(ro(k)){const S=i(k[0]);e(g,S,k[1],k[2])}else{const S=a(k[0]);g.disconnect(S,k[1])}}o.set(d,p)}else o.set(d,m+p)},V_=(o,e)=>s=>{const i=o.get(s);return e(i)||e(s)},L_=(o,e)=>s=>o.has(s)||e(s),q_=(o,e)=>s=>o.has(s)||e(s),z_=(o,e)=>s=>{const i=o.get(s);return e(i)||e(s)},W_=o=>e=>o!==null&&e instanceof o,B_=o=>e=>o!==null&&typeof o.AudioNode=="function"&&e instanceof o.AudioNode,U_=o=>e=>o!==null&&typeof o.AudioParam=="function"&&e instanceof o.AudioParam,$_=(o,e)=>s=>o(s)||e(s),H_=o=>e=>o!==null&&e instanceof o,G_=o=>o!==null&&o.isSecureContext,Q_=(o,e,s,i)=>class extends o{constructor(c,h){const d=s(c),p=e(d,h);if(i(d))throw TypeError();super(c,!0,p,null),this._nativeMediaElementAudioSourceNode=p}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},Y_={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},X_=(o,e,s,i)=>class extends o{constructor(c,h){const d=s(c);if(i(d))throw new TypeError;const p={...Y_,...h},m=e(d,p);super(c,!1,m,null),this._nativeMediaStreamAudioDestinationNode=m}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},Z_=(o,e,s,i)=>class extends o{constructor(c,h){const d=s(c),p=e(d,h);if(i(d))throw new TypeError;super(c,!0,p,null),this._nativeMediaStreamAudioSourceNode=p}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},K_=(o,e,s)=>class extends o{constructor(a,c){const h=s(a),d=e(h,c);super(a,!0,d,null)}},J_=(o,e,s,i,a,c)=>class extends s{constructor(d,p){super(d),this._nativeContext=d,rl.set(this,d),i(d)&&a.set(d,new Set),this._destination=new o(this,p),this._listener=e(this,d),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(d){const p=typeof d=="function"?c(this,d):null;this._nativeContext.onstatechange=p;const m=this._nativeContext.onstatechange;this._onstatechange=m!==null&&m===p?d:m}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Vi=o=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const s=o.decodeAudioData(e.buffer,()=>{});return s===void 0?!1:(s.catch(()=>{}),!0)}catch{}return!1},e0=(o,e)=>(s,i,a)=>{const c=new Set;return s.connect=(h=>(d,p=0,m=0)=>{const g=c.size===0;if(e(d))return h.call(s,d,p,m),o(c,[d,p,m],v=>v[0]===d&&v[1]===p&&v[2]===m,!0),g&&i(),d;h.call(s,d,p),o(c,[d,p],v=>v[0]===d&&v[1]===p,!0),g&&i()})(s.connect),s.disconnect=(h=>(d,p,m)=>{const g=c.size>0;if(d===void 0)h.apply(s),c.clear();else if(typeof d=="number"){h.call(s,d);for(const k of c)k[1]===d&&c.delete(k)}else{e(d)?h.call(s,d,p,m):h.call(s,d,p);for(const k of c)k[0]===d&&(p===void 0||k[1]===p)&&(m===void 0||k[2]===m)&&c.delete(k)}const v=c.size===0;g&&v&&a()})(s.disconnect),s},Ye=(o,e,s)=>{const i=e[s];i!==void 0&&i!==o[s]&&(o[s]=i)},ht=(o,e)=>{Ye(o,e,"channelCount"),Ye(o,e,"channelCountMode"),Ye(o,e,"channelInterpretation")},cp=o=>typeof o.getFloatTimeDomainData=="function",t0=o=>{o.getFloatTimeDomainData=e=>{const s=new Uint8Array(e.length);o.getByteTimeDomainData(s);const i=Math.max(s.length,o.fftSize);for(let a=0;a<i;a+=1)e[a]=(s[a]-128)*.0078125;return e}},n0=(o,e)=>(s,i)=>{const a=s.createAnalyser();if(ht(a,i),!(i.maxDecibels>i.minDecibels))throw e();return Ye(a,i,"fftSize"),Ye(a,i,"maxDecibels"),Ye(a,i,"minDecibels"),Ye(a,i,"smoothingTimeConstant"),o(cp,()=>cp(a))||t0(a),a},s0=o=>o===null?null:o.hasOwnProperty("AudioBuffer")?o.AudioBuffer:null,tt=(o,e,s)=>{const i=e[s];i!==void 0&&i!==o[s].value&&(o[s].value=i)},r0=o=>{o.start=(e=>{let s=!1;return(i=0,a=0,c)=>{if(s)throw gt();e.call(o,i,a,c),s=!0}})(o.start)},Iu=o=>{o.start=(e=>(s=0,i=0,a)=>{if(typeof a=="number"&&a<0||i<0||s<0)throw new RangeError("The parameters can't be negative.");e.call(o,s,i,a)})(o.start)},Ou=o=>{o.stop=(e=>(s=0)=>{if(s<0)throw new RangeError("The parameter can't be negative.");e.call(o,s)})(o.stop)},i0=(o,e,s,i,a,c,h,d,p,m,g)=>(v,k)=>{const S=v.createBufferSource();return ht(S,k),tt(S,k,"playbackRate"),Ye(S,k,"buffer"),Ye(S,k,"loop"),Ye(S,k,"loopEnd"),Ye(S,k,"loopStart"),e(s,()=>s(v))||r0(S),e(i,()=>i(v))||p(S),e(a,()=>a(v))||m(S,v),e(c,()=>c(v))||Iu(S),e(h,()=>h(v))||g(S,v),e(d,()=>d(v))||Ou(S),o(v,S),S},o0=o=>o===null?null:o.hasOwnProperty("AudioContext")?o.AudioContext:o.hasOwnProperty("webkitAudioContext")?o.webkitAudioContext:null,a0=(o,e)=>(s,i,a)=>{const c=s.destination;if(c.channelCount!==i)try{c.channelCount=i}catch{}a&&c.channelCountMode!=="explicit"&&(c.channelCountMode="explicit"),c.maxChannelCount===0&&Object.defineProperty(c,"maxChannelCount",{value:i});const h=o(s,{channelCount:i,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,gain:1});return e(h,"channelCount",d=>()=>d.call(h),d=>p=>{d.call(h,p);try{c.channelCount=p}catch(m){if(p>c.maxChannelCount)throw m}}),e(h,"channelCountMode",d=>()=>d.call(h),d=>p=>{d.call(h,p),c.channelCountMode=p}),e(h,"channelInterpretation",d=>()=>d.call(h),d=>p=>{d.call(h,p),c.channelInterpretation=p}),Object.defineProperty(h,"maxChannelCount",{get:()=>c.maxChannelCount}),h.connect(c),h},l0=o=>o===null?null:o.hasOwnProperty("AudioWorkletNode")?o.AudioWorkletNode:null,c0=o=>{const{port1:e}=new MessageChannel;try{e.postMessage(o)}finally{e.close()}},u0=(o,e,s,i,a)=>(c,h,d,p,m,g)=>{if(d!==null)try{const v=new d(c,p,g),k=new Map;let S=null;if(Object.defineProperties(v,{channelCount:{get:()=>g.channelCount,set:()=>{throw o()}},channelCountMode:{get:()=>"explicit",set:()=>{throw o()}},onprocessorerror:{get:()=>S,set:w=>{typeof S=="function"&&v.removeEventListener("processorerror",S),S=typeof w=="function"?w:null,typeof S=="function"&&v.addEventListener("processorerror",S)}}}),v.addEventListener=(w=>(...T)=>{if(T[0]==="processorerror"){const _=typeof T[1]=="function"?T[1]:typeof T[1]=="object"&&T[1]!==null&&typeof T[1].handleEvent=="function"?T[1].handleEvent:null;if(_!==null){const C=k.get(T[1]);C!==void 0?T[1]=C:(T[1]=R=>{R.type==="error"?(Object.defineProperties(R,{type:{value:"processorerror"}}),_(R)):_(new ErrorEvent(T[0],{...R}))},k.set(_,T[1]))}}return w.call(v,"error",T[1],T[2]),w.call(v,...T)})(v.addEventListener),v.removeEventListener=(w=>(...T)=>{if(T[0]==="processorerror"){const _=k.get(T[1]);_!==void 0&&(k.delete(T[1]),T[1]=_)}return w.call(v,"error",T[1],T[2]),w.call(v,T[0],T[1],T[2])})(v.removeEventListener),g.numberOfOutputs!==0){const w=s(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return v.connect(w).connect(c.destination),a(v,()=>w.disconnect(),()=>w.connect(c.destination))}return v}catch(v){throw v.code===11?i():v}if(m===void 0)throw i();return c0(g),e(c,h,m,g)},qp=(o,e)=>o===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(o*e))))),h0=o=>new Promise((e,s)=>{const{port1:i,port2:a}=new MessageChannel;i.onmessage=({data:c})=>{i.close(),a.close(),e(c)},i.onmessageerror=({data:c})=>{i.close(),a.close(),s(c)},a.postMessage(o)}),d0=async(o,e)=>{const s=await h0(e);return new o(s)},f0=(o,e,s,i)=>{let a=_u.get(o);a===void 0&&(a=new WeakMap,_u.set(o,a));const c=d0(s,i);return a.set(e,c),c},p0=(o,e,s,i,a,c,h,d,p,m,g,v,k)=>(S,w,T,_)=>{if(_.numberOfInputs===0&&_.numberOfOutputs===0)throw p();const C=Array.isArray(_.outputChannelCount)?_.outputChannelCount:Array.from(_.outputChannelCount);if(C.some(ce=>ce<1))throw p();if(C.length!==_.numberOfOutputs)throw e();if(_.channelCountMode!=="explicit")throw p();const R=_.channelCount*_.numberOfInputs,L=C.reduce((ce,_e)=>ce+_e,0),F=T.parameterDescriptors===void 0?0:T.parameterDescriptors.length;if(R+F>6||L>6)throw p();const M=new MessageChannel,b=[],I=[];for(let ce=0;ce<_.numberOfInputs;ce+=1)b.push(h(S,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1})),I.push(a(S,{channelCount:_.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:_.channelCount}));const D=[];if(T.parameterDescriptors!==void 0)for(const{defaultValue:ce,maxValue:_e,minValue:Xe,name:qe}of T.parameterDescriptors){const be=c(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:_.parameterData[qe]!==void 0?_.parameterData[qe]:ce===void 0?0:ce});Object.defineProperties(be.offset,{defaultValue:{get:()=>ce===void 0?0:ce},maxValue:{get:()=>_e===void 0?Mt:_e},minValue:{get:()=>Xe===void 0?Vt:Xe}}),D.push(be)}const B=i(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,R+F)}),W=qp(w,S.sampleRate),$=d(S,W,R+F,Math.max(1,L)),U=a(S,{channelCount:Math.max(1,L),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,L)}),X=[];for(let ce=0;ce<_.numberOfOutputs;ce+=1)X.push(i(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:C[ce]}));for(let ce=0;ce<_.numberOfInputs;ce+=1){b[ce].connect(I[ce]);for(let _e=0;_e<_.channelCount;_e+=1)I[ce].connect(B,_e,ce*_.channelCount+_e)}const se=new Fp(T.parameterDescriptors===void 0?[]:T.parameterDescriptors.map(({name:ce},_e)=>{const Xe=D[_e];return Xe.connect(B,0,R+_e),Xe.start(0),[ce,Xe.offset]}));B.connect($);let le=_.channelInterpretation,te=null;const ie=_.numberOfOutputs===0?[$]:X,G={get bufferSize(){return W},get channelCount(){return _.channelCount},set channelCount(ce){throw s()},get channelCountMode(){return _.channelCountMode},set channelCountMode(ce){throw s()},get channelInterpretation(){return le},set channelInterpretation(ce){for(const _e of b)_e.channelInterpretation=ce;le=ce},get context(){return $.context},get inputs(){return b},get numberOfInputs(){return _.numberOfInputs},get numberOfOutputs(){return _.numberOfOutputs},get onprocessorerror(){return te},set onprocessorerror(ce){typeof te=="function"&&G.removeEventListener("processorerror",te),te=typeof ce=="function"?ce:null,typeof te=="function"&&G.addEventListener("processorerror",te)},get parameters(){return se},get port(){return M.port2},addEventListener(...ce){return $.addEventListener(ce[0],ce[1],ce[2])},connect:o.bind(null,ie),disconnect:m.bind(null,ie),dispatchEvent(...ce){return $.dispatchEvent(ce[0])},removeEventListener(...ce){return $.removeEventListener(ce[0],ce[1],ce[2])}},Z=new Map;M.port1.addEventListener=(ce=>(..._e)=>{if(_e[0]==="message"){const Xe=typeof _e[1]=="function"?_e[1]:typeof _e[1]=="object"&&_e[1]!==null&&typeof _e[1].handleEvent=="function"?_e[1].handleEvent:null;if(Xe!==null){const qe=Z.get(_e[1]);qe!==void 0?_e[1]=qe:(_e[1]=be=>{g(S.currentTime,S.sampleRate,()=>Xe(be))},Z.set(Xe,_e[1]))}}return ce.call(M.port1,_e[0],_e[1],_e[2])})(M.port1.addEventListener),M.port1.removeEventListener=(ce=>(..._e)=>{if(_e[0]==="message"){const Xe=Z.get(_e[1]);Xe!==void 0&&(Z.delete(_e[1]),_e[1]=Xe)}return ce.call(M.port1,_e[0],_e[1],_e[2])})(M.port1.removeEventListener);let q=null;Object.defineProperty(M.port1,"onmessage",{get:()=>q,set:ce=>{typeof q=="function"&&M.port1.removeEventListener("message",q),q=typeof ce=="function"?ce:null,typeof q=="function"&&(M.port1.addEventListener("message",q),M.port1.start())}}),T.prototype.port=M.port1;let E=null;f0(S,G,T,_).then(ce=>E=ce);const oe=La(_.numberOfInputs,_.channelCount),ae=La(_.numberOfOutputs,C),ne=T.parameterDescriptors===void 0?[]:T.parameterDescriptors.reduce((ce,{name:_e})=>({...ce,[_e]:new Float32Array(128)}),{});let fe=!0;const Se=()=>{_.numberOfOutputs>0&&$.disconnect(U);for(let ce=0,_e=0;ce<_.numberOfOutputs;ce+=1){const Xe=X[ce];for(let qe=0;qe<C[ce];qe+=1)U.disconnect(Xe,_e+qe,qe);_e+=C[ce]}},Y=new Map;$.onaudioprocess=({inputBuffer:ce,outputBuffer:_e})=>{if(E!==null){const Xe=v(G);for(let qe=0;qe<W;qe+=128){for(let be=0;be<_.numberOfInputs;be+=1)for(let Fe=0;Fe<_.channelCount;Fe+=1)Va(ce,oe[be],Fe,Fe,qe);T.parameterDescriptors!==void 0&&T.parameterDescriptors.forEach(({name:be},Fe)=>{Va(ce,ne,be,R+Fe,qe)});for(let be=0;be<_.numberOfInputs;be+=1)for(let Fe=0;Fe<C[be];Fe+=1)ae[be][Fe].byteLength===0&&(ae[be][Fe]=new Float32Array(128));try{const be=oe.map((lt,Xt)=>{if(Xe[Xt].size>0)return Y.set(Xt,W/128),lt;const sr=Y.get(Xt);return sr===void 0?[]:(lt.every(fo=>fo.every(po=>po===0))&&(sr===1?Y.delete(Xt):Y.set(Xt,sr-1)),lt)});fe=g(S.currentTime+qe/S.sampleRate,S.sampleRate,()=>E.process(be,ae,ne));for(let lt=0,Xt=0;lt<_.numberOfOutputs;lt+=1){for(let Jn=0;Jn<C[lt];Jn+=1)Vp(_e,ae[lt],Jn,Xt+Jn,qe);Xt+=C[lt]}}catch(be){fe=!1,G.dispatchEvent(new ErrorEvent("processorerror",{colno:be.colno,filename:be.filename,lineno:be.lineno,message:be.message}))}if(!fe){for(let be=0;be<_.numberOfInputs;be+=1){b[be].disconnect(I[be]);for(let Fe=0;Fe<_.channelCount;Fe+=1)I[qe].disconnect(B,Fe,be*_.channelCount+Fe)}if(T.parameterDescriptors!==void 0){const be=T.parameterDescriptors.length;for(let Fe=0;Fe<be;Fe+=1){const lt=D[Fe];lt.disconnect(B,0,R+Fe),lt.stop()}}B.disconnect($),$.onaudioprocess=null,Te?Se():On();break}}}};let Te=!1;const Re=h(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Dt=()=>$.connect(Re).connect(S.destination),On=()=>{$.disconnect(Re),Re.disconnect()},nr=()=>{if(fe){On(),_.numberOfOutputs>0&&$.connect(U);for(let ce=0,_e=0;ce<_.numberOfOutputs;ce+=1){const Xe=X[ce];for(let qe=0;qe<C[ce];qe+=1)U.connect(Xe,_e+qe,qe);_e+=C[ce]}}Te=!0},Yr=()=>{fe&&(Dt(),Se()),Te=!1};return Dt(),k(G,nr,Yr)},zp=(o,e)=>{const s=o.createBiquadFilter();return ht(s,e),tt(s,e,"Q"),tt(s,e,"detune"),tt(s,e,"frequency"),tt(s,e,"gain"),Ye(s,e,"type"),s},m0=(o,e)=>(s,i)=>{const a=s.createChannelMerger(i.numberOfInputs);return o!==null&&o.name==="webkitAudioContext"&&e(s,a),ht(a,i),a},g0=o=>{const e=o.numberOfOutputs;Object.defineProperty(o,"channelCount",{get:()=>e,set:s=>{if(s!==e)throw gt()}}),Object.defineProperty(o,"channelCountMode",{get:()=>"explicit",set:s=>{if(s!=="explicit")throw gt()}}),Object.defineProperty(o,"channelInterpretation",{get:()=>"discrete",set:s=>{if(s!=="discrete")throw gt()}})},io=(o,e)=>{const s=o.createChannelSplitter(e.numberOfOutputs);return ht(s,e),g0(s),s},v0=(o,e,s,i,a)=>(c,h)=>{if(c.createConstantSource===void 0)return s(c,h);const d=c.createConstantSource();return ht(d,h),tt(d,h,"offset"),e(i,()=>i(c))||Iu(d),e(a,()=>a(c))||Ou(d),o(c,d),d},$r=(o,e)=>(o.connect=e.connect.bind(e),o.disconnect=e.disconnect.bind(e),o),y0=(o,e,s,i)=>(a,{offset:c,...h})=>{const d=a.createBuffer(1,2,44100),p=e(a,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),m=s(a,{...h,gain:c}),g=d.getChannelData(0);g[0]=1,g[1]=1,p.buffer=d,p.loop=!0;const v={get bufferSize(){},get channelCount(){return m.channelCount},set channelCount(w){m.channelCount=w},get channelCountMode(){return m.channelCountMode},set channelCountMode(w){m.channelCountMode=w},get channelInterpretation(){return m.channelInterpretation},set channelInterpretation(w){m.channelInterpretation=w},get context(){return m.context},get inputs(){return[]},get numberOfInputs(){return p.numberOfInputs},get numberOfOutputs(){return m.numberOfOutputs},get offset(){return m.gain},get onended(){return p.onended},set onended(w){p.onended=w},addEventListener(...w){return p.addEventListener(w[0],w[1],w[2])},dispatchEvent(...w){return p.dispatchEvent(w[0])},removeEventListener(...w){return p.removeEventListener(w[0],w[1],w[2])},start(w=0){p.start.call(p,w)},stop(w=0){p.stop.call(p,w)}},k=()=>p.connect(m),S=()=>p.disconnect(m);return o(a,p),i($r(v,m),k,S)},_0=(o,e)=>(s,i)=>{const a=s.createConvolver();if(ht(a,i),i.disableNormalization===a.normalize&&(a.normalize=!i.disableNormalization),Ye(a,i,"buffer"),i.channelCount>2||(e(a,"channelCount",c=>()=>c.call(a),c=>h=>{if(h>2)throw o();return c.call(a,h)}),i.channelCountMode==="max"))throw o();return e(a,"channelCountMode",c=>()=>c.call(a),c=>h=>{if(h==="max")throw o();return c.call(a,h)}),a},Wp=(o,e)=>{const s=o.createDelay(e.maxDelayTime);return ht(s,e),tt(s,e,"delayTime"),s},w0=o=>(e,s)=>{const i=e.createDynamicsCompressor();if(ht(i,s),s.channelCount>2||s.channelCountMode==="max")throw o();return tt(i,s,"attack"),tt(i,s,"knee"),tt(i,s,"ratio"),tt(i,s,"release"),tt(i,s,"threshold"),i},Wt=(o,e)=>{const s=o.createGain();return ht(s,e),tt(s,e,"gain"),s},k0=o=>(e,s,i)=>{if(e.createIIRFilter===void 0)return o(e,s,i);const a=e.createIIRFilter(i.feedforward,i.feedback);return ht(a,i),a};function x0(o,e){const s=e[0]*e[0]+e[1]*e[1];return[(o[0]*e[0]+o[1]*e[1])/s,(o[1]*e[0]-o[0]*e[1])/s]}function S0(o,e){return[o[0]*e[0]-o[1]*e[1],o[0]*e[1]+o[1]*e[0]]}function up(o,e){let s=[0,0];for(let i=o.length-1;i>=0;i-=1)s=S0(s,e),s[0]+=o[i];return s}const T0=(o,e,s,i)=>(a,c,{channelCount:h,channelCountMode:d,channelInterpretation:p,feedback:m,feedforward:g})=>{const v=qp(c,a.sampleRate),k=m instanceof Float64Array?m:new Float64Array(m),S=g instanceof Float64Array?g:new Float64Array(g),w=k.length,T=S.length,_=Math.min(w,T);if(w===0||w>20)throw i();if(k[0]===0)throw e();if(T===0||T>20)throw i();if(S[0]===0)throw e();if(k[0]!==1){for(let D=0;D<T;D+=1)S[D]/=k[0];for(let D=1;D<w;D+=1)k[D]/=k[0]}const C=s(a,v,h,h);C.channelCount=h,C.channelCountMode=d,C.channelInterpretation=p;const R=32,L=[],F=[],M=[];for(let D=0;D<h;D+=1){L.push(0);const B=new Float32Array(R),W=new Float32Array(R);B.fill(0),W.fill(0),F.push(B),M.push(W)}C.onaudioprocess=D=>{const B=D.inputBuffer,W=D.outputBuffer,$=B.numberOfChannels;for(let U=0;U<$;U+=1){const X=B.getChannelData(U),se=W.getChannelData(U);L[U]=Lp(k,w,S,T,_,F[U],M[U],L[U],R,X,se)}};const b=a.sampleRate/2;return $r({get bufferSize(){return v},get channelCount(){return C.channelCount},set channelCount(D){C.channelCount=D},get channelCountMode(){return C.channelCountMode},set channelCountMode(D){C.channelCountMode=D},get channelInterpretation(){return C.channelInterpretation},set channelInterpretation(D){C.channelInterpretation=D},get context(){return C.context},get inputs(){return[C]},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},addEventListener(...D){return C.addEventListener(D[0],D[1],D[2])},dispatchEvent(...D){return C.dispatchEvent(D[0])},getFrequencyResponse(D,B,W){if(D.length!==B.length||B.length!==W.length)throw o();const $=D.length;for(let U=0;U<$;U+=1){const X=-Math.PI*(D[U]/b),se=[Math.cos(X),Math.sin(X)],le=up(S,se),te=up(k,se),ie=x0(le,te);B[U]=Math.sqrt(ie[0]*ie[0]+ie[1]*ie[1]),W[U]=Math.atan2(ie[1],ie[0])}},removeEventListener(...D){return C.removeEventListener(D[0],D[1],D[2])}},C)},C0=(o,e)=>o.createMediaElementSource(e.mediaElement),N0=(o,e)=>{const s=o.createMediaStreamDestination();return ht(s,e),s.numberOfOutputs===1&&Object.defineProperty(s,"numberOfOutputs",{get:()=>0}),s},E0=(o,{mediaStream:e})=>{const s=e.getAudioTracks();s.sort((c,h)=>c.id<h.id?-1:c.id>h.id?1:0);const i=s.slice(0,1),a=o.createMediaStreamSource(new MediaStream(i));return Object.defineProperty(a,"mediaStream",{value:e}),a},M0=(o,e)=>(s,{mediaStreamTrack:i})=>{if(typeof s.createMediaStreamTrackSource=="function")return s.createMediaStreamTrackSource(i);const a=new MediaStream([i]),c=s.createMediaStreamSource(a);if(i.kind!=="audio")throw o();if(e(s))throw new TypeError;return c},A0=o=>o===null?null:o.hasOwnProperty("OfflineAudioContext")?o.OfflineAudioContext:o.hasOwnProperty("webkitOfflineAudioContext")?o.webkitOfflineAudioContext:null,b0=(o,e,s,i,a,c)=>(h,d)=>{const p=h.createOscillator();return ht(p,d),tt(p,d,"detune"),tt(p,d,"frequency"),d.periodicWave!==void 0?p.setPeriodicWave(d.periodicWave):Ye(p,d,"type"),e(s,()=>s(h))||Iu(p),e(i,()=>i(h))||c(p,h),e(a,()=>a(h))||Ou(p),o(h,p),p},D0=o=>(e,s)=>{const i=e.createPanner();return i.orientationX===void 0?o(e,s):(ht(i,s),tt(i,s,"orientationX"),tt(i,s,"orientationY"),tt(i,s,"orientationZ"),tt(i,s,"positionX"),tt(i,s,"positionY"),tt(i,s,"positionZ"),Ye(i,s,"coneInnerAngle"),Ye(i,s,"coneOuterAngle"),Ye(i,s,"coneOuterGain"),Ye(i,s,"distanceModel"),Ye(i,s,"maxDistance"),Ye(i,s,"panningModel"),Ye(i,s,"refDistance"),Ye(i,s,"rolloffFactor"),i)},I0=(o,e,s,i,a,c,h,d,p,m)=>(g,{coneInnerAngle:v,coneOuterAngle:k,coneOuterGain:S,distanceModel:w,maxDistance:T,orientationX:_,orientationY:C,orientationZ:R,panningModel:L,positionX:F,positionY:M,positionZ:b,refDistance:I,rolloffFactor:D,...B})=>{const W=g.createPanner();if(B.channelCount>2||B.channelCountMode==="max")throw h();ht(W,B);const $={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},U=s(g,{...$,channelInterpretation:"speakers",numberOfInputs:6}),X=i(g,{...B,gain:1}),se=i(g,{...$,gain:1}),le=i(g,{...$,gain:0}),te=i(g,{...$,gain:0}),ie=i(g,{...$,gain:0}),G=i(g,{...$,gain:0}),Z=i(g,{...$,gain:0}),q=a(g,256,6,1),E=c(g,{...$,curve:new Float32Array([1,1]),oversample:"none"});let P=[_,C,R],oe=[F,M,b];const ae=new Float32Array(1);q.onaudioprocess=({inputBuffer:Y})=>{const Te=[p(Y,ae,0),p(Y,ae,1),p(Y,ae,2)];Te.some((Dt,On)=>Dt!==P[On])&&(W.setOrientation(...Te),P=Te);const Re=[p(Y,ae,3),p(Y,ae,4),p(Y,ae,5)];Re.some((Dt,On)=>Dt!==oe[On])&&(W.setPosition(...Re),oe=Re)},Object.defineProperty(le.gain,"defaultValue",{get:()=>0}),Object.defineProperty(te.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ie.gain,"defaultValue",{get:()=>0}),Object.defineProperty(G.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Z.gain,"defaultValue",{get:()=>0});const ne={get bufferSize(){},get channelCount(){return W.channelCount},set channelCount(Y){if(Y>2)throw h();X.channelCount=Y,W.channelCount=Y},get channelCountMode(){return W.channelCountMode},set channelCountMode(Y){if(Y==="max")throw h();X.channelCountMode=Y,W.channelCountMode=Y},get channelInterpretation(){return W.channelInterpretation},set channelInterpretation(Y){X.channelInterpretation=Y,W.channelInterpretation=Y},get coneInnerAngle(){return W.coneInnerAngle},set coneInnerAngle(Y){W.coneInnerAngle=Y},get coneOuterAngle(){return W.coneOuterAngle},set coneOuterAngle(Y){W.coneOuterAngle=Y},get coneOuterGain(){return W.coneOuterGain},set coneOuterGain(Y){if(Y<0||Y>1)throw e();W.coneOuterGain=Y},get context(){return W.context},get distanceModel(){return W.distanceModel},set distanceModel(Y){W.distanceModel=Y},get inputs(){return[X]},get maxDistance(){return W.maxDistance},set maxDistance(Y){if(Y<0)throw new RangeError;W.maxDistance=Y},get numberOfInputs(){return W.numberOfInputs},get numberOfOutputs(){return W.numberOfOutputs},get orientationX(){return se.gain},get orientationY(){return le.gain},get orientationZ(){return te.gain},get panningModel(){return W.panningModel},set panningModel(Y){W.panningModel=Y},get positionX(){return ie.gain},get positionY(){return G.gain},get positionZ(){return Z.gain},get refDistance(){return W.refDistance},set refDistance(Y){if(Y<0)throw new RangeError;W.refDistance=Y},get rolloffFactor(){return W.rolloffFactor},set rolloffFactor(Y){if(Y<0)throw new RangeError;W.rolloffFactor=Y},addEventListener(...Y){return X.addEventListener(Y[0],Y[1],Y[2])},dispatchEvent(...Y){return X.dispatchEvent(Y[0])},removeEventListener(...Y){return X.removeEventListener(Y[0],Y[1],Y[2])}};v!==ne.coneInnerAngle&&(ne.coneInnerAngle=v),k!==ne.coneOuterAngle&&(ne.coneOuterAngle=k),S!==ne.coneOuterGain&&(ne.coneOuterGain=S),w!==ne.distanceModel&&(ne.distanceModel=w),T!==ne.maxDistance&&(ne.maxDistance=T),_!==ne.orientationX.value&&(ne.orientationX.value=_),C!==ne.orientationY.value&&(ne.orientationY.value=C),R!==ne.orientationZ.value&&(ne.orientationZ.value=R),L!==ne.panningModel&&(ne.panningModel=L),F!==ne.positionX.value&&(ne.positionX.value=F),M!==ne.positionY.value&&(ne.positionY.value=M),b!==ne.positionZ.value&&(ne.positionZ.value=b),I!==ne.refDistance&&(ne.refDistance=I),D!==ne.rolloffFactor&&(ne.rolloffFactor=D),(P[0]!==1||P[1]!==0||P[2]!==0)&&W.setOrientation(...P),(oe[0]!==0||oe[1]!==0||oe[2]!==0)&&W.setPosition(...oe);const fe=()=>{X.connect(W),o(X,E,0,0),E.connect(se).connect(U,0,0),E.connect(le).connect(U,0,1),E.connect(te).connect(U,0,2),E.connect(ie).connect(U,0,3),E.connect(G).connect(U,0,4),E.connect(Z).connect(U,0,5),U.connect(q).connect(g.destination)},Se=()=>{X.disconnect(W),d(X,E,0,0),E.disconnect(se),se.disconnect(U),E.disconnect(le),le.disconnect(U),E.disconnect(te),te.disconnect(U),E.disconnect(ie),ie.disconnect(U),E.disconnect(G),G.disconnect(U),E.disconnect(Z),Z.disconnect(U),U.disconnect(q),q.disconnect(g.destination)};return m($r(ne,W),fe,Se)},O0=o=>(e,{disableNormalization:s,imag:i,real:a})=>{const c=i instanceof Float32Array?i:new Float32Array(i),h=a instanceof Float32Array?a:new Float32Array(a),d=e.createPeriodicWave(h,c,{disableNormalization:s});if(Array.from(i).length<2)throw o();return d},oo=(o,e,s,i)=>o.createScriptProcessor(e,s,i),R0=(o,e)=>(s,i)=>{const a=i.channelCountMode;if(a==="clamped-max")throw e();if(s.createStereoPanner===void 0)return o(s,i);const c=s.createStereoPanner();return ht(c,i),tt(c,i,"pan"),Object.defineProperty(c,"channelCountMode",{get:()=>a,set:h=>{if(h!==a)throw e()}}),c},P0=(o,e,s,i,a,c)=>{const d=new Float32Array([1,1]),p=Math.PI/2,m={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},g={...m,oversample:"none"},v=(w,T,_,C)=>{const R=new Float32Array(16385),L=new Float32Array(16385);for(let B=0;B<16385;B+=1){const W=B/16384*p;R[B]=Math.cos(W),L[B]=Math.sin(W)}const F=s(w,{...m,gain:0}),M=i(w,{...g,curve:R}),b=i(w,{...g,curve:d}),I=s(w,{...m,gain:0}),D=i(w,{...g,curve:L});return{connectGraph(){T.connect(F),T.connect(b.inputs===void 0?b:b.inputs[0]),T.connect(I),b.connect(_),_.connect(M.inputs===void 0?M:M.inputs[0]),_.connect(D.inputs===void 0?D:D.inputs[0]),M.connect(F.gain),D.connect(I.gain),F.connect(C,0,0),I.connect(C,0,1)},disconnectGraph(){T.disconnect(F),T.disconnect(b.inputs===void 0?b:b.inputs[0]),T.disconnect(I),b.disconnect(_),_.disconnect(M.inputs===void 0?M:M.inputs[0]),_.disconnect(D.inputs===void 0?D:D.inputs[0]),M.disconnect(F.gain),D.disconnect(I.gain),F.disconnect(C,0,0),I.disconnect(C,0,1)}}},k=(w,T,_,C)=>{const R=new Float32Array(16385),L=new Float32Array(16385),F=new Float32Array(16385),M=new Float32Array(16385),b=Math.floor(16385/2);for(let ie=0;ie<16385;ie+=1)if(ie>b){const G=(ie-b)/(16384-b)*p;R[ie]=Math.cos(G),L[ie]=Math.sin(G),F[ie]=0,M[ie]=1}else{const G=ie/(16384-b)*p;R[ie]=1,L[ie]=0,F[ie]=Math.cos(G),M[ie]=Math.sin(G)}const I=e(w,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),D=s(w,{...m,gain:0}),B=i(w,{...g,curve:R}),W=s(w,{...m,gain:0}),$=i(w,{...g,curve:L}),U=i(w,{...g,curve:d}),X=s(w,{...m,gain:0}),se=i(w,{...g,curve:F}),le=s(w,{...m,gain:0}),te=i(w,{...g,curve:M});return{connectGraph(){T.connect(I),T.connect(U.inputs===void 0?U:U.inputs[0]),I.connect(D,0),I.connect(W,0),I.connect(X,1),I.connect(le,1),U.connect(_),_.connect(B.inputs===void 0?B:B.inputs[0]),_.connect($.inputs===void 0?$:$.inputs[0]),_.connect(se.inputs===void 0?se:se.inputs[0]),_.connect(te.inputs===void 0?te:te.inputs[0]),B.connect(D.gain),$.connect(W.gain),se.connect(X.gain),te.connect(le.gain),D.connect(C,0,0),X.connect(C,0,0),W.connect(C,0,1),le.connect(C,0,1)},disconnectGraph(){T.disconnect(I),T.disconnect(U.inputs===void 0?U:U.inputs[0]),I.disconnect(D,0),I.disconnect(W,0),I.disconnect(X,1),I.disconnect(le,1),U.disconnect(_),_.disconnect(B.inputs===void 0?B:B.inputs[0]),_.disconnect($.inputs===void 0?$:$.inputs[0]),_.disconnect(se.inputs===void 0?se:se.inputs[0]),_.disconnect(te.inputs===void 0?te:te.inputs[0]),B.disconnect(D.gain),$.disconnect(W.gain),se.disconnect(X.gain),te.disconnect(le.gain),D.disconnect(C,0,0),X.disconnect(C,0,0),W.disconnect(C,0,1),le.disconnect(C,0,1)}}},S=(w,T,_,C,R)=>{if(T===1)return v(w,_,C,R);if(T===2)return k(w,_,C,R);throw a()};return(w,{channelCount:T,channelCountMode:_,pan:C,...R})=>{if(_==="max")throw a();const L=o(w,{...R,channelCount:1,channelCountMode:_,numberOfInputs:2}),F=s(w,{...R,channelCount:T,channelCountMode:_,gain:1}),M=s(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:C});let{connectGraph:b,disconnectGraph:I}=S(w,T,F,M,L);Object.defineProperty(M.gain,"defaultValue",{get:()=>0}),Object.defineProperty(M.gain,"maxValue",{get:()=>1}),Object.defineProperty(M.gain,"minValue",{get:()=>-1});const D={get bufferSize(){},get channelCount(){return F.channelCount},set channelCount(U){F.channelCount!==U&&(B&&I(),{connectGraph:b,disconnectGraph:I}=S(w,U,F,M,L),B&&b()),F.channelCount=U},get channelCountMode(){return F.channelCountMode},set channelCountMode(U){if(U==="clamped-max"||U==="max")throw a();F.channelCountMode=U},get channelInterpretation(){return F.channelInterpretation},set channelInterpretation(U){F.channelInterpretation=U},get context(){return F.context},get inputs(){return[F]},get numberOfInputs(){return F.numberOfInputs},get numberOfOutputs(){return F.numberOfOutputs},get pan(){return M.gain},addEventListener(...U){return F.addEventListener(U[0],U[1],U[2])},dispatchEvent(...U){return F.dispatchEvent(U[0])},removeEventListener(...U){return F.removeEventListener(U[0],U[1],U[2])}};let B=!1;const W=()=>{b(),B=!0},$=()=>{I(),B=!1};return c($r(D,L),W,$)}},j0=(o,e,s,i,a,c,h)=>(d,p)=>{const m=d.createWaveShaper();if(c!==null&&c.name==="webkitAudioContext"&&d.createGain().gain.automationRate===void 0)return s(d,p);ht(m,p);const g=p.curve===null||p.curve instanceof Float32Array?p.curve:new Float32Array(p.curve);if(g!==null&&g.length<2)throw e();Ye(m,{curve:g},"curve"),Ye(m,p,"oversample");let v=null,k=!1;return h(m,"curve",T=>()=>T.call(m),T=>_=>(T.call(m,_),k&&(i(_)&&v===null?v=o(d,m):!i(_)&&v!==null&&(v(),v=null)),_)),a(m,()=>{k=!0,i(m.curve)&&(v=o(d,m))},()=>{k=!1,v!==null&&(v(),v=null)})},F0=(o,e,s,i,a)=>(c,{curve:h,oversample:d,...p})=>{const m=c.createWaveShaper(),g=c.createWaveShaper();ht(m,p),ht(g,p);const v=s(c,{...p,gain:1}),k=s(c,{...p,gain:-1}),S=s(c,{...p,gain:1}),w=s(c,{...p,gain:-1});let T=null,_=!1,C=null;const R={get bufferSize(){},get channelCount(){return m.channelCount},set channelCount(M){v.channelCount=M,k.channelCount=M,m.channelCount=M,S.channelCount=M,g.channelCount=M,w.channelCount=M},get channelCountMode(){return m.channelCountMode},set channelCountMode(M){v.channelCountMode=M,k.channelCountMode=M,m.channelCountMode=M,S.channelCountMode=M,g.channelCountMode=M,w.channelCountMode=M},get channelInterpretation(){return m.channelInterpretation},set channelInterpretation(M){v.channelInterpretation=M,k.channelInterpretation=M,m.channelInterpretation=M,S.channelInterpretation=M,g.channelInterpretation=M,w.channelInterpretation=M},get context(){return m.context},get curve(){return C},set curve(M){if(M!==null&&M.length<2)throw e();if(M===null)m.curve=M,g.curve=M;else{const b=M.length,I=new Float32Array(b+2-b%2),D=new Float32Array(b+2-b%2);I[0]=M[0],D[0]=-M[b-1];const B=Math.ceil((b+1)/2),W=(b+1)/2-1;for(let $=1;$<B;$+=1){const U=$/B*W,X=Math.floor(U),se=Math.ceil(U);I[$]=X===se?M[X]:(1-(U-X))*M[X]+(1-(se-U))*M[se],D[$]=X===se?-M[b-1-X]:-((1-(U-X))*M[b-1-X])-(1-(se-U))*M[b-1-se]}I[B]=b%2===1?M[B-1]:(M[B-2]+M[B-1])/2,m.curve=I,g.curve=D}C=M,_&&(i(C)&&T===null?T=o(c,v):T!==null&&(T(),T=null))},get inputs(){return[v]},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return m.numberOfOutputs},get oversample(){return m.oversample},set oversample(M){m.oversample=M,g.oversample=M},addEventListener(...M){return v.addEventListener(M[0],M[1],M[2])},dispatchEvent(...M){return v.dispatchEvent(M[0])},removeEventListener(...M){return v.removeEventListener(M[0],M[1],M[2])}};h!==null&&(R.curve=h instanceof Float32Array?h:new Float32Array(h)),d!==R.oversample&&(R.oversample=d);const L=()=>{v.connect(m).connect(S),v.connect(k).connect(g).connect(w).connect(S),_=!0,i(C)&&(T=o(c,v))},F=()=>{v.disconnect(m),m.disconnect(S),v.disconnect(k),k.disconnect(g),g.disconnect(w),w.disconnect(S),_=!1,T!==null&&(T(),T=null)};return a($r(R,S),L,F)},bt=()=>new DOMException("","NotSupportedError"),V0={numberOfChannels:1},L0=(o,e,s,i,a)=>class extends o{constructor(h,d,p){let m;if(typeof h=="number"&&d!==void 0&&p!==void 0)m={length:d,numberOfChannels:h,sampleRate:p};else if(typeof h=="object")m=h;else throw new Error("The given parameters are not valid.");const{length:g,numberOfChannels:v,sampleRate:k}={...V0,...m},S=i(v,g,k);e(Vi,()=>Vi(S))||S.addEventListener("statechange",(()=>{let w=0;const T=_=>{this._state==="running"&&(w>0?(S.removeEventListener("statechange",T),_.stopImmediatePropagation(),this._waitForThePromiseToSettle(_)):w+=1)};return T})()),super(S,v),this._length=g,this._nativeOfflineAudioContext=S,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(s()):(this._state="running",a(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Op(this)}))}_waitForThePromiseToSettle(h){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(h):setTimeout(()=>this._waitForThePromiseToSettle(h))}},q0={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},z0=(o,e,s,i,a,c,h)=>class extends o{constructor(p,m){const g=a(p),v={...q0,...m},k=s(g,v),S=c(g),w=S?i():null,T=p.sampleRate/2;super(p,!1,k,w),this._detune=e(this,S,k.detune,153600,-153600),this._frequency=e(this,S,k.frequency,T,-T),this._nativeOscillatorNode=k,this._onended=null,this._oscillatorNodeRenderer=w,this._oscillatorNodeRenderer!==null&&v.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=v.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(p){const m=typeof p=="function"?h(this,p):null;this._nativeOscillatorNode.onended=m;const g=this._nativeOscillatorNode.onended;this._onended=g!==null&&g===m?p:g}get type(){return this._nativeOscillatorNode.type}set type(p){this._nativeOscillatorNode.type=p,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(p){this._nativeOscillatorNode.setPeriodicWave(p),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=p)}start(p=0){if(this._nativeOscillatorNode.start(p),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=p),this.context.state!=="closed"){Rr(this);const m=()=>{this._nativeOscillatorNode.removeEventListener("ended",m),Hn(this)&&no(this)};this._nativeOscillatorNode.addEventListener("ended",m)}}stop(p=0){this._nativeOscillatorNode.stop(p),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=p)}},W0=(o,e,s,i,a)=>()=>{const c=new WeakMap;let h=null,d=null,p=null;const m=async(g,v)=>{let k=s(g);const S=Ct(k,v);if(!S){const w={channelCount:k.channelCount,channelCountMode:k.channelCountMode,channelInterpretation:k.channelInterpretation,detune:k.detune.value,frequency:k.frequency.value,periodicWave:h===null?void 0:h,type:k.type};k=e(v,w),d!==null&&k.start(d),p!==null&&k.stop(p)}return c.set(v,k),S?(await o(v,g.detune,k.detune),await o(v,g.frequency,k.frequency)):(await i(v,g.detune,k.detune),await i(v,g.frequency,k.frequency)),await a(g,v,k),k};return{set periodicWave(g){h=g},set start(g){d=g},set stop(g){p=g},render(g,v){const k=c.get(v);return k!==void 0?Promise.resolve(k):m(g,v)}}},B0={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},U0=(o,e,s,i,a,c,h)=>class extends o{constructor(p,m){const g=a(p),v={...B0,...m},k=s(g,v),S=c(g),w=S?i():null;super(p,!1,k,w),this._nativePannerNode=k,this._orientationX=e(this,S,k.orientationX,Mt,Vt),this._orientationY=e(this,S,k.orientationY,Mt,Vt),this._orientationZ=e(this,S,k.orientationZ,Mt,Vt),this._positionX=e(this,S,k.positionX,Mt,Vt),this._positionY=e(this,S,k.positionY,Mt,Vt),this._positionZ=e(this,S,k.positionZ,Mt,Vt),h(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(p){this._nativePannerNode.coneInnerAngle=p}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(p){this._nativePannerNode.coneOuterAngle=p}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(p){this._nativePannerNode.coneOuterGain=p}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(p){this._nativePannerNode.distanceModel=p}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(p){this._nativePannerNode.maxDistance=p}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(p){this._nativePannerNode.panningModel=p}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(p){this._nativePannerNode.refDistance=p}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(p){this._nativePannerNode.rolloffFactor=p}},$0=(o,e,s,i,a,c,h,d,p,m)=>()=>{const g=new WeakMap;let v=null;const k=async(S,w)=>{let T=null,_=c(S);const C={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation},R={...C,coneInnerAngle:_.coneInnerAngle,coneOuterAngle:_.coneOuterAngle,coneOuterGain:_.coneOuterGain,distanceModel:_.distanceModel,maxDistance:_.maxDistance,panningModel:_.panningModel,refDistance:_.refDistance,rolloffFactor:_.rolloffFactor},L=Ct(_,w);if("bufferSize"in _)T=i(w,{...C,gain:1});else if(!L){const F={...R,orientationX:_.orientationX.value,orientationY:_.orientationY.value,orientationZ:_.orientationZ.value,positionX:_.positionX.value,positionY:_.positionY.value,positionZ:_.positionZ.value};_=a(w,F)}if(g.set(w,T===null?_:T),T!==null){if(v===null){if(h===null)throw new Error("Missing the native OfflineAudioContext constructor.");const $=new h(6,S.context.length,w.sampleRate),U=e($,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});U.connect($.destination),v=(async()=>{const X=await Promise.all([S.orientationX,S.orientationY,S.orientationZ,S.positionX,S.positionY,S.positionZ].map(async(se,le)=>{const te=s($,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:le===0?1:0});return await d($,se,te.offset),te}));for(let se=0;se<6;se+=1)X[se].connect(U,0,se),X[se].start(0);return m($)})()}const F=await v,M=i(w,{...C,gain:1});await p(S,w,M);const b=[];for(let $=0;$<F.numberOfChannels;$+=1)b.push(F.getChannelData($));let I=[b[0][0],b[1][0],b[2][0]],D=[b[3][0],b[4][0],b[5][0]],B=i(w,{...C,gain:1}),W=a(w,{...R,orientationX:I[0],orientationY:I[1],orientationZ:I[2],positionX:D[0],positionY:D[1],positionZ:D[2]});M.connect(B).connect(W.inputs[0]),W.connect(T);for(let $=128;$<F.length;$+=128){const U=[b[0][$],b[1][$],b[2][$]],X=[b[3][$],b[4][$],b[5][$]];if(U.some((se,le)=>se!==I[le])||X.some((se,le)=>se!==D[le])){I=U,D=X;const se=$/w.sampleRate;B.gain.setValueAtTime(0,se),B=i(w,{...C,gain:0}),W=a(w,{...R,orientationX:I[0],orientationY:I[1],orientationZ:I[2],positionX:D[0],positionY:D[1],positionZ:D[2]}),B.gain.setValueAtTime(1,se),M.connect(B).connect(W.inputs[0]),W.connect(T)}}return T}return L?(await o(w,S.orientationX,_.orientationX),await o(w,S.orientationY,_.orientationY),await o(w,S.orientationZ,_.orientationZ),await o(w,S.positionX,_.positionX),await o(w,S.positionY,_.positionY),await o(w,S.positionZ,_.positionZ)):(await d(w,S.orientationX,_.orientationX),await d(w,S.orientationY,_.orientationY),await d(w,S.orientationZ,_.orientationZ),await d(w,S.positionX,_.positionX),await d(w,S.positionY,_.positionY),await d(w,S.positionZ,_.positionZ)),Ur(_)?await p(S,w,_.inputs[0]):await p(S,w,_),_};return{render(S,w){const T=g.get(w);return T!==void 0?Promise.resolve(T):k(S,w)}}},H0={disableNormalization:!1},G0=(o,e,s,i)=>class Bp{constructor(c,h){const d=e(c),p=i({...H0,...h}),m=o(d,p);return s.add(m),m}static[Symbol.hasInstance](c){return c!==null&&typeof c=="object"&&Object.getPrototypeOf(c)===Bp.prototype||s.has(c)}},Q0=(o,e)=>(s,i,a)=>(o(i).replay(a),e(i,s,a)),Y0=(o,e,s)=>async(i,a,c)=>{const h=o(i);await Promise.all(h.activeInputs.map((d,p)=>Array.from(d).map(async([m,g])=>{const k=await e(m).render(m,a),S=i.context.destination;!s(m)&&(i!==S||!s(i))&&k.connect(c,g,p)})).reduce((d,p)=>[...d,...p],[]))},X0=(o,e,s)=>async(i,a,c)=>{const h=e(i);await Promise.all(Array.from(h.activeInputs).map(async([d,p])=>{const g=await o(d).render(d,a);s(d)||g.connect(c,p)}))},Z0=(o,e,s,i)=>a=>o(Vi,()=>Vi(a))?Promise.resolve(o(i,i)).then(c=>{if(!c){const h=s(a,512,0,1);a.oncomplete=()=>{h.onaudioprocess=null,h.disconnect()},h.onaudioprocess=()=>a.currentTime,h.connect(a.destination)}return a.startRendering()}):new Promise(c=>{const h=e(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});a.oncomplete=d=>{h.disconnect(),c(d.renderedBuffer)},h.connect(a.destination),a.startRendering()}),K0=o=>(e,s)=>{o.set(e,s)},J0=o=>(e,s)=>o.set(e,s),e1=(o,e,s,i,a,c,h,d)=>(p,m)=>s(p).render(p,m).then(()=>Promise.all(Array.from(i(m)).map(g=>s(g).render(g,m)))).then(()=>a(m)).then(g=>(typeof g.copyFromChannel!="function"?(h(g),Au(g)):e(c,()=>c(g))||d(g),o.add(g),g)),t1={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},n1=(o,e,s,i,a,c)=>class extends o{constructor(d,p){const m=a(d),g={...t1,...p},v=s(m,g),k=c(m),S=k?i():null;super(d,!1,v,S),this._pan=e(this,k,v.pan)}get pan(){return this._pan}},s1=(o,e,s,i,a)=>()=>{const c=new WeakMap,h=async(d,p)=>{let m=s(d);const g=Ct(m,p);if(!g){const v={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,pan:m.pan.value};m=e(p,v)}return c.set(p,m),g?await o(p,d.pan,m.pan):await i(p,d.pan,m.pan),Ur(m)?await a(d,p,m.inputs[0]):await a(d,p,m),m};return{render(d,p){const m=c.get(p);return m!==void 0?Promise.resolve(m):h(d,p)}}},r1=o=>()=>{if(o===null)return!1;try{new o({length:1,sampleRate:44100})}catch{return!1}return!0},i1=(o,e)=>async()=>{if(o===null)return!0;if(e===null)return!1;const s=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),i=new e(1,128,44100),a=URL.createObjectURL(s);let c=!1,h=!1;try{await i.audioWorklet.addModule(a);const d=new o(i,"a",{numberOfOutputs:0}),p=i.createOscillator();d.port.onmessage=()=>c=!0,d.onprocessorerror=()=>h=!0,p.connect(d),p.start(0),await i.startRendering(),await new Promise(m=>setTimeout(m))}catch{}finally{URL.revokeObjectURL(a)}return c&&!h},o1=(o,e)=>()=>{if(e===null)return Promise.resolve(!1);const s=new e(1,1,44100),i=o(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(a=>{s.oncomplete=()=>{i.disconnect(),a(s.currentTime!==0)},s.startRendering()})},a1=()=>new DOMException("","UnknownError"),l1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},c1=(o,e,s,i,a,c,h)=>class extends o{constructor(p,m){const g=a(p),v={...l1,...m},k=s(g,v),w=c(g)?i():null;super(p,!0,k,w),this._isCurveNullified=!1,this._nativeWaveShaperNode=k,h(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(p){if(p===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(p.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=p}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(p){this._nativeWaveShaperNode.oversample=p}},u1=(o,e,s)=>()=>{const i=new WeakMap,a=async(c,h)=>{let d=e(c);if(!Ct(d,h)){const m={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,curve:d.curve,oversample:d.oversample};d=o(h,m)}return i.set(h,d),Ur(d)?await s(c,h,d.inputs[0]):await s(c,h,d),d};return{render(c,h){const d=i.get(h);return d!==void 0?Promise.resolve(d):a(c,h)}}},h1=()=>typeof window>"u"?null:window,d1=(o,e)=>s=>{s.copyFromChannel=(i,a,c=0)=>{const h=o(c),d=o(a);if(d>=s.numberOfChannels)throw e();const p=s.length,m=s.getChannelData(d),g=i.length;for(let v=h<0?-h:0;v+h<p&&v<g;v+=1)i[v]=m[v+h]},s.copyToChannel=(i,a,c=0)=>{const h=o(c),d=o(a);if(d>=s.numberOfChannels)throw e();const p=s.length,m=s.getChannelData(d),g=i.length;for(let v=h<0?-h:0;v+h<p&&v<g;v+=1)m[v+h]=i[v]}},f1=o=>e=>{e.copyFromChannel=(s=>(i,a,c=0)=>{const h=o(c),d=o(a);if(h<e.length)return s.call(e,i,d,h)})(e.copyFromChannel),e.copyToChannel=(s=>(i,a,c=0)=>{const h=o(c),d=o(a);if(h<e.length)return s.call(e,i,d,h)})(e.copyToChannel)},p1=o=>(e,s)=>{const i=s.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=i),o(e,"buffer",a=>()=>{const c=a.call(e);return c===i?null:c},a=>c=>a.call(e,c===null?i:c))},m1=(o,e)=>(s,i)=>{i.channelCount=1,i.channelCountMode="explicit",Object.defineProperty(i,"channelCount",{get:()=>1,set:()=>{throw o()}}),Object.defineProperty(i,"channelCountMode",{get:()=>"explicit",set:()=>{throw o()}});const a=s.createBufferSource();e(i,()=>{const d=i.numberOfInputs;for(let p=0;p<d;p+=1)a.connect(i,0,p)},()=>a.disconnect(i))},Up=(o,e,s)=>o.copyFromChannel===void 0?o.getChannelData(s)[0]:(o.copyFromChannel(e,s),e[0]),$p=o=>{if(o===null)return!1;const e=o.length;return e%2!==0?o[Math.floor(e/2)]!==0:o[e/2-1]+o[e/2]!==0},ao=(o,e,s,i)=>{let a=o;for(;!a.hasOwnProperty(e);)a=Object.getPrototypeOf(a);const{get:c,set:h}=Object.getOwnPropertyDescriptor(a,e);Object.defineProperty(o,e,{get:s(c),set:i(h)})},g1=o=>({...o,outputChannelCount:o.outputChannelCount!==void 0?o.outputChannelCount:o.numberOfInputs===1&&o.numberOfOutputs===1?[o.channelCount]:Array.from({length:o.numberOfOutputs},()=>1)}),v1=o=>({...o,channelCount:o.numberOfOutputs}),y1=o=>{const{imag:e,real:s}=o;return e===void 0?s===void 0?{...o,imag:[0,0],real:[0,0]}:{...o,imag:Array.from(s,()=>0),real:s}:s===void 0?{...o,imag:e,real:Array.from(e,()=>0)}:{...o,imag:e,real:s}},Hp=(o,e,s)=>{try{o.setValueAtTime(e,s)}catch(i){if(i.code!==9)throw i;Hp(o,e,s+1e-7)}},_1=o=>{const e=o.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},w1=o=>{const e=o.createBufferSource(),s=o.createBuffer(1,1,44100);e.buffer=s;try{e.start(0,1)}catch{return!1}return!0},k1=o=>{const e=o.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},Ru=o=>{const e=o.createOscillator();try{e.start(-1)}catch(s){return s instanceof RangeError}return!1},Gp=o=>{const e=o.createBuffer(1,1,44100),s=o.createBufferSource();s.buffer=e,s.start(),s.stop();try{return s.stop(),!0}catch{return!1}},Pu=o=>{const e=o.createOscillator();try{e.stop(-1)}catch(s){return s instanceof RangeError}return!1},x1=o=>{const{port1:e,port2:s}=new MessageChannel;try{e.postMessage(o)}finally{e.close(),s.close()}},S1=o=>{o.start=(e=>(s=0,i=0,a)=>{const c=o.buffer,h=c===null?i:Math.min(c.duration,i);c!==null&&h>c.duration-.5/o.context.sampleRate?e.call(o,s,0,0):e.call(o,s,h,a)})(o.start)},Qp=(o,e)=>{const s=e.createGain();o.connect(s);const i=(a=>()=>{a.call(o,s),o.removeEventListener("ended",i)})(o.disconnect);o.addEventListener("ended",i),$r(o,s),o.stop=(a=>{let c=!1;return(h=0)=>{if(c)try{a.call(o,h)}catch{s.gain.setValueAtTime(0,h)}else a.call(o,h),c=!0}})(o.stop)},Hr=(o,e)=>s=>{const i={value:o};return Object.defineProperties(s,{currentTarget:i,target:i}),typeof e=="function"?e.call(o,s):e.handleEvent.call(o,s)},T1=Uv(Js),C1=Xv(Js),N1=l_(il),Yp=new WeakMap,E1=N_(Yp),wn=Vy(new Map,new WeakMap),Mn=h1(),Xp=n0(wn,bn),ju=C_(At),wt=Y0(At,ju,Gs),M1=ty(Xp,He,wt),We=A_(rl),Xn=A0(Mn),Le=H_(Xn),Zp=new WeakMap,Kp=y_(Hr),lo=o0(Mn),Fu=W_(lo),Vu=B_(Mn),Jp=U_(Mn),Li=l0(Mn),ot=Ny($v(Np),Yv(T1,C1,Pa,N1,ja,At,E1,to,He,Js,Hn,Gs,Aa),wn,F_(vu,ja,At,He,Fi,Hn),bn,ol,bt,r_(Pa,vu,At,He,Fi,We,Hn,Le),h_(Zp,At,mn),Kp,We,Fu,Vu,Jp,Le,Li),A1=ey(ot,M1,bn,Xp,We,Le),Lu=new WeakSet,hp=s0(Mn),em=Zy(new Uint32Array(1)),qu=d1(em,bn),zu=f1(em),tm=sy(Lu,wn,bt,hp,Xn,r1(hp),qu,zu),al=Zv(Wt),nm=X0(ju,so,Gs),Dn=$y(nm),Gr=i0(al,wn,_1,w1,k1,Ru,Gp,Pu,S1,p1(ao),Qp),In=Q0(E_(so),nm),b1=oy(Dn,Gr,He,In,wt),kn=Ey(Hv(Ep),Zp,Mu,My,Vv,Lv,qv,zv,Wv,pu,Tp,lo,Hp),D1=iy(ot,b1,kn,gt,Gr,We,Le,Hr),I1=my(ot,gy,bn,gt,a0(Wt,ao),We,Le,wt),O1=Fy(Dn,zp,He,In,wt),er=J0(Yp),R1=jy(ot,kn,O1,ol,zp,We,Le,er),Ns=e0(Js,Vu),P1=m1(gt,Ns),Es=m0(lo,P1),j1=zy(Es,He,wt),F1=qy(ot,j1,Es,We,Le),V1=Uy(io,He,wt),L1=By(ot,V1,io,We,Le,v1),q1=y0(al,Gr,Wt,Ns),Qr=v0(al,wn,q1,Ru,Pu),z1=Xy(Dn,Qr,He,In,wt),W1=Yy(ot,kn,z1,Qr,We,Le,Hr),sm=_0(bt,ao),B1=e_(sm,He,wt),U1=Jy(ot,B1,sm,We,Le,er),$1=a_(Dn,Wp,He,In,wt),H1=o_(ot,kn,$1,Wp,We,Le,er),rm=w0(bt),G1=m_(Dn,rm,He,In,wt),Q1=p_(ot,kn,G1,rm,bt,We,Le,er),Y1=S_(Dn,Wt,He,In,wt),X1=x_(ot,kn,Y1,Wt,We,Le),Z1=T0(ol,gt,oo,bt),ll=Z0(wn,Wt,oo,o1(Wt,Xn)),K1=j_(Gr,He,Xn,wt,ll),J1=k0(Z1),ew=R_(ot,J1,K1,We,Le,er),tw=vy(kn,Es,Qr,oo,bt,Up,Le,ao),im=new WeakMap,nw=J_(I1,tw,Kp,Le,im,Hr),om=b0(al,wn,Ru,Gp,Pu,Qp),sw=W0(Dn,om,He,In,wt),rw=z0(ot,kn,om,sw,We,Le,Hr),am=Gy(Gr),iw=F0(am,gt,Wt,$p,Ns),cl=j0(am,gt,iw,$p,Ns,lo,ao),ow=I0(Pa,gt,Es,Wt,oo,cl,bt,ja,Up,Ns),lm=D0(ow),aw=$0(Dn,Es,Qr,Wt,lm,He,Xn,In,wt,ll),lw=U0(ot,kn,lm,aw,We,Le,er),cw=O0(bn),uw=G0(cw,We,new WeakSet,y1),hw=P0(Es,io,Wt,cl,bt,Ns),cm=R0(hw,bt),dw=s1(Dn,cm,He,In,wt),fw=n1(ot,kn,cm,dw,We,Le),pw=u1(cl,He,wt),mw=c1(ot,gt,cl,pw,We,Le,er),um=G_(Mn),Wu=__(Mn),hm=new WeakMap,gw=b_(hm,Xn),vw=um?Qv(wn,bt,v_(Mn),Wu,w_(Bv),We,gw,Le,Li,new WeakMap,new WeakMap,i1(Li,Xn),Mn):void 0,yw=$_(Fu,Le),_w=s_(Lu,wn,n_,g_,new WeakSet,We,yw,Oa,Vi,qu,zu),dm=Ry(vw,A1,tm,D1,R1,F1,L1,W1,U1,_w,H1,Q1,X1,ew,nw,rw,lw,uw,fw,mw),ww=Q_(ot,C0,We,Le),kw=X_(ot,N0,We,Le),xw=Z_(ot,E0,We,Le),Sw=M0(gt,Le),Tw=K_(ot,Sw,We),Cw=py(dm,gt,bt,a1,ww,kw,xw,Tw,lo),Bu=D_(im),Nw=Kv(Bu),fm=Hy(bn),Ew=c_(Bu),pm=d_(bn),mm=new WeakMap,Mw=T_(mm,mn),Aw=p0(fm,bn,gt,Es,io,Qr,Wt,oo,bt,pm,Wu,Mw,Ns),bw=u0(gt,Aw,Wt,bt,Ns),Dw=Oy(Dn,fm,Gr,Es,io,Qr,Wt,Ew,pm,Wu,He,Li,Xn,In,wt,ll),Iw=M_(hm),Ow=K0(mm),dp=um?by(Nw,ot,kn,Dw,bw,At,Iw,We,Le,Li,g1,Ow,x1,Hr):void 0,Rw=t_(bt,Xn),Pw=e1(Lu,wn,ju,Bu,ll,Oa,qu,zu),jw=L0(dm,wn,gt,Rw,Pw),Fw=V_(rl,Fu),Vw=L_(Eu,Vu),Lw=q_(Mu,Jp),qw=z_(rl,Le);function sn(o){return o===void 0}function Me(o){return o!==void 0}function zw(o){return typeof o=="function"}function Gn(o){return typeof o=="number"}function $s(o){return Object.prototype.toString.call(o)==="[object Object]"&&o.constructor===Object}function Ww(o){return typeof o=="boolean"}function Yt(o){return Array.isArray(o)}function Qn(o){return typeof o=="string"}function Na(o){return Qn(o)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(o)}function we(o,e){if(!o)throw new Error(e)}function gn(o,e,s=1/0){if(!(e<=o&&o<=s))throw new RangeError(`Value must be within [${e}, ${s}], got: ${o}`)}function gm(o){!o.isOffline&&o.state!=="running"&&ul('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let vm=!1,fp=!1;function pp(o){vm=o}function Bw(o){sn(o)&&vm&&!fp&&(fp=!0,ul("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let ym=console;function Uw(...o){ym.log(...o)}function ul(...o){ym.warn(...o)}function $w(o){return new Cw(o)}function Hw(o,e,s){return new jw(o,e,s)}const Hs=typeof self=="object"?self:null,Gw=Hs&&(Hs.hasOwnProperty("AudioContext")||Hs.hasOwnProperty("webkitAudioContext"));function Qw(o,e,s){return we(Me(dp),"This node only works in a secure context (https or localhost)"),new dp(o,e,s)}function xn(o,e,s,i){var a=arguments.length,c=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,s):i,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(o,e,s,i);else for(var d=o.length-1;d>=0;d--)(h=o[d])&&(c=(a<3?h(c):a>3?h(e,s,c):h(e,s))||c);return a>3&&c&&Object.defineProperty(e,s,c),c}function it(o,e,s,i){function a(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function d(g){try{m(i.next(g))}catch(v){h(v)}}function p(g){try{m(i.throw(g))}catch(v){h(v)}}function m(g){g.done?c(g.value):a(g.value).then(d,p)}m((i=i.apply(o,e||[])).next())})}class Yw{constructor(e,s,i,a){this._callback=e,this._type=s,this._minimumUpdateInterval=Math.max(128/(a||44100),.001),this.updateInterval=i,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),s=URL.createObjectURL(e),i=new Worker(s);i.onmessage=this._callback.bind(this),this._worker=i}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var s;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((s=this._worker)===null||s===void 0||s.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Qs(o){return Lw(o)}function ks(o){return Vw(o)}function ba(o){return qw(o)}function Ar(o){return Fw(o)}function Xw(o){return o instanceof tm}function Zw(o,e){return o==="value"||Qs(e)||ks(e)||Xw(e)}function xs(o,...e){if(!e.length)return o;const s=e.shift();if($s(o)&&$s(s))for(const i in s)Zw(i,s[i])?o[i]=s[i]:$s(s[i])?(o[i]||Object.assign(o,{[i]:{}}),xs(o[i],s[i])):Object.assign(o,{[i]:s[i]});return xs(o,...e)}function Kw(o,e){return o.length===e.length&&o.every((s,i)=>e[i]===s)}function H(o,e,s=[],i){const a={},c=Array.from(e);if($s(c[0])&&i&&!Reflect.has(c[0],i)&&(Object.keys(c[0]).some(d=>Reflect.has(o,d))||(xs(a,{[i]:c[0]}),s.splice(s.indexOf(i),1),c.shift())),c.length===1&&$s(c[0]))xs(a,c[0]);else for(let h=0;h<s.length;h++)Me(c[h])&&(a[s[h]]=c[h]);return xs(o,a)}function Jw(o){return o.constructor.getDefaults()}function Ir(o,e){return sn(o)?e:o}function Lt(o,e){return e.forEach(s=>{Reflect.has(o,s)&&delete o[s]}),o}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class Zn{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||Hs&&this.toString()===Hs.TONE_DEBUG_CLASS)&&Uw(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Zn.version=Sp;const Uu=1e-6;function Pr(o,e){return o>e+Uu}function xu(o,e){return Pr(o,e)||fn(o,e)}function qa(o,e){return o+Uu<e}function fn(o,e){return Math.abs(o-e)<Uu}function ek(o,e,s){return Math.max(Math.min(o,s),e)}class rn extends Zn{constructor(){super(),this.name="Timeline",this._timeline=[];const e=H(rn.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(we(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const s=this._timeline[this.length-1];we(xu(e.time,s.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const s=this._search(e.time);this._timeline.splice(s+1,0,e)}if(this.length>this.memory){const s=this.length-this.memory;this._timeline.splice(0,s)}return this}remove(e){const s=this._timeline.indexOf(e);return s!==-1&&this._timeline.splice(s,1),this}get(e,s="time"){const i=this._search(e,s);return i!==-1?this._timeline[i]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,s="time"){const i=this._search(e,s);return i+1<this._timeline.length?this._timeline[i+1]:null}getBefore(e){const s=this._timeline.length;if(s>0&&this._timeline[s-1].time<e)return this._timeline[s-1];const i=this._search(e);return i-1>=0?this._timeline[i-1]:null}cancel(e){if(this._timeline.length>1){let s=this._search(e);if(s>=0)if(fn(this._timeline[s].time,e)){for(let i=s;i>=0&&fn(this._timeline[i].time,e);i--)s=i;this._timeline=this._timeline.slice(0,s)}else this._timeline=this._timeline.slice(0,s+1);else this._timeline=[]}else this._timeline.length===1&&xu(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const s=this._search(e);return s>=0&&(this._timeline=this._timeline.slice(s+1)),this}previousEvent(e){const s=this._timeline.indexOf(e);return s>0?this._timeline[s-1]:null}_search(e,s="time"){if(this._timeline.length===0)return-1;let i=0;const a=this._timeline.length;let c=a;if(a>0&&this._timeline[a-1][s]<=e)return a-1;for(;i<c;){let h=Math.floor(i+(c-i)/2);const d=this._timeline[h],p=this._timeline[h+1];if(fn(d[s],e)){for(let m=h;m<this._timeline.length;m++){const g=this._timeline[m];if(fn(g[s],e))h=m;else break}return h}else{if(qa(d[s],e)&&Pr(p[s],e))return h;Pr(d[s],e)?c=h:i=h+1}}return-1}_iterate(e,s=0,i=this._timeline.length-1){this._timeline.slice(s,i+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,s){const i=this._search(e);return i!==-1&&this._iterate(s,0,i),this}forEachAfter(e,s){const i=this._search(e);return this._iterate(s,i+1),this}forEachBetween(e,s,i){let a=this._search(e),c=this._search(s);return a!==-1&&c!==-1?(this._timeline[a].time!==e&&(a+=1),this._timeline[c].time===s&&(c-=1),this._iterate(i,a,c)):a===-1&&this._iterate(i,0,c),this}forEachFrom(e,s){let i=this._search(e);for(;i>=0&&this._timeline[i].time>=e;)i--;return this._iterate(s,i+1),this}forEachAtTime(e,s){const i=this._search(e);if(i!==-1&&fn(this._timeline[i].time,e)){let a=i;for(let c=i;c>=0&&fn(this._timeline[c].time,e);c--)a=c;this._iterate(c=>{s(c)},a,i)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const _m=[];function hl(o){_m.push(o)}function tk(o){_m.forEach(e=>e(o))}const wm=[];function dl(o){wm.push(o)}function nk(o){wm.forEach(e=>e(o))}class co extends Zn{constructor(){super(...arguments),this.name="Emitter"}on(e,s){return e.split(/\W+/).forEach(a=>{sn(this._events)&&(this._events={}),this._events.hasOwnProperty(a)||(this._events[a]=[]),this._events[a].push(s)}),this}once(e,s){const i=(...a)=>{s(...a),this.off(e,i)};return this.on(e,i),this}off(e,s){return e.split(/\W+/).forEach(a=>{if(sn(this._events)&&(this._events={}),this._events.hasOwnProperty(a))if(sn(s))this._events[a]=[];else{const c=this._events[a];for(let h=c.length-1;h>=0;h--)c[h]===s&&c.splice(h,1)}}),this}emit(e,...s){if(this._events&&this._events.hasOwnProperty(e)){const i=this._events[e].slice(0);for(let a=0,c=i.length;a<c;a++)i[a].apply(this,s)}return this}static mixin(e){["on","once","off","emit"].forEach(s=>{const i=Object.getOwnPropertyDescriptor(co.prototype,s);Object.defineProperty(e.prototype,s,i)})}dispose(){return super.dispose(),this._events=void 0,this}}class km extends co{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class uo extends km{constructor(){var e,s;super(),this.name="Context",this._constants=new Map,this._timeouts=new rn,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const i=H(uo.getDefaults(),arguments,["context"]);i.context?(this._context=i.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=$w({latencyHint:i.latencyHint}),this._latencyHint=i.latencyHint),this._ticker=new Yw(this.emit.bind(this,"tick"),i.clockSource,i.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((s=arguments[0])===null||s===void 0)&&s.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=i.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(tk(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,s,i){return this._context.createBuffer(e,s,i)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,s){return this._context.createIIRFilter(e,s)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,s,i){return this._context.createPeriodicWave(e,s,i)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return we(Ar(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return we(Ar(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return we(Ar(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){we(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){we(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){we(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){we(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,s){return Qw(this.rawContext,e,s)}addAudioWorkletModule(e){return it(this,void 0,void 0,function*(){we(Me(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return it(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Ar(this._context)?this._context.resume():Promise.resolve()}close(){return it(this,void 0,void 0,function*(){Ar(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&nk(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const s=this._context.createBuffer(1,128,this._context.sampleRate),i=s.getChannelData(0);for(let c=0;c<i.length;c++)i[c]=e;const a=this._context.createBufferSource();return a.channelCount=1,a.channelCountMode="explicit",a.buffer=s,a.loop=!0,a.start(0),this._constants.set(e,a),a}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let s=this._timeouts.peek();for(;this._timeouts.length&&s&&s.time<=e;)s.callback(),this._timeouts.shift(),s=this._timeouts.peek()}setTimeout(e,s){this._timeoutIds++;const i=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:i+s}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(s=>{s.id===e&&this._timeouts.remove(s)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,s){const i=++this._timeoutIds,a=()=>{const c=this.now();this._timeouts.add({callback:()=>{e(),a()},id:i,time:c+s})};return a(),i}}class sk extends km{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,s,i){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,s){return{}}createPanner(){return{}}createPeriodicWave(e,s,i){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,s){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return it(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,s){return 0}clearTimeout(e){return this}setInterval(e,s){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function Ae(o,e){Yt(e)?e.forEach(s=>Ae(o,s)):Object.defineProperty(o,e,{enumerable:!0,writable:!1})}function $u(o,e){Yt(e)?e.forEach(s=>$u(o,s)):Object.defineProperty(o,e,{writable:!0})}const Pe=()=>{};class Ve extends Zn{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Pe;const e=H(Ve.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,Qn(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:Pe,onload:Pe,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Qt().sampleRate}set(e){return e instanceof Ve?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return it(this,void 0,void 0,function*(){const s=Ve.load(e).then(i=>{this.set(i),this.onload(this)});Ve.downloads.push(s);try{yield s}finally{const i=Ve.downloads.indexOf(s);Ve.downloads.splice(i,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const s=Yt(e)&&e[0].length>0,i=s?e.length:1,a=s?e[0].length:e.length,c=Qt(),h=c.createBuffer(i,a,c.sampleRate),d=!s&&i===1?[e]:e;for(let p=0;p<i;p++)h.copyToChannel(d[p],p);return this._buffer=h,this}toMono(e){if(Gn(e))this.fromArray(this.toArray(e));else{let s=new Float32Array(this.length);const i=this.numberOfChannels;for(let a=0;a<i;a++){const c=this.toArray(a);for(let h=0;h<c.length;h++)s[h]+=c[h]}s=s.map(a=>a/i),this.fromArray(s)}return this}toArray(e){if(Gn(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const s=[];for(let i=0;i<this.numberOfChannels;i++)s[i]=this.getChannelData(i);return s}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,s=this.duration){we(this.loaded,"Buffer is not loaded");const i=Math.floor(e*this.sampleRate),a=Math.floor(s*this.sampleRate);we(i<a,"The start time must be less than the end time");const c=a-i,h=Qt().createBuffer(this.numberOfChannels,c,this.sampleRate);for(let d=0;d<this.numberOfChannels;d++)h.copyToChannel(this.getChannelData(d).subarray(i,a),d);return new Ve(h)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new Ve().fromArray(e)}static fromUrl(e){return it(this,void 0,void 0,function*(){return yield new Ve().load(e)})}static load(e){return it(this,void 0,void 0,function*(){const s=e.match(/\[([^\]\[]+\|.+)\]$/);if(s){const p=s[1].split("|");let m=p[0];for(const g of p)if(Ve.supportsType(g)){m=g;break}e=e.replace(s[0],m)}const i=Ve.baseUrl===""||Ve.baseUrl.endsWith("/")?Ve.baseUrl:Ve.baseUrl+"/",a=document.createElement("a");a.href=i+e,a.pathname=(a.pathname+a.hash).split("/").map(encodeURIComponent).join("/");const c=yield fetch(a.href);if(!c.ok)throw new Error(`could not load url: ${e}`);const h=yield c.arrayBuffer();return yield Qt().decodeAudioData(h)})}static supportsType(e){const s=e.split("."),i=s[s.length-1];return document.createElement("audio").canPlayType("audio/"+i)!==""}static loaded(){return it(this,void 0,void 0,function*(){for(yield Promise.resolve();Ve.downloads.length;)yield Ve.downloads[0]})}}Ve.baseUrl="";Ve.downloads=[];class fl extends uo{constructor(){super({clockSource:"offline",context:ba(arguments[0])?arguments[0]:Hw(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:ba(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=ba(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return it(this,void 0,void 0,function*(){let s=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,s++;const i=Math.floor(this.sampleRate/128);e&&s%i===0&&(yield new Promise(a=>setTimeout(a,1)))}})}render(e=!0){return it(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(e);const s=yield this._context.startRendering();return new Ve(s)})}close(){return Promise.resolve()}}const xm=new sk;let Bs=xm;function Qt(){return Bs===xm&&Gw&&rk(new uo),Bs}function rk(o,e=!1){e&&Bs.dispose(),Ar(o)?Bs=new uo(o):ba(o)?Bs=new fl(o):Bs=o}function ik(){return Bs.resume()}if(Hs&&!Hs.TONE_SILENCE_LOGGING){const e=` * Tone.js v${Sp} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function ok(o){return Math.pow(10,o/20)}function ak(o){return 20*(Math.log(o)/Math.LN10)}function Sm(o){return Math.pow(2,o/12)}let pl=440;function lk(){return pl}function ck(o){pl=o}function Us(o){return Math.round(Tm(o))}function Tm(o){return 69+12*Math.log2(o/pl)}function Cm(o){return pl*Math.pow(2,(o-69)/12)}class Hu extends Zn{constructor(e,s,i){super(),this.defaultUnits="s",this._val=s,this._units=i,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,s)=>{const i=parseInt(e,10),a=s==="."?1.5:1;return i===1?this._beatsToUnits(this._getTimeSignature())*a:this._beatsToUnits(4/i)*a},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const s=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(s)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,s,i)=>{let a=0;return e&&e!=="0"&&(a+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),s&&s!=="0"&&(a+=this._beatsToUnits(parseFloat(s))),i&&i!=="0"&&(a+=this._beatsToUnits(parseFloat(i)/4)),a},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Hu&&this.fromType(this._val),sn(this._val))return this._noArg();if(Qn(this._val)&&sn(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if($s(this._val)){let e=0;for(const s in this._val)if(Me(this._val[s])){const i=this._val[s],a=new this.constructor(this.context,s).valueOf()*i;e+=a}return e}if(Me(this._units)){const e=this._expressions[this._units],s=this._val.toString().trim().match(e.regexp);return s?e.method.apply(this,s.slice(1)):e.method.call(this,this._val)}else return Qn(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class pn extends Hu{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const s=new pn(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(s))},regexp:/^@(.+)/}})}quantize(e,s=1){const i=new this.constructor(this.context,e).valueOf(),a=this.valueOf(),d=Math.round(a/i)*i-a;return a+d*s}toNotation(){const e=this.toSeconds(),s=["1m"];for(let c=1;c<9;c++){const h=Math.pow(2,c);s.push(h+"n."),s.push(h+"n"),s.push(h+"t")}s.push("0");let i=s[0],a=new pn(this.context,s[0]).toSeconds();return s.forEach(c=>{const h=new pn(this.context,c).toSeconds();Math.abs(h-e)<Math.abs(a-e)&&(i=c,a=h)}),i}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let s=this.valueOf()/e;s=parseFloat(s.toFixed(4));const i=Math.floor(s/this._getTimeSignature());let a=s%1*4;s=Math.floor(s)%this._getTimeSignature();const c=a.toString();return c.length>3&&(a=parseFloat(parseFloat(c).toFixed(3))),[i,s,a].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Us(this.toFrequency())}_now(){return this.context.now()}}class qt extends pn{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return lk()}static set A4(e){ck(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:qt.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,s){const a=uk[e.toLowerCase()]+(parseInt(s,10)+1)*12;return this.defaultUnits==="midi"?a:qt.mtof(a)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,s,i){let a=1;return e&&e!=="0"&&(a*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),s&&s!=="0"&&(a*=this._beatsToUnits(parseFloat(s))),i&&i!=="0"&&(a*=this._beatsToUnits(parseFloat(i)/4)),a}}})}transpose(e){return new qt(this.context,this.valueOf()*Sm(e))}harmonize(e){return e.map(s=>this.transpose(s))}toMidi(){return Us(this.valueOf())}toNote(){const e=this.toFrequency(),s=Math.log2(e/qt.A4);let i=Math.round(12*s)+57;const a=Math.floor(i/12);return a<0&&(i+=-12*a),hk[i%12]+a.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),s=this.valueOf()/e;return Math.floor(s*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return Cm(e)}static ftom(e){return Us(e)}}const uk={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},hk=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function Wn(o,e){return new qt(Qt(),o,e)}class ji extends pn{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class zt extends Zn{constructor(){super();const e=H(zt.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Qt()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return Bw(e),new pn(this.context,e).toSeconds()}toFrequency(e){return new qt(this.context,e).toFrequency()}toTicks(e){return new ji(this.context,e).toTicks()}_getPartialProperties(e){const s=this.get();return Object.keys(s).forEach(i=>{sn(e[i])&&delete s[i]}),s}get(){const e=Jw(this);return Object.keys(e).forEach(s=>{if(Reflect.has(this,s)){const i=this[s];Me(i)&&Me(i.value)&&Me(i.setValueAtTime)?e[s]=i.value:i instanceof zt?e[s]=i._getPartialProperties(e[s]):Yt(i)||Gn(i)||Qn(i)||Ww(i)?e[s]=i:delete e[s]}}),e}set(e){return Object.keys(e).forEach(s=>{Reflect.has(this,s)&&Me(this[s])&&(this[s]&&Me(this[s].value)&&Me(this[s].setValueAtTime)?this[s].value!==e[s]&&(this[s].value=e[s]):this[s]instanceof zt?this[s].set(e[s]):this[s]=e[s])}),this}}class Gu extends rn{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const s=this.get(e);return s!==null?s.state:this._initial}setStateAtTime(e,s,i){return gn(s,0),this.add(Object.assign({},i,{state:e,time:s})),this}getLastState(e,s){const i=this._search(s);for(let a=i;a>=0;a--){const c=this._timeline[a];if(c.state===e)return c}}getNextState(e,s){const i=this._search(s);if(i!==-1)for(let a=i;a<this._timeline.length;a++){const c=this._timeline[a];if(c.state===e)return c}}}class Ce extends zt{constructor(){super(H(Ce.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const e=H(Ce.getDefaults(),arguments,["param","units","convert"]);for(we(Me(e.param)&&(Qs(e.param)||e.param instanceof Ce),"param must be an AudioParam");!Qs(e.param);)e.param=e.param._param;this._swappable=Me(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new rn(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,Me(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(zt.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return Me(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Me(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,s){return this.units===s}_assertRange(e){return Me(this.maxValue)&&Me(this.minValue)&&gn(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?ok(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?ak(e):e}setValueAtTime(e,s){const i=this.toSeconds(s),a=this._fromType(e);return we(isFinite(a)&&isFinite(i),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(s)}`),this._assertRange(a),this.log(this.units,"setValueAtTime",e,i),this._events.add({time:i,type:"setValueAtTime",value:a}),this._param.setValueAtTime(a,i),this}getValueAtTime(e){const s=Math.max(this.toSeconds(e),0),i=this._events.getAfter(s),a=this._events.get(s);let c=this._initialValue;if(a===null)c=this._initialValue;else if(a.type==="setTargetAtTime"&&(i===null||i.type==="setValueAtTime")){const h=this._events.getBefore(a.time);let d;h===null?d=this._initialValue:d=h.value,a.type==="setTargetAtTime"&&(c=this._exponentialApproach(a.time,d,a.value,a.constant,s))}else if(i===null)c=a.value;else if(i.type==="linearRampToValueAtTime"||i.type==="exponentialRampToValueAtTime"){let h=a.value;if(a.type==="setTargetAtTime"){const d=this._events.getBefore(a.time);d===null?h=this._initialValue:h=d.value}i.type==="linearRampToValueAtTime"?c=this._linearInterpolate(a.time,h,i.time,i.value,s):c=this._exponentialInterpolate(a.time,h,i.time,i.value,s)}else c=a.value;return this._toType(c)}setRampPoint(e){e=this.toSeconds(e);let s=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(s)===0&&(s=this._toType(this._minOutput)),this.setValueAtTime(s,e),this}linearRampToValueAtTime(e,s){const i=this._fromType(e),a=this.toSeconds(s);return we(isFinite(i)&&isFinite(a),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(s)}`),this._assertRange(i),this._events.add({time:a,type:"linearRampToValueAtTime",value:i}),this.log(this.units,"linearRampToValueAtTime",e,a),this._param.linearRampToValueAtTime(i,a),this}exponentialRampToValueAtTime(e,s){let i=this._fromType(e);i=fn(i,0)?this._minOutput:i,this._assertRange(i);const a=this.toSeconds(s);return we(isFinite(i)&&isFinite(a),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(s)}`),this._events.add({time:a,type:"exponentialRampToValueAtTime",value:i}),this.log(this.units,"exponentialRampToValueAtTime",e,a),this._param.exponentialRampToValueAtTime(i,a),this}exponentialRampTo(e,s,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialRampToValueAtTime(e,i+this.toSeconds(s)),this}linearRampTo(e,s,i){return i=this.toSeconds(i),this.setRampPoint(i),this.linearRampToValueAtTime(e,i+this.toSeconds(s)),this}targetRampTo(e,s,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialApproachValueAtTime(e,i,s),this}exponentialApproachValueAtTime(e,s,i){s=this.toSeconds(s),i=this.toSeconds(i);const a=Math.log(i+1)/Math.log(200);return this.setTargetAtTime(e,s,a),this.cancelAndHoldAtTime(s+i*.9),this.linearRampToValueAtTime(e,s+i),this}setTargetAtTime(e,s,i){const a=this._fromType(e);we(isFinite(i)&&i>0,"timeConstant must be a number greater than 0");const c=this.toSeconds(s);return this._assertRange(a),we(isFinite(a)&&isFinite(c),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(s)}`),this._events.add({constant:i,time:c,type:"setTargetAtTime",value:a}),this.log(this.units,"setTargetAtTime",e,c,i),this._param.setTargetAtTime(a,c,i),this}setValueCurveAtTime(e,s,i,a=1){i=this.toSeconds(i),s=this.toSeconds(s);const c=this._fromType(e[0])*a;this.setValueAtTime(this._toType(c),s);const h=i/(e.length-1);for(let d=1;d<e.length;d++){const p=this._fromType(e[d])*a;this.linearRampToValueAtTime(this._toType(p),s+d*h)}return this}cancelScheduledValues(e){const s=this.toSeconds(e);return we(isFinite(s),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(s),this._param.cancelScheduledValues(s),this.log(this.units,"cancelScheduledValues",s),this}cancelAndHoldAtTime(e){const s=this.toSeconds(e),i=this._fromType(this.getValueAtTime(s));we(isFinite(s),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",s,"value="+i);const a=this._events.get(s),c=this._events.getAfter(s);return a&&fn(a.time,s)?c?(this._param.cancelScheduledValues(c.time),this._events.cancel(c.time)):(this._param.cancelAndHoldAtTime(s),this._events.cancel(s+this.sampleTime)):c&&(this._param.cancelScheduledValues(c.time),this._events.cancel(c.time),c.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(i),s):c.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(i),s)),this._events.add({time:s,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,s),this}rampTo(e,s=.1,i){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,s,i):this.linearRampTo(e,s,i),this}apply(e){const s=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(s),s);const i=this._events.get(s);if(i&&i.type==="setTargetAtTime"){const a=this._events.getAfter(i.time),c=a?a.time:s+2,h=(c-s)/10;for(let d=s;d<c;d+=h)e.linearRampToValueAtTime(this.getValueAtTime(d),d)}return this._events.forEachAfter(this.context.currentTime,a=>{a.type==="cancelScheduledValues"?e.cancelScheduledValues(a.time):a.type==="setTargetAtTime"?e.setTargetAtTime(a.value,a.time,a.constant):e[a.type](a.value,a.time)}),this}setParam(e){we(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const s=this.input;return s.disconnect(this._param),this.apply(e),this._param=e,s.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,s,i,a,c){return i+(s-i)*Math.exp(-(c-e)/a)}_linearInterpolate(e,s,i,a,c){return s+(a-s)*((c-e)/(i-e))}_exponentialInterpolate(e,s,i,a,c){return s*Math.pow(a/s,(c-e)/(i-e))}}class de extends zt{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Me(this.input)?Qs(this.input)||this.input instanceof Ce?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Me(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return Me(e)&&(e instanceof de||ks(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(i=>{i.channelCount=e.channelCount,i.channelCountMode=e.channelCountMode,i.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();we(e.length>0,"ToneAudioNode does not have any internal nodes");const s=e[0];return{channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelInterpretation:e}))}connect(e,s=0,i=0){return vn(this,e,s,i),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return ul("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,s=0,i=0){return Nm(this,e,s,i),this}chain(...e){return Ys(this,...e),this}fan(...e){return e.forEach(s=>this.connect(s)),this}dispose(){return super.dispose(),Me(this.input)&&(this.input instanceof de?this.input.dispose():ks(this.input)&&this.input.disconnect()),Me(this.output)&&(this.output instanceof de?this.output.dispose():ks(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Ys(...o){const e=o.shift();o.reduce((s,i)=>(s instanceof de?s.connect(i):ks(s)&&vn(s,i),i),e)}function vn(o,e,s=0,i=0){for(we(Me(o),"Cannot connect from undefined node"),we(Me(e),"Cannot connect to undefined node"),(e instanceof de||ks(e))&&we(e.numberOfInputs>0,"Cannot connect to node with no inputs"),we(o.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof de||e instanceof Ce;)Me(e.input)&&(e=e.input);for(;o instanceof de;)Me(o.output)&&(o=o.output);Qs(e)?o.connect(e,s):o.connect(e,s,i)}function Nm(o,e,s=0,i=0){if(Me(e))for(;e instanceof de;)e=e.input;for(;!ks(o);)Me(o.output)&&(o=o.output);Qs(e)?o.disconnect(e,s):ks(e)?o.disconnect(e,s,i):o.disconnect()}class Ne extends de{constructor(){super(H(Ne.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const e=H(Ne.getDefaults(),arguments,["gain","units"]);this.gain=new Ce({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Ae(this,"gain")}static getDefaults(){return Object.assign(de.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class jr extends de{constructor(e){super(e),this.onended=Pe,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Ne({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(s){const i=this.toSeconds(s);return this._startTime!==-1&&i>=this._startTime&&(this._stopTime===-1||i<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(de.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Pe})}_startGain(e,s=1){we(this._startTime===-1,"Source cannot be started more than once");const i=this.toSeconds(this._fadeIn);return this._startTime=e+i,this._startTime=Math.max(this._startTime,this.context.currentTime),i>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(s,e+i):this._gainNode.gain.exponentialApproachValueAtTime(s,e,i)):this._gainNode.gain.setValueAtTime(s,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){we(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const s=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+s,this._stopTime=Math.max(this._stopTime,this.now()),s>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,s,e):this._gainNode.gain.targetRampTo(0,s,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const i=this._curve==="exponential"?s*2:0;this._stopSource(this.now()+i),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Pe&&(this.onended(this),this.onended=Pe,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),we(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Pe,this}}class za extends jr{constructor(){super(H(za.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const e=H(za.getDefaults(),arguments,["offset"]);vn(this._source,this._gainNode),this.offset=new Ce({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(jr.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const s=this.toSeconds(e);return this.log("start",s),this._startGain(s),this._source.start(s),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class De extends de{constructor(){super(H(De.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const e=H(De.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new za({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(de.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,s=0,i=0){return ml(this,e,s,i),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,s){return this._param.setValueAtTime(e,s),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,s){return this._param.linearRampToValueAtTime(e,s),this}exponentialRampToValueAtTime(e,s){return this._param.exponentialRampToValueAtTime(e,s),this}exponentialRampTo(e,s,i){return this._param.exponentialRampTo(e,s,i),this}linearRampTo(e,s,i){return this._param.linearRampTo(e,s,i),this}targetRampTo(e,s,i){return this._param.targetRampTo(e,s,i),this}exponentialApproachValueAtTime(e,s,i){return this._param.exponentialApproachValueAtTime(e,s,i),this}setTargetAtTime(e,s,i){return this._param.setTargetAtTime(e,s,i),this}setValueCurveAtTime(e,s,i,a){return this._param.setValueCurveAtTime(e,s,i,a),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,s,i){return this._param.rampTo(e,s,i),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function ml(o,e,s,i){(e instanceof Ce||Qs(e)||e instanceof De&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof De&&(e.overridden=!0)),vn(o,e,s,i)}class Wa extends Ce{constructor(){super(H(Wa.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new rn(1/0),this._multiplier=1;const e=H(Wa.getDefaults(),arguments,["value"]);this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Ce.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,s,i){s=this.toSeconds(s),this.setRampPoint(s);const a=this._fromType(e),c=this._events.get(s),h=Math.round(Math.max(1/i,1));for(let d=0;d<=h;d++){const p=i*d+s,m=this._exponentialApproach(c.time,c.value,a,i,p);this.linearRampToValueAtTime(this._toType(m),p)}return this}setValueAtTime(e,s){const i=this.toSeconds(s);super.setValueAtTime(e,s);const a=this._events.get(i),c=this._events.previousEvent(a),h=this._getTicksUntilEvent(c,i);return a.ticks=Math.max(h,0),this}linearRampToValueAtTime(e,s){const i=this.toSeconds(s);super.linearRampToValueAtTime(e,s);const a=this._events.get(i),c=this._events.previousEvent(a),h=this._getTicksUntilEvent(c,i);return a.ticks=Math.max(h,0),this}exponentialRampToValueAtTime(e,s){s=this.toSeconds(s);const i=this._fromType(e),a=this._events.get(s),c=Math.round(Math.max((s-a.time)*10,1)),h=(s-a.time)/c;for(let d=0;d<=c;d++){const p=h*d+a.time,m=this._exponentialInterpolate(a.time,a.value,s,i,p);this.linearRampToValueAtTime(this._toType(m),p)}return this}_getTicksUntilEvent(e,s){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(sn(e.ticks)){const h=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(h,e.time)}const i=this._fromType(this.getValueAtTime(e.time));let a=this._fromType(this.getValueAtTime(s));const c=this._events.get(s);return c&&c.time===s&&c.type==="setValueAtTime"&&(a=this._fromType(this.getValueAtTime(s-this.sampleTime))),.5*(s-e.time)*(i+a)+e.ticks}getTicksAtTime(e){const s=this.toSeconds(e),i=this._events.get(s);return Math.max(this._getTicksUntilEvent(i,s),0)}getDurationOfTicks(e,s){const i=this.toSeconds(s),a=this.getTicksAtTime(s);return this.getTimeOfTick(a+e)-i}getTimeOfTick(e){const s=this._events.get(e,"ticks"),i=this._events.getAfter(e,"ticks");if(s&&s.ticks===e)return s.time;if(s&&i&&i.type==="linearRampToValueAtTime"&&s.value!==i.value){const a=this._fromType(this.getValueAtTime(s.time)),h=(this._fromType(this.getValueAtTime(i.time))-a)/(i.time-s.time),d=Math.sqrt(Math.pow(a,2)-2*h*(s.ticks-e)),p=(-a+d)/h,m=(-a-d)/h;return(p>0?p:m)+s.time}else return s?s.value===0?1/0:s.time+(e-s.ticks)/s.value:e/this._initialValue}ticksToTime(e,s){return this.getDurationOfTicks(e,s)}timeToTicks(e,s){const i=this.toSeconds(s),a=this.toSeconds(e),c=this.getTicksAtTime(i);return this.getTicksAtTime(i+a)-c}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const s=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(s,0)}}class Ba extends De{constructor(){super(H(Ba.getDefaults(),arguments,["value"])),this.name="TickSignal";const e=H(Ba.getDefaults(),arguments,["value"]);this.input=this._param=new Wa({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(De.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,s){return this._param.ticksToTime(e,s)}timeToTicks(e,s){return this._param.timeToTicks(e,s)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,s){return this._param.getDurationOfTicks(e,s)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Ua extends zt{constructor(){super(H(Ua.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new Gu,this._tickOffset=new rn,this._ticksAtTime=new rn,this._secondsAtTime=new rn;const e=H(Ua.getDefaults(),arguments,["frequency"]);this.frequency=new Ba({context:this.context,units:e.units,value:e.frequency}),Ae(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},zt.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,s){const i=this.toSeconds(e);return this._state.getValueAtTime(i)!=="started"&&(this._state.setStateAtTime("started",i),Me(s)&&this.setTicksAtTime(s,i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i)),this}stop(e){const s=this.toSeconds(e);if(this._state.getValueAtTime(s)==="stopped"){const i=this._state.get(s);i&&i.time>0&&(this._tickOffset.cancel(i.time),this._state.cancel(i.time))}return this._state.cancel(s),this._state.setStateAtTime("stopped",s),this.setTicksAtTime(0,s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s),this}pause(e){const s=this.toSeconds(e);return this._state.getValueAtTime(s)==="started"&&(this._state.setStateAtTime("paused",s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const s=this.toSeconds(e),i=this._state.getLastState("stopped",s),a=this._ticksAtTime.get(s),c={state:"paused",time:s};this._state.add(c);let h=a||i,d=a?a.ticks:0,p=null;return this._state.forEachBetween(h.time,s+this.sampleTime,m=>{let g=h.time;const v=this._tickOffset.get(m.time);v&&v.time>=h.time&&(d=v.ticks,g=v.time),h.state==="started"&&m.state!=="started"&&(d+=this.frequency.getTicksAtTime(m.time)-this.frequency.getTicksAtTime(g),m.time!==c.time&&(p={state:m.state,time:m.time,ticks:d})),h=m}),this._state.remove(c),p&&this._ticksAtTime.add(p),d}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const s=this.now(),i=this.frequency.timeToTicks(e,s);this.setTicksAtTime(i,s)}getSecondsAtTime(e){e=this.toSeconds(e);const s=this._state.getLastState("stopped",e),i={state:"paused",time:e};this._state.add(i);const a=this._secondsAtTime.get(e);let c=a||s,h=a?a.seconds:0,d=null;return this._state.forEachBetween(c.time,e+this.sampleTime,p=>{let m=c.time;const g=this._tickOffset.get(p.time);g&&g.time>=c.time&&(h=g.seconds,m=g.time),c.state==="started"&&p.state!=="started"&&(h+=p.time-m,p.time!==i.time&&(d={state:p.state,time:p.time,seconds:h})),c=p}),this._state.remove(i),d&&this._secondsAtTime.add(d),h}setTicksAtTime(e,s){return s=this.toSeconds(s),this._tickOffset.cancel(s),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,s),ticks:e,time:s}),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,s=this.now()){const i=this._tickOffset.get(s),a=this._state.get(s),c=Math.max(i.time,a.time),h=this.frequency.getTicksAtTime(c)+e-i.ticks;return this.frequency.getTimeOfTick(h)}forEachTickBetween(e,s,i){let a=this._state.get(e);this._state.forEachBetween(e,s,h=>{a&&a.state==="started"&&h.state!=="started"&&this.forEachTickBetween(Math.max(a.time,e),h.time-this.sampleTime,i),a=h});let c=null;if(a&&a.state==="started"){const h=Math.max(a.time,e),d=this.frequency.getTicksAtTime(h),p=this.frequency.getTicksAtTime(a.time),m=d-p;let g=Math.ceil(m)-m;g=fn(g,1)?0:g;let v=this.frequency.getTimeOfTick(d+g);for(;v<s;){try{i(v,Math.round(this.getTicksAtTime(v)))}catch(k){c=k;break}v+=this.frequency.getDurationOfTicks(1,v)}}if(c)throw c;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class qi extends zt{constructor(){super(H(qi.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=Pe,this._lastUpdate=0,this._state=new Gu("stopped"),this._boundLoop=this._loop.bind(this);const e=H(qi.getDefaults(),arguments,["callback","frequency"]);this.callback=e.callback,this._tickSource=new Ua({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Ae(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(zt.getDefaults(),{callback:Pe,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,s){gm(this.context);const i=this.toSeconds(e);return this.log("start",i),this._state.getValueAtTime(i)!=="started"&&(this._state.setStateAtTime("started",i),this._tickSource.start(i,s),i<this._lastUpdate&&this.emit("start",i,s)),this}stop(e){const s=this.toSeconds(e);return this.log("stop",s),this._state.cancel(s),this._state.setStateAtTime("stopped",s),this._tickSource.stop(s),s<this._lastUpdate&&this.emit("stop",s),this}pause(e){const s=this.toSeconds(e);return this._state.getValueAtTime(s)==="started"&&(this._state.setStateAtTime("paused",s),this._tickSource.pause(s),s<this._lastUpdate&&this.emit("pause",s)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,s){return this._tickSource.setTicksAtTime(e,s),this}getTimeOfTick(e,s=this.now()){return this._tickSource.getTimeOfTick(e,s)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,s){const i=this.toSeconds(s),a=this.getTicksAtTime(i);return this._tickSource.getTimeOfTick(a+e,i)}_loop(){const e=this._lastUpdate,s=this.now();this._lastUpdate=s,this.log("loop",e,s),e!==s&&(this._state.forEachBetween(e,s,i=>{switch(i.state){case"started":const a=this._tickSource.getTicksAtTime(i.time);this.emit("start",i.time,a);break;case"stopped":i.time!==0&&this.emit("stop",i.time);break;case"paused":this.emit("pause",i.time);break}}),this._tickSource.forEachTickBetween(e,s,(i,a)=>{this.callback(i,a)}))}getStateAtTime(e){const s=this.toSeconds(e);return this._state.getValueAtTime(s)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}co.mixin(qi);class Ss extends de{constructor(){super(H(Ss.getDefaults(),arguments,["delayTime","maxDelay"])),this.name="Delay";const e=H(Ss.getDefaults(),arguments,["delayTime","maxDelay"]),s=this.toSeconds(e.maxDelay);this._maxDelay=Math.max(s,this.toSeconds(e.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(s),this.delayTime=new Ce({context:this.context,param:this._delayNode.delayTime,units:"time",value:e.delayTime,minValue:0,maxValue:this.maxDelay}),Ae(this,"delayTime")}static getDefaults(){return Object.assign(de.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}class Qu extends Zn{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=H(Qu.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(s=>{this._loadingCount++;const i=e.urls[s];this.add(s,i,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Pe,onload:Pe,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return we(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,s])=>s.loaded)}add(e,s,i=Pe,a=Pe){return Qn(s)?(this.baseUrl&&s.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new Ve(this.baseUrl+s,i,a))):this._buffers.set(e.toString(),new Ve(s,i,a)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class $a extends qt{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return Us(super._frequencyToUnits(e))}_ticksToUnits(e){return Us(super._ticksToUnits(e))}_beatsToUnits(e){return Us(super._beatsToUnits(e))}_secondsToUnits(e){return Us(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return Cm(this.toMidi())}transpose(e){return new $a(this.context,this.toMidi()+e)}}class Dr extends ji{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class dk extends zt{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new rn,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,s){return this._events.add({callback:e,time:this.toSeconds(s)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const s=this._events.shift();s&&e-s.time<=this.expiration&&s.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}hl(o=>{o.draw=new dk({context:o})});dl(o=>{o.draw.dispose()});class fk extends Zn{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){we(Me(e.time),"Events must have a time property"),we(Me(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let s=new pk(e.time,e.time+e.duration,e);for(this._root===null?this._root=s:this._root.insert(s),this._length++;s!==null;)s.updateHeight(),s.updateMax(),this._rebalance(s),s=s.parent;return this}remove(e){if(this._root!==null){const s=[];this._root.search(e.time,s);for(const i of s)if(i.event===e){this._removeNode(i),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,s=>this.remove(s)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,s){e.parent!==null?(e.isLeftChild()?e.parent.left=s:e.parent.right=s,this._rebalance(e.parent)):this._setRoot(s)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const s=e.getBalance();let i,a=null;if(s>0)if(e.left.right===null)i=e.left,i.right=e.right,a=i;else{for(i=e.left.right;i.right!==null;)i=i.right;i.parent&&(i.parent.right=i.left,a=i.parent,i.left=e.left,i.right=e.right)}else if(e.right.left===null)i=e.right,i.left=e.left,a=i;else{for(i=e.right.left;i.left!==null;)i=i.left;i.parent&&(i.parent.left=i.right,a=i.parent,i.left=e.left,i.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=i:e.parent.right=i:this._setRoot(i),a&&this._rebalance(a)}e.dispose()}_rotateLeft(e){const s=e.parent,i=e.isLeftChild(),a=e.right;a&&(e.right=a.left,a.left=e),s!==null?i?s.left=a:s.right=a:this._setRoot(a)}_rotateRight(e){const s=e.parent,i=e.isLeftChild(),a=e.left;a&&(e.left=a.right,a.right=e),s!==null?i?s.left=a:s.right=a:this._setRoot(a)}_rebalance(e){const s=e.getBalance();s>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):s<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const s=[];if(this._root.search(e,s),s.length>0){let i=s[0];for(let a=1;a<s.length;a++)s[a].low>i.low&&(i=s[a]);return i.event}}return null}forEach(e){if(this._root!==null){const s=[];this._root.traverse(i=>s.push(i)),s.forEach(i=>{i.event&&e(i.event)})}return this}forEachAtTime(e,s){if(this._root!==null){const i=[];this._root.search(e,i),i.forEach(a=>{a.event&&s(a.event)})}return this}forEachFrom(e,s){if(this._root!==null){const i=[];this._root.searchAfter(e,i),i.forEach(a=>{a.event&&s(a.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class pk{constructor(e,s,i){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=i,this.low=e,this.high=s,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,s){e>this.max||(this.left!==null&&this.left.search(e,s),this.low<=e&&this.high>e&&s.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,s))}searchAfter(e,s){this.low>=e&&(s.push(this),this.left!==null&&this.left.searchAfter(e,s)),this.right!==null&&this.right.searchAfter(e,s)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Xs extends de{constructor(){super(H(Xs.getDefaults(),arguments,["volume"])),this.name="Volume";const e=H(Xs.getDefaults(),arguments,["volume"]);this.input=this.output=new Ne({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Ae(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(de.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Ha extends de{constructor(){super(H(Ha.getDefaults(),arguments)),this.name="Destination",this.input=new Xs({context:this.context}),this.output=new Ne({context:this.context}),this.volume=this.input.volume;const e=H(Ha.getDefaults(),arguments);Ys(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(de.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Ys(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}hl(o=>{o.destination=new Ha({context:o})});dl(o=>{o.destination.dispose()});class mk extends Zn{constructor(e){super(),this.name="TimelineValue",this._timeline=new rn({memory:10}),this._initialValue=e}set(e,s){return this._timeline.add({value:e,time:s}),this}get(e){const s=this._timeline.get(e);return s?s.value:this._initialValue}}class An extends de{constructor(){super(Object.assign(H(An.getDefaults(),arguments,["context"])))}connect(e,s=0,i=0){return ml(this,e,s,i),this}}class Ts extends An{constructor(){super(Object.assign(H(Ts.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const e=H(Ts.getDefaults(),arguments,["mapping","length"]);Yt(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):zw(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(De.getDefaults(),{length:1024})}setMap(e,s=1024){const i=new Float32Array(s);for(let a=0,c=s;a<c;a++){const h=a/(c-1)*2-1;i[a]=e(h,a)}return this.curve=i,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const s=["none","2x","4x"].some(i=>i.includes(e));we(s,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class zi extends An{constructor(){super(Object.assign(H(zi.getDefaults(),arguments,["value"]))),this.name="Pow";const e=H(zi.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new Ts({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(An.getDefaults(),{value:1})}_expFunc(e){return s=>Math.pow(Math.abs(s),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Cs{constructor(e,s){this.id=Cs._eventId++,this._remainderTime=0;const i=Object.assign(Cs.getDefaults(),s);this.transport=e,this.callback=i.callback,this._once=i.once,this.time=Math.floor(i.time),this._remainderTime=i.time-this.time}static getDefaults(){return{callback:Pe,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const s=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*s),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Cs._eventId=0;class Yu extends Cs{constructor(e,s){super(e,s),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const i=Object.assign(Yu.getDefaults(),s);this.duration=i.duration,this._interval=i.interval,this._nextTick=i.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Cs.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return qa(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Dr(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){qa(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Dr(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const s=this.transport.getTicksAtTime(e);Pr(s,this.time)&&(this._nextTick=this.floatTime+Math.ceil((s-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Wi extends zt{constructor(){super(H(Wi.getDefaults(),arguments)),this.name="Transport",this._loop=new mk(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new rn,this._repeatedEvents=new fk,this._syncedSignals=[],this._swingAmount=0;const e=H(Wi.getDefaults(),arguments);this._ppq=e.ppq,this._clock=new qi({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Ae(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(zt.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,s){if(this._loop.get(e)&&s>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),s=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&s%this._ppq!==0&&s%(this._swingTicks*2)!==0){const i=s%(this._swingTicks*2)/(this._swingTicks*2),a=Math.sin(i*Math.PI)*this._swingAmount;e+=new Dr(this.context,this._swingTicks*2/3).toSeconds()*a}pp(!0),this._timeline.forEachAtTime(s,i=>i.invoke(e)),pp(!1)}schedule(e,s){const i=new Cs(this,{callback:e,time:new ji(this.context,s).toTicks()});return this._addEvent(i,this._timeline)}scheduleRepeat(e,s,i,a=1/0){const c=new Yu(this,{callback:e,duration:new pn(this.context,a).toTicks(),interval:new pn(this.context,s).toTicks(),time:new ji(this.context,i).toTicks()});return this._addEvent(c,this._repeatedEvents)}scheduleOnce(e,s){const i=new Cs(this,{callback:e,once:!0,time:new ji(this.context,s).toTicks()});return this._addEvent(i,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const s=this._scheduledEvents[e.toString()];s.timeline.remove(s.event),s.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,s){return this._scheduledEvents[e.id.toString()]={event:e,timeline:s},s.add(e),e.id}cancel(e=0){const s=this.toTicks(e);return this._timeline.forEachFrom(s,i=>this.clear(i.id)),this._repeatedEvents.forEachFrom(s,i=>this.clear(i.id)),this}_bindClockEvents(){this._clock.on("start",(e,s)=>{s=new Dr(this.context,s).toSeconds(),this.emit("start",e,s)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,s){this.context.resume();let i;return Me(s)&&(i=this.toTicks(s)),this._clock.start(e,i),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Yt(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new pn(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new pn(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,s){return this.loopStart=e,this.loopEnd=s,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Dr(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),s=this._clock.getTicksAtTime(e);return new Dr(this.context,s).toBarsBeatsSixteenths()}set position(e){const s=this.toTicks(e);this.ticks=s}get seconds(){return this._clock.seconds}set seconds(e){const s=this.now(),i=this._clock.frequency.timeToTicks(e,s);this.ticks=i}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const s=this.now();if(this.state==="started"){const i=this._clock.getTicksAtTime(s),a=this._clock.frequency.getDurationOfTicks(Math.ceil(i)-i,s),c=s+a;this.emit("stop",c),this._clock.setTicksAtTime(e,c),this.emit("start",c,this._clock.getSecondsAtTime(c))}else this.emit("ticks",s),this._clock.setTicksAtTime(e,s)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const s=this.now(),i=this.getTicksAtTime(s),a=e-i%e;return this._clock.nextTickTime(a,s)}}syncSignal(e,s){const i=this.now();let a=this.bpm,c=1/(60/a.getValueAtTime(i)/this.PPQ),h=[];if(e.units==="time"){const p=.015625/c,m=new Ne(p),g=new zi(-1),v=new Ne(p);a.chain(m,g,v),a=v,c=1/c,h=[m,g,v]}s||(e.getValueAtTime(i)!==0?s=e.getValueAtTime(i)/c:s=0);const d=new Ne(s);return a.connect(d),d.connect(e._param),h.push(d),this._syncedSignals.push({initial:e.value,nodes:h,signal:e}),e.value=0,this}unsyncSignal(e){for(let s=this._syncedSignals.length-1;s>=0;s--){const i=this._syncedSignals[s];i.signal===e&&(i.nodes.forEach(a=>a.dispose()),i.signal.value=i.initial,this._syncedSignals.splice(s,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),$u(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}co.mixin(Wi);hl(o=>{o.transport=new Wi({context:o})});dl(o=>{o.transport.dispose()});class dt extends de{constructor(e){super(e),this.input=void 0,this._state=new Gu("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Pe,this._syncedStop=Pe,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Xs({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Ae(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(de.getDefaults(),{mute:!1,onstop:Pe,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,s,i){let a=sn(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(a=this._clampToCurrentTime(a),!this._synced&&this._state.getValueAtTime(a)==="started")we(Pr(a,this._state.get(a).time),"Start time must be strictly greater than previous start time"),this._state.cancel(a),this._state.setStateAtTime("started",a),this.log("restart",a),this.restart(a,s,i);else if(this.log("start",a),this._state.setStateAtTime("started",a),this._synced){const c=this._state.get(a);c&&(c.offset=this.toSeconds(Ir(s,0)),c.duration=i?this.toSeconds(i):void 0);const h=this.context.transport.schedule(d=>{this._start(d,s,i)},a);this._scheduled.push(h),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>a&&this._syncedStart(this.now(),this.context.transport.seconds)}else gm(this.context),this._start(a,s,i);return this}stop(e){let s=sn(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(s=this._clampToCurrentTime(s),this._state.getValueAtTime(s)==="started"||Me(this._state.getNextState("started",s))){if(this.log("stop",s),!this._synced)this._stop(s);else{const i=this.context.transport.schedule(this._stop.bind(this),s);this._scheduled.push(i)}this._state.cancel(s),this._state.setStateAtTime("stopped",s)}return this}restart(e,s,i){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,s,i)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,s)=>{if(Pr(s,0)){const i=this._state.get(s);if(i&&i.state==="started"&&i.time!==s){const a=s-this.toSeconds(i.time);let c;i.duration&&(c=this.toSeconds(i.duration)-a),this._start(e,this.toSeconds(i.offset)+a,c)}}},this._syncedStop=e=>{const s=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(s)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Pe,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Fr extends jr{constructor(){super(H(Fr.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const e=H(Fr.getDefaults(),arguments,["url","onload"]);vn(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Ce({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new Ve(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(jr.getDefaults(),{url:new Ve,loop:!1,loopEnd:0,loopStart:0,onload:Pe,onerror:Pe,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,s,i,a=1){we(this.buffer.loaded,"buffer is either not set or not loaded");const c=this.toSeconds(e);this._startGain(c,a),this.loop?s=Ir(s,this.loopStart):s=Ir(s,0);let h=Math.max(this.toSeconds(s),0);if(this.loop){const d=this.toSeconds(this.loopEnd)||this.buffer.duration,p=this.toSeconds(this.loopStart),m=d-p;xu(h,d)&&(h=(h-p)%m+p),fn(h,this.buffer.duration)&&(h=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,qa(h,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(c,h)),Me(i)){let d=this.toSeconds(i);d=Math.max(d,0),this.stop(c+d)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class Zs extends dt{constructor(){super(H(Zs.getDefaults(),arguments,["type"])),this.name="Noise",this._source=null;const e=H(Zs.getDefaults(),arguments,["type"]);this._playbackRate=e.playbackRate,this.type=e.type,this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut}static getDefaults(){return Object.assign(dt.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(e){if(we(e in mp,"Noise: invalid type: "+e),this._type!==e&&(this._type=e,this.state==="started")){const s=this.now();this._stop(s),this._start(s)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._source&&(this._source.playbackRate.value=e)}_start(e){const s=mp[this._type];this._source=new Fr({url:s,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(e),Math.random()*(s.duration-.001))}_stop(e){this._source&&(this._source.stop(this.toSeconds(e)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(e){this._stop(e),this._start(e)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const Mr=44100*5,hu=2,Bn={brown:null,pink:null,white:null},mp={get brown(){if(!Bn.brown){const o=[];for(let e=0;e<hu;e++){const s=new Float32Array(Mr);o[e]=s;let i=0;for(let a=0;a<Mr;a++){const c=Math.random()*2-1;s[a]=(i+.02*c)/1.02,i=s[a],s[a]*=3.5}}Bn.brown=new Ve().fromArray(o)}return Bn.brown},get pink(){if(!Bn.pink){const o=[];for(let e=0;e<hu;e++){const s=new Float32Array(Mr);o[e]=s;let i,a,c,h,d,p,m;i=a=c=h=d=p=m=0;for(let g=0;g<Mr;g++){const v=Math.random()*2-1;i=.99886*i+v*.0555179,a=.99332*a+v*.0750759,c=.969*c+v*.153852,h=.8665*h+v*.3104856,d=.55*d+v*.5329522,p=-.7616*p-v*.016898,s[g]=i+a+c+h+d+p+m+v*.5362,s[g]*=.11,m=v*.115926}}Bn.pink=new Ve().fromArray(o)}return Bn.pink},get white(){if(!Bn.white){const o=[];for(let e=0;e<hu;e++){const s=new Float32Array(Mr);o[e]=s;for(let i=0;i<Mr;i++)s[i]=Math.random()*2-1}Bn.white=new Ve().fromArray(o)}return Bn.white}};function tr(o,e){return it(this,void 0,void 0,function*(){const s=e/o.context.sampleRate,i=new fl(1,s,o.context.sampleRate);return new o.constructor(Object.assign(o.get(),{frequency:2/s,detune:0,context:i})).toDestination().start(0),(yield i.render()).getChannelData(0)})}class Ga extends jr{constructor(){super(H(Ga.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const e=H(Ga.getDefaults(),arguments,["frequency","type"]);vn(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new Ce({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new Ce({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Ae(this,["frequency","detune"])}static getDefaults(){return Object.assign(jr.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const s=this.toSeconds(e);return this.log("start",s),this._startGain(s),this._oscillator.start(s),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Je extends dt{constructor(){super(H(Je.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const e=H(Je.getDefaults(),arguments,["frequency","type"]);this.frequency=new De({context:this.context,units:"frequency",value:e.frequency}),Ae(this,"frequency"),this.detune=new De({context:this.context,units:"cents",value:e.detune}),Ae(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(dt.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const s=this.toSeconds(e),i=new Ga({context:this.context,onended:()=>this.onstop(this)});this._oscillator=i,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(s)}_stop(e){const s=this.toSeconds(e);this._oscillator&&this._oscillator.stop(s)}_restart(e){const s=this.toSeconds(e);return this.log("restart",s),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(s),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Je._periodicWaveCache.find(s=>s.phase===this._phase&&Kw(s.partials,this._partials));{const e=Je._periodicWaveCache.find(s=>s.type===this._type&&s.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const s=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&s)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const i=this._getCachedPeriodicWave();if(Me(i)){const{partials:a,wave:c}=i;this._wave=c,this._partials=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[a,c]=this._getRealImaginary(e,this._phase),h=this.context.createPeriodicWave(a,c);this._wave=h,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Je._periodicWaveCache.push({imag:c,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:a,type:this._type,wave:this._wave}),Je._periodicWaveCache.length>100&&Je._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){gn(e,0);let s=this._type;const i=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(i&&(s=i[1]),this._type!=="custom")e===0?this.type=s:this.type=s+e.toString();else{const a=new Float32Array(e);this._partials.forEach((c,h)=>a[h]=c),this._partials=Array.from(a),this.type=this._type}}_getRealImaginary(e,s){let a=2048;const c=new Float32Array(a),h=new Float32Array(a);let d=1;if(e==="custom"){if(d=this._partials.length+1,this._partialCount=this._partials.length,a=d,this._partials.length===0)return[c,h]}else{const p=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);p?(d=parseInt(p[2],10)+1,this._partialCount=parseInt(p[2],10),e=p[1],d=Math.max(d,2),a=d):this._partialCount=0,this._partials=[]}for(let p=1;p<a;++p){const m=2/(p*Math.PI);let g;switch(e){case"sine":g=p<=d?1:0,this._partials[p-1]=g;break;case"square":g=p&1?2*m:0,this._partials[p-1]=g;break;case"sawtooth":g=m*(p&1?1:-1),this._partials[p-1]=g;break;case"triangle":p&1?g=2*(m*m)*(p-1>>1&1?-1:1):g=0,this._partials[p-1]=g;break;case"custom":g=this._partials[p-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}g!==0?(c[p]=-g*Math.sin(s*p),h[p]=g*Math.cos(s*p)):(c[p]=0,h[p]=0)}return[c,h]}_inverseFFT(e,s,i){let a=0;const c=e.length;for(let h=0;h<c;h++)a+=e[h]*Math.cos(h*i)+s[h]*Math.sin(h*i);return a}getInitialValue(){const[e,s]=this._getRealImaginary(this._type,0);let i=0;const a=Math.PI*2,c=32;for(let h=0;h<c;h++)i=Math.max(this._inverseFFT(e,s,h/c*a),i);return ek(-this._inverseFFT(e,s,this._phase)/i,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(e=1024){return it(this,void 0,void 0,function*(){return tr(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Je._periodicWaveCache=[];class Xu extends An{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Ts({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class yn extends De{constructor(){super(Object.assign(H(yn.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const e=H(yn.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new Ne({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(De.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Bi extends dt{constructor(){super(H(Bi.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new Xu({context:this.context}),this._modulationNode=new Ne({context:this.context});const e=H(Bi.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Je({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Je({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new yn({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Ae(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Je.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return it(this,void 0,void 0,function*(){return tr(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Vr extends dt{constructor(){super(H(Vr.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new Ne({context:this.context,gain:0});const e=H(Vr.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Je({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new De({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Je({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new yn({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new yn({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Ae(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Je.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return it(this,void 0,void 0,function*(){return tr(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Lr extends dt{constructor(){super(H(Lr.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new Ne({context:this.context,gain:0}),this._thresh=new Ts({context:this.context,mapping:s=>s<=0?-1:1});const e=H(Lr.getDefaults(),arguments,["frequency","width"]);this.width=new De({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Je({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Ae(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(dt.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(e=1024){return it(this,void 0,void 0,function*(){return tr(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Ui extends dt{constructor(){super(H(Ui.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const e=H(Ui.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new De({context:this.context,units:"frequency",value:e.frequency}),this.detune=new De({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Ae(this,["frequency","detune"])}static getDefaults(){return Object.assign(Je.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(s=>s.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(s=>s.stop(e))}_restart(e){this._forEach(s=>s.restart(e))}_forEach(e){for(let s=0;s<this._oscillators.length;s++)e(this._oscillators[s],s)}get type(){return this._type}set type(e){this._type=e,this._forEach(s=>s.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const s=-e/2,i=e/(this._oscillators.length-1);this._forEach((a,c)=>a.detune.value=s+i*c)}}get count(){return this._oscillators.length}set count(e){if(gn(e,1),this._oscillators.length!==e){this._forEach(s=>s.dispose()),this._oscillators=[];for(let s=0;s<e;s++){const i=new Je({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+s/e*360,partialCount:this._partialCount,onstop:s===0?()=>this.onstop(this):Pe});this.type==="custom"&&(i.partials=this._partials),this.frequency.connect(i.frequency),this.detune.connect(i.detune),i.detune.overridden=!1,i.connect(this.output),this._oscillators[s]=i}this.spread=this._spread,this.state==="started"&&this._forEach(s=>s.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((s,i)=>s.phase=this._phase+i/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(s=>s.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(s=>s.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(s=>s.partialCount=e),this._type=this._oscillators[0].type}asArray(e=1024){return it(this,void 0,void 0,function*(){return tr(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class $i extends dt{constructor(){super(H($i.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new yn({context:this.context,value:2});const e=H($i.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new Lr({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Je({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Ae(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(dt.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(e=1024){return it(this,void 0,void 0,function*(){return tr(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const gp={am:Bi,fat:Ui,fm:Vr,oscillator:Je,pulse:Lr,pwm:$i};class Yn extends dt{constructor(){super(H(Yn.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const e=H(Yn.getDefaults(),arguments,["frequency","type"]);this.frequency=new De({context:this.context,units:"frequency",value:e.frequency}),this.detune=new De({context:this.context,units:"cents",value:e.detune}),Ae(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Je.getDefaults(),Vr.getDefaults(),Bi.getDefaults(),Ui.getDefaults(),Lr.getDefaults(),$i.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(s=>this._sourceType===s)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const s=gp[e],i=this.now();if(this._oscillator){const a=this._oscillator;a.stop(i),this.context.setTimeout(()=>a.dispose(),this.blockTime)}this._oscillator=new s({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(i)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let s="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(s=this._oscillator.type),e==="fm"?this.type="fm"+s:e==="am"?this.type="am"+s:e==="fat"?this.type="fat"+s:e==="oscillator"?this.type=s:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,s){return e instanceof gp[s]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&Gn(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&Gn(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Qn(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(e=1024){return it(this,void 0,void 0,function*(){return tr(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Zu extends De{constructor(){super(Object.assign(H(Zu.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new Ne({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Ys(this._constantSource,this._sum)}static getDefaults(){return Object.assign(De.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class qr extends An{constructor(){super(Object.assign(H(qr.getDefaults(),arguments,["min","max"]))),this.name="Scale";const e=H(qr.getDefaults(),arguments,["min","max"]);this._mult=this.input=new yn({context:this.context,value:e.max-e.min}),this._add=this.output=new Zu({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(An.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class Ku extends An{constructor(){super(Object.assign(H(Ku.getDefaults(),arguments))),this.name="Zero",this._gain=new Ne({context:this.context}),this.output=this._gain,this.input=void 0,vn(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),Nm(this.context.getConstant(0),this._gain),this}}class Hi extends de{constructor(){super(H(Hi.getDefaults(),arguments,["frequency","min","max"])),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=Ce.prototype._fromType,this._toType=Ce.prototype._toType,this._is=Ce.prototype._is,this._clampValue=Ce.prototype._clampValue;const e=H(Hi.getDefaults(),arguments,["frequency","min","max"]);this._oscillator=new Je(e),this.frequency=this._oscillator.frequency,this._amplitudeGain=new Ne({context:this.context,gain:e.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new De({context:this.context,units:"audioRange",value:0}),this._zeros=new Ku({context:this.context}),this._a2g=new Xu({context:this.context}),this._scaler=this.output=new qr({context:this.context,max:e.max,min:e.min}),this.units=e.units,this.min=e.min,this.max=e.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),Ae(this,["amplitude","frequency"]),this.phase=e.phase}static getDefaults(){return Object.assign(Je.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(0,e),this._oscillator.start(e),this}stop(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(this._stoppedValue,e),this._oscillator.stop(e),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(e){e=this._fromType(e),this._scaler.min=e}get max(){return this._toType(this._scaler.max)}set max(e){e=this._fromType(e),this._scaler.max=e}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(e){this._oscillator.partials=e,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e,this._setStoppedValue()}get units(){return this._units}set units(e){const s=this.min,i=this.max;this._units=e,this.min=s,this.max=i}get state(){return this._oscillator.state}connect(e,s,i){return(e instanceof Ce||e instanceof De)&&(this.convert=e.convert,this.units=e.units),ml(this,e,s,i),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function Em(o,e=1/0){const s=new WeakMap;return function(i,a){Reflect.defineProperty(i,a,{configurable:!0,enumerable:!0,get:function(){return s.get(this)},set:function(c){gn(c,o,e),s.set(this,c)}})}}function Kn(o,e=1/0){const s=new WeakMap;return function(i,a){Reflect.defineProperty(i,a,{configurable:!0,enumerable:!0,get:function(){return s.get(this)},set:function(c){gn(this.toSeconds(c),o,e),s.set(this,c)}})}}class Gi extends dt{constructor(){super(H(Gi.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const e=H(Gi.getDefaults(),arguments,["url","onload"]);this._buffer=new Ve({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(dt.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Pe,onerror:Pe,playbackRate:1,reverse:!1})}load(e){return it(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=Pe){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,s,i){return super.start(e,s,i),this}_start(e,s,i){this._loop?s=Ir(s,this._loopStart):s=Ir(s,0);const a=this.toSeconds(s),c=i;i=Ir(i,Math.max(this._buffer.duration-a,0));let h=this.toSeconds(i);h=h/this._playbackRate,e=this.toSeconds(e);const d=new Fr({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+h),this._state.setStateAtTime("stopped",e+h,{implicitEnd:!0})),this._activeSources.add(d),this._loop&&sn(c)?d.start(e,a):d.start(e,a,h-this.toSeconds(this.fadeOut))}_stop(e){const s=this.toSeconds(e);this._activeSources.forEach(i=>i.stop(s))}restart(e,s,i){return super.restart(e,s,i),this}_restart(e,s,i){var a;(a=[...this._activeSources].pop())===null||a===void 0||a.stop(e),this._start(e,s,i)}seek(e,s){const i=this.toSeconds(s);if(this._state.getValueAtTime(i)==="started"){const a=this.toSeconds(e);this._stop(i),this._start(i,a)}return this}setLoopPoints(e,s){return this.loopStart=e,this.loopEnd=s,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&gn(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(s=>{s.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&gn(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(s=>{s.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(s=>{s.loop=e}),e)){const s=this._state.getNextState("stopped",this.now());s&&this._state.cancel(s.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const s=this.now(),i=this._state.getNextState("stopped",s);i&&i.implicitEnd&&(this._state.cancel(i.time),this._activeSources.forEach(a=>a.cancelStop())),this._activeSources.forEach(a=>{a.playbackRate.setValueAtTime(e,s)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}xn([Kn(0)],Gi.prototype,"fadeIn",void 0);xn([Kn(0)],Gi.prototype,"fadeOut",void 0);class gk extends An{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new Ts({context:this.context,mapping:e=>Math.abs(e)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class _t extends de{constructor(){super(H(_t.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new De({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const e=H(_t.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(de.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,s){if(Qn(e))return e;{let i;for(i in Ea)if(Ea[i][s]===e)return i;return e}}_setCurve(e,s,i){if(Qn(i)&&Reflect.has(Ea,i)){const a=Ea[i];$s(a)?e!=="_decayCurve"&&(this[e]=a[s]):this[e]=a}else if(Yt(i)&&e!=="_decayCurve")this[e]=i;else throw new Error("Envelope: invalid curve: "+i)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,s=1){this.log("triggerAttack",e,s),e=this.toSeconds(e);let a=this.toSeconds(this.attack);const c=this.toSeconds(this.decay),h=this.getValueAtTime(e);if(h>0){const d=1/a;a=(1-h)/d}if(a<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(s,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(s,a,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(s,a,e);else{this._sig.cancelAndHoldAtTime(e);let d=this._attackCurve;for(let p=1;p<d.length;p++)if(d[p-1]<=h&&h<=d[p]){d=this._attackCurve.slice(p),d[0]=h;break}this._sig.setValueCurveAtTime(d,e,a,s)}if(c&&this.sustain<1){const d=s*this.sustain,p=e+a;this.log("decay",p),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(d,c+p):this._sig.exponentialApproachValueAtTime(d,p,c)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const s=this.getValueAtTime(e);if(s>0){const i=this.toSeconds(this.release);i<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,i,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,i,e):(we(Yt(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,i,s))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,s,i=1){return s=this.toSeconds(s),this.triggerAttack(s,i),this.triggerRelease(s+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,s=0,i=0){return ml(this,e,s,i),this}asArray(e=1024){return it(this,void 0,void 0,function*(){const s=e/this.context.sampleRate,i=new fl(1,s,this.context.sampleRate),a=this.toSeconds(this.attack)+this.toSeconds(this.decay),c=a+this.toSeconds(this.release),h=c*.1,d=c+h,p=new this.constructor(Object.assign(this.get(),{attack:s*this.toSeconds(this.attack)/d,decay:s*this.toSeconds(this.decay)/d,release:s*this.toSeconds(this.release)/d,context:i}));return p._sig.toDestination(),p.triggerAttackRelease(s*(a+h)/d,0),(yield i.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}xn([Kn(0)],_t.prototype,"attack",void 0);xn([Kn(0)],_t.prototype,"decay",void 0);xn([Em(0,1)],_t.prototype,"sustain",void 0);xn([Kn(0)],_t.prototype,"release",void 0);const Ea=(()=>{let e,s;const i=[];for(e=0;e<128;e++)i[e]=Math.sin(e/127*(Math.PI/2));const a=[],c=6.4;for(e=0;e<127;e++){s=e/127;const k=Math.sin(s*(Math.PI*2)*c-Math.PI/2)+1;a[e]=k/10+s*.83}a[127]=1;const h=[],d=5;for(e=0;e<128;e++)h[e]=Math.ceil(e/127*d)/d;const p=[];for(e=0;e<128;e++)s=e/127,p[e]=.5*(1-Math.cos(Math.PI*s));const m=[];for(e=0;e<128;e++){s=e/127;const k=Math.pow(s,3)*4+.2,S=Math.cos(k*Math.PI*2*s);m[e]=Math.abs(S*(1-s))}function g(k){const S=new Array(k.length);for(let w=0;w<k.length;w++)S[w]=1-k[w];return S}function v(k){return k.slice(0).reverse()}return{bounce:{In:g(m),Out:m},cosine:{In:i,Out:v(i)},exponential:"exponential",linear:"linear",ripple:{In:a,Out:g(a)},sine:{In:p,Out:g(p)},step:{In:h,Out:g(h)}}})();class _n extends de{constructor(){super(H(_n.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=s=>this._original_triggerRelease(s);const e=H(_n.getDefaults(),arguments);this._volume=this.output=new Xs({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Ae(this,"volume")}static getDefaults(){return Object.assign(de.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,s){const i=this["_original_"+e]=this[e];this[e]=(...a)=>{const c=a[s],h=this.context.transport.schedule(d=>{a[s]=d,i.apply(this,a)},c);this._scheduledEvents.push(h)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,s,i,a){const c=this.toSeconds(i),h=this.toSeconds(s);return this.triggerAttack(e,c,a),this.triggerRelease(c+h),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Bt extends _n{constructor(){super(H(Bt.getDefaults(),arguments));const e=H(Bt.getDefaults(),arguments);this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(_n.getDefaults(),{detune:0,onsilence:Pe,portamento:0})}triggerAttack(e,s,i=1){this.log("triggerAttack",e,s,i);const a=this.toSeconds(s);return this._triggerEnvelopeAttack(a,i),this.setNote(e,a),this}triggerRelease(e){this.log("triggerRelease",e);const s=this.toSeconds(e);return this._triggerEnvelopeRelease(s),this}setNote(e,s){const i=this.toSeconds(s),a=e instanceof qt?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(i)>.05){const c=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(a,c,i)}else this.frequency.setValueAtTime(a,i);return this}}xn([Kn(0)],Bt.prototype,"portamento",void 0);class ho extends _t{constructor(){super(H(ho.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Ne({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class $e extends Bt{constructor(){super(H($e.getDefaults(),arguments)),this.name="Synth";const e=H($e.getDefaults(),arguments);this.oscillator=new Yn(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new ho(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Ae(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Bt.getDefaults(),{envelope:Object.assign(Lt(_t.getDefaults(),Object.keys(de.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Lt(Yn.getDefaults(),[...Object.keys(dt.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,s){if(this.envelope.triggerAttack(e,s),this.oscillator.start(e),this.envelope.sustain===0){const i=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+i+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class zr extends Bt{constructor(){super(H(zr.getDefaults(),arguments)),this.name="ModulationSynth";const e=H(zr.getDefaults(),arguments);this._carrier=new $e({context:this.context,oscillator:e.oscillator,envelope:e.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new $e({context:this.context,oscillator:e.modulation,envelope:e.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new De({context:this.context,units:"frequency"}),this.detune=new De({context:this.context,value:e.detune,units:"cents"}),this.harmonicity=new yn({context:this.context,value:e.harmonicity,minValue:0}),this._modulationNode=new Ne({context:this.context,gain:0}),Ae(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(Bt.getDefaults(),{harmonicity:3,oscillator:Object.assign(Lt(Yn.getDefaults(),[...Object.keys(dt.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(Lt(_t.getDefaults(),Object.keys(de.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(Lt(Yn.getDefaults(),[...Object.keys(dt.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(Lt(_t.getDefaults(),Object.keys(de.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(e,s){this._carrier._triggerEnvelopeAttack(e,s),this._modulator._triggerEnvelopeAttack(e,s)}_triggerEnvelopeRelease(e){return this._carrier._triggerEnvelopeRelease(e),this._modulator._triggerEnvelopeRelease(e),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class $n extends zr{constructor(){super(H($n.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new Xu({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class Qi extends de{constructor(){super(H(Qi.getDefaults(),arguments,["frequency","type"])),this.name="BiquadFilter";const e=H(Qi.getDefaults(),arguments,["frequency","type"]);this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Ce({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new Ce({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new Ce({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new Ce({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(de.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){we(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const s=new Float32Array(e);for(let h=0;h<e;h++){const p=Math.pow(h/e,2)*19980+20;s[h]=p}const i=new Float32Array(e),a=new Float32Array(e),c=this.context.createBiquadFilter();return c.type=this.type,c.Q.value=this.Q.value,c.frequency.value=this.frequency.value,c.gain.value=this.gain.value,c.getFrequencyResponse(s,i,a),i}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class Ks extends de{constructor(){super(H(Ks.getDefaults(),arguments,["frequency","type","rolloff"])),this.name="Filter",this.input=new Ne({context:this.context}),this.output=new Ne({context:this.context}),this._filters=[];const e=H(Ks.getDefaults(),arguments,["frequency","type","rolloff"]);this._filters=[],this.Q=new De({context:this.context,units:"positive",value:e.Q}),this.frequency=new De({context:this.context,units:"frequency",value:e.frequency}),this.detune=new De({context:this.context,units:"cents",value:e.detune}),this.gain=new De({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,Ae(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(de.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){we(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(i=>i.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const s=Gn(e)?e:parseInt(e,10),i=[-12,-24,-48,-96];let a=i.indexOf(s);we(a!==-1,`rolloff can only be ${i.join(", ")}`),a+=1,this._rolloff=s,this.input.disconnect(),this._filters.forEach(c=>c.disconnect()),this._filters=new Array(a);for(let c=0;c<a;c++){const h=new Qi({context:this.context});h.type=this._type,this.frequency.connect(h.frequency),this.detune.connect(h.detune),this.Q.connect(h.Q),this.gain.connect(h.gain),this._filters[c]=h}this._internalChannels=this._filters,Ys(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const s=new Qi({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),i=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{s.getFrequencyResponse(e).forEach((c,h)=>i[h]*=c)}),s.dispose(),i}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),$u(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class Yi extends _t{constructor(){super(H(Yi.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="FrequencyEnvelope";const e=H(Yi.getDefaults(),arguments,["attack","decay","sustain","release"]);this._octaves=e.octaves,this._baseFrequency=this.toFrequency(e.baseFrequency),this._exponent=this.input=new zi({context:this.context,value:e.exponent}),this._scale=this.output=new qr({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(_t.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){const s=this.toFrequency(e);gn(s,0),this._baseFrequency=s,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._scale.max=this._baseFrequency*Math.pow(2,e)}get exponent(){return this._exponent.value}set exponent(e){this._exponent.value=e}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class Qa extends Bt{constructor(){super(H(Qa.getDefaults(),arguments)),this.name="MonoSynth";const e=H(Qa.getDefaults(),arguments);this.oscillator=new Yn(Object.assign(e.oscillator,{context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new Ks(Object.assign(e.filter,{context:this.context})),this.filterEnvelope=new Yi(Object.assign(e.filterEnvelope,{context:this.context})),this.envelope=new ho(Object.assign(e.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),Ae(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(Bt.getDefaults(),{envelope:Object.assign(Lt(_t.getDefaults(),Object.keys(de.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(Lt(Ks.getDefaults(),Object.keys(de.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(Lt(Yi.getDefaults(),Object.keys(de.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(Lt(Yn.getDefaults(),Object.keys(dt.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(e,s=1){if(this.envelope.triggerAttack(e,s),this.filterEnvelope.triggerAttack(e),this.oscillator.start(e),this.envelope.sustain===0){const i=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+i+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.filterEnvelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class Qe extends zr{constructor(){super(H(Qe.getDefaults(),arguments)),this.name="FMSynth";const e=H(Qe.getDefaults(),arguments);this.modulationIndex=new yn({context:this.context,value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(zr.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}const vp=[1,1.483,1.932,2.546,2.63,3.897];class Xi extends Bt{constructor(){super(H(Xi.getDefaults(),arguments)),this.name="MetalSynth",this._oscillators=[],this._freqMultipliers=[];const e=H(Xi.getDefaults(),arguments);this.detune=new De({context:this.context,units:"cents",value:e.detune}),this.frequency=new De({context:this.context,units:"frequency"}),this._amplitude=new Ne({context:this.context,gain:0}).connect(this.output),this._highpass=new Ks({Q:0,context:this.context,type:"highpass"}).connect(this._amplitude);for(let s=0;s<vp.length;s++){const i=new Vr({context:this.context,harmonicity:e.harmonicity,modulationIndex:e.modulationIndex,modulationType:"square",onstop:s===0?()=>this.onsilence(this):Pe,type:"square"});i.connect(this._highpass),this._oscillators[s]=i;const a=new yn({context:this.context,value:vp[s]});this._freqMultipliers[s]=a,this.frequency.chain(a,i.frequency),this.detune.connect(i.detune)}this._filterFreqScaler=new qr({context:this.context,max:7e3,min:this.toFrequency(e.resonance)}),this.envelope=new _t({attack:e.envelope.attack,attackCurve:"linear",context:this.context,decay:e.envelope.decay,release:e.envelope.release,sustain:0}),this.envelope.chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitude.gain),this._octaves=e.octaves,this.octaves=e.octaves}static getDefaults(){return xs(Bt.getDefaults(),{envelope:Object.assign(Lt(_t.getDefaults(),Object.keys(de.getDefaults())),{attack:.001,decay:1.4,release:.2}),harmonicity:5.1,modulationIndex:32,octaves:1.5,resonance:4e3})}_triggerEnvelopeAttack(e,s=1){return this.envelope.triggerAttack(e,s),this._oscillators.forEach(i=>i.start(e)),this.envelope.sustain===0&&this._oscillators.forEach(i=>{i.stop(e+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay))}),this}_triggerEnvelopeRelease(e){return this.envelope.triggerRelease(e),this._oscillators.forEach(s=>s.stop(e+this.toSeconds(this.envelope.release))),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}get modulationIndex(){return this._oscillators[0].modulationIndex.value}set modulationIndex(e){this._oscillators.forEach(s=>s.modulationIndex.value=e)}get harmonicity(){return this._oscillators[0].harmonicity.value}set harmonicity(e){this._oscillators.forEach(s=>s.harmonicity.value=e)}get resonance(){return this._filterFreqScaler.min}set resonance(e){this._filterFreqScaler.min=this.toFrequency(e),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,e)}dispose(){return super.dispose(),this._oscillators.forEach(e=>e.dispose()),this._freqMultipliers.forEach(e=>e.dispose()),this.frequency.dispose(),this.detune.dispose(),this._filterFreqScaler.dispose(),this._amplitude.dispose(),this.envelope.dispose(),this._highpass.dispose(),this}}class Wr extends $e{constructor(){super(H(Wr.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const e=H(Wr.getDefaults(),arguments);this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Ae(this,["oscillator","envelope"])}static getDefaults(){return xs(Bt.getDefaults(),$e.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,s){const i=this.toSeconds(s),a=this.toFrequency(e instanceof qt?e.toFrequency():e),c=a*this.octaves;return this.oscillator.frequency.setValueAtTime(c,i),this.oscillator.frequency.exponentialRampToValueAtTime(a,i+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}xn([Em(0)],Wr.prototype,"octaves",void 0);xn([Kn(0)],Wr.prototype,"pitchDecay",void 0);class Zi extends _n{constructor(){super(H(Zi.getDefaults(),arguments)),this.name="NoiseSynth";const e=H(Zi.getDefaults(),arguments);this.noise=new Zs(Object.assign({context:this.context},e.noise)),this.envelope=new ho(Object.assign({context:this.context},e.envelope)),this.noise.chain(this.envelope,this.output)}static getDefaults(){return Object.assign(_n.getDefaults(),{envelope:Object.assign(Lt(_t.getDefaults(),Object.keys(de.getDefaults())),{decay:.1,sustain:0}),noise:Object.assign(Lt(Zs.getDefaults(),Object.keys(dt.getDefaults())),{type:"white"})})}triggerAttack(e,s=1){return e=this.toSeconds(e),this.envelope.triggerAttack(e,s),this.noise.start(e),this.envelope.sustain===0&&this.noise.stop(e+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this}triggerRelease(e){return e=this.toSeconds(e),this.envelope.triggerRelease(e),this.noise.stop(e+this.toSeconds(this.envelope.release)),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0)),this}triggerAttackRelease(e,s,i=1){return s=this.toSeconds(s),e=this.toSeconds(e),this.triggerAttack(s,i),this.triggerRelease(s+e),this}dispose(){return super.dispose(),this.noise.dispose(),this.envelope.dispose(),this}}const Mm=new Set;function Ju(o){Mm.add(o)}function Am(o,e){const s=`registerProcessor("${o}", ${e})`;Mm.add(s)}const vk=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Ju(vk);const yk=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Ju(yk);const _k=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Ju(_k);const wk="feedback-comb-filter",kk=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;Am(wk,kk);class ke extends _n{constructor(){super(H(ke.getDefaults(),arguments,["voice","options"])),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=a=>this.releaseAll(a);const e=H(ke.getDefaults(),arguments,["voice","options"]);we(!Gn(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const s=e.voice.getDefaults();this.options=Object.assign(s,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const i=this._voices.indexOf(this._dummyVoice);this._voices.splice(i,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(_n.getDefaults(),{maxPolyphony:32,options:{},voice:$e})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const s=this._activeVoices.findIndex(i=>i.voice===e);this._activeVoices.splice(s,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return we(e instanceof Bt,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else ul("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),s=this._voices.indexOf(e);this._voices.splice(s,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,s,i){e.forEach(a=>{const c=new $a(this.context,a).toMidi(),h=this._getNextAvailableVoice();h&&(h.triggerAttack(a,s,i),this._activeVoices.push({midi:c,voice:h,released:!1}),this.log("triggerAttack",a,s))})}_triggerRelease(e,s){e.forEach(i=>{const a=new $a(this.context,i).toMidi(),c=this._activeVoices.find(({midi:h,released:d})=>h===a&&!d);c&&(c.voice.triggerRelease(s),c.released=!0,this.log("triggerRelease",i,s))})}_scheduleEvent(e,s,i,a){we(!this.disposed,"Synth was already disposed"),i<=this.now()?e==="attack"?this._triggerAttack(s,i,a):this._triggerRelease(s,i):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,s,i,a)},i-this.now())}triggerAttack(e,s,i){Array.isArray(e)||(e=[e]);const a=this.toSeconds(s);return this._scheduleEvent("attack",e,a,i),this}triggerRelease(e,s){Array.isArray(e)||(e=[e]);const i=this.toSeconds(s);return this._scheduleEvent("release",e,i),this}triggerAttackRelease(e,s,i,a){const c=this.toSeconds(i);if(this.triggerAttack(e,c,a),Yt(s)){we(Yt(e),"If the duration is an array, the notes must also be an array"),e=e;for(let h=0;h<e.length;h++){const d=s[Math.min(h,s.length-1)],p=this.toSeconds(d);we(p>0,"The duration must be greater than 0"),this.triggerRelease(e[h],c+p)}}else{const h=this.toSeconds(s);we(h>0,"The duration must be greater than 0"),this.triggerRelease(e,c+h)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const s=Lt(e,["onsilence","context"]);return this.options=xs(this.options,s),this._voices.forEach(i=>i.set(s)),this._dummyVoice.set(s),this}get(){return this._dummyVoice.get()}releaseAll(e){const s=this.toSeconds(e);return this._activeVoices.forEach(({voice:i})=>{i.triggerRelease(s)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Ki extends _n{constructor(){super(H(Ki.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const e=H(Ki.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),s={};Object.keys(e.urls).forEach(i=>{const a=parseInt(i,10);if(we(Na(i)||Gn(a)&&isFinite(a),`url key is neither a note or midi pitch: ${i}`),Na(i)){const c=new qt(this.context,i).toMidi();s[c]=e.urls[i]}else Gn(a)&&isFinite(a)&&(s[a]=e.urls[a])}),this._buffers=new Qu({urls:s,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(_n.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Pe,onerror:Pe,release:.1,urls:{}})}_findClosest(e){let i=0;for(;i<96;){if(this._buffers.has(e+i))return-i;if(this._buffers.has(e-i))return i;i++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,s,i=1){return this.log("triggerAttack",e,s,i),Array.isArray(e)||(e=[e]),e.forEach(a=>{const c=Tm(new qt(this.context,a).toFrequency()),h=Math.round(c),d=c-h,p=this._findClosest(h),m=h-p,g=this._buffers.get(m),v=Sm(p+d),k=new Fr({url:g,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:v}).connect(this.output);k.start(s,0,g.duration/v,i),Yt(this._activeSources.get(h))||this._activeSources.set(h,[]),this._activeSources.get(h).push(k),k.onended=()=>{if(this._activeSources&&this._activeSources.has(h)){const S=this._activeSources.get(h),w=S.indexOf(k);w!==-1&&S.splice(w,1)}}}),this}triggerRelease(e,s){return this.log("triggerRelease",e,s),Array.isArray(e)||(e=[e]),e.forEach(i=>{const a=new qt(this.context,i).toMidi();if(this._activeSources.has(a)&&this._activeSources.get(a).length){const c=this._activeSources.get(a);s=this.toSeconds(s),c.forEach(h=>{h.stop(s)}),this._activeSources.set(a,[])}}),this}releaseAll(e){const s=this.toSeconds(e);return this._activeSources.forEach(i=>{for(;i.length;)i.shift().stop(s)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,s,i,a=1){const c=this.toSeconds(i);return this.triggerAttack(e,c,a),Yt(s)?(we(Yt(e),"notes must be an array when duration is array"),e.forEach((h,d)=>{const p=s[Math.min(d,s.length-1)];this.triggerRelease(h,c+this.toSeconds(p))})):this.triggerRelease(e,c+this.toSeconds(s)),this}add(e,s,i){if(we(Na(e)||isFinite(e),`note must be a pitch or midi: ${e}`),Na(e)){const a=new qt(this.context,e).toMidi();this._buffers.add(a,s,i)}else this._buffers.add(e,s,i);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(s=>s.dispose())}),this._activeSources.clear(),this}}xn([Kn(0)],Ki.prototype,"attack",void 0);xn([Kn(0)],Ki.prototype,"release",void 0);class Ji extends de{constructor(){super(Object.assign(H(Ji.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new gk({context:this.context}),this.a=new Ne({context:this.context,gain:0}),this.b=new Ne({context:this.context,gain:0}),this.output=new Ne({context:this.context}),this._internalChannels=[this.a,this.b];const e=H(Ji.getDefaults(),arguments,["fade"]);this.fade=new De({context:this.context,units:"normalRange",value:e.fade}),Ae(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",vn(this._split,this.a.gain,0),vn(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(de.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class Ya extends de{constructor(e){super(e),this.name="Effect",this._dryWet=new Ji({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new Ne({context:this.context}),this.effectReturn=new Ne({context:this.context}),this.input=new Ne({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(e.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],Ae(this,"wet")}static getDefaults(){return Object.assign(de.getDefaults(),{wet:1})}connectEffect(e){return this._internalChannels.push(e),this.effectSend.chain(e,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class Xa extends de{constructor(){super(Object.assign(H(Xa.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const e=H(Xa.getDefaults(),arguments,["pan"]);this.pan=new Ce({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Ae(this,"pan")}static getDefaults(){return Object.assign(de.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const xk="bit-crusher",Sk=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;Am(xk,Sk);class eo extends de{constructor(){super(H(eo.getDefaults(),arguments,["channels"])),this.name="Split";const e=H(eo.getDefaults(),arguments,["channels"]);this._splitter=this.input=this.output=this.context.createChannelSplitter(e.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(de.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class Br extends de{constructor(){super(H(Br.getDefaults(),arguments,["channels"])),this.name="Merge";const e=H(Br.getDefaults(),arguments,["channels"]);this._merger=this.output=this.input=this.context.createChannelMerger(e.channels)}static getDefaults(){return Object.assign(de.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class yp extends de{constructor(e){super(e),this.name="StereoEffect",this.input=new Ne({context:this.context}),this.input.channelCount=2,this.input.channelCountMode="explicit",this._dryWet=this.output=new Ji({context:this.context,fade:e.wet}),this.wet=this._dryWet.fade,this._split=new eo({context:this.context,channels:2}),this._merge=new Br({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),Ae(this,["wet"])}connectEffectLeft(...e){this._split.connect(e[0],0,0),Ys(...e),vn(e[e.length-1],this._merge,0,0)}connectEffectRight(...e){this._split.connect(e[0],1,0),Ys(...e),vn(e[e.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(de.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class Su extends yp{constructor(e){super(e),this.feedback=new De({context:this.context,value:e.feedback,units:"normalRange"}),this._feedbackL=new Ne({context:this.context}),this._feedbackR=new Ne({context:this.context}),this._feedbackSplit=new eo({context:this.context,channels:2}),this._feedbackMerge=new Br({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),Ae(this,["feedback"])}static getDefaults(){return Object.assign(yp.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class Za extends Su{constructor(){super(H(Za.getDefaults(),arguments,["frequency","delayTime","depth"])),this.name="Chorus";const e=H(Za.getDefaults(),arguments,["frequency","delayTime","depth"]);this._depth=e.depth,this._delayTime=e.delayTime/1e3,this._lfoL=new Hi({context:this.context,frequency:e.frequency,min:0,max:1}),this._lfoR=new Hi({context:this.context,frequency:e.frequency,min:0,max:1,phase:180}),this._delayNodeL=new Ss({context:this.context}),this._delayNodeR=new Ss({context:this.context}),this.frequency=this._lfoL.frequency,Ae(this,["frequency"]),this._lfoL.frequency.connect(this._lfoR.frequency),this.connectEffectLeft(this._delayNodeL),this.connectEffectRight(this._delayNodeR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this.depth=this._depth,this.type=e.type,this.spread=e.spread}static getDefaults(){return Object.assign(Su.getDefaults(),{frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180,feedback:0,wet:.5})}get depth(){return this._depth}set depth(e){this._depth=e;const s=this._delayTime*e;this._lfoL.min=Math.max(this._delayTime-s,0),this._lfoL.max=this._delayTime+s,this._lfoR.min=Math.max(this._delayTime-s,0),this._lfoR.max=this._delayTime+s}get delayTime(){return this._delayTime*1e3}set delayTime(e){this._delayTime=e/1e3,this.depth=this._depth}get type(){return this._lfoL.type}set type(e){this._lfoL.type=e,this._lfoR.type=e}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(e){this._lfoL.phase=90-e/2,this._lfoR.phase=e/2+90}start(e){return this._lfoL.start(e),this._lfoR.start(e),this}stop(e){return this._lfoL.stop(e),this._lfoR.stop(e),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._delayNodeL.dispose(),this._delayNodeR.dispose(),this.frequency.dispose(),this}}class Ka extends Ya{constructor(){super(H(Ka.getDefaults(),arguments,["distortion"])),this.name="Distortion";const e=H(Ka.getDefaults(),arguments,["distortion"]);this._shaper=new Ts({context:this.context,length:4096}),this._distortion=e.distortion,this.connectEffect(this._shaper),this.distortion=e.distortion,this.oversample=e.oversample}static getDefaults(){return Object.assign(Ya.getDefaults(),{distortion:.4,oversample:"none"})}get distortion(){return this._distortion}set distortion(e){this._distortion=e;const s=e*100,i=Math.PI/180;this._shaper.setMap(a=>Math.abs(a)<.001?0:(3+s)*a*20*i/(Math.PI+s*Math.abs(a)))}get oversample(){return this._shaper.oversample}set oversample(e){this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.dispose(),this}}class _p extends Su{constructor(e){super(e),this._feedbackL.disconnect(),this._feedbackL.connect(this._feedbackMerge,0,1),this._feedbackR.disconnect(),this._feedbackR.connect(this._feedbackMerge,0,0),Ae(this,["feedback"])}}class Ja extends _p{constructor(){super(H(Ja.getDefaults(),arguments,["delayTime","feedback"])),this.name="PingPongDelay";const e=H(Ja.getDefaults(),arguments,["delayTime","feedback"]);this._leftDelay=new Ss({context:this.context,maxDelay:e.maxDelay}),this._rightDelay=new Ss({context:this.context,maxDelay:e.maxDelay}),this._rightPreDelay=new Ss({context:this.context,maxDelay:e.maxDelay}),this.delayTime=new De({context:this.context,units:"time",value:e.delayTime}),this.connectEffectLeft(this._leftDelay),this.connectEffectRight(this._rightPreDelay,this._rightDelay),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackL.disconnect(),this._feedbackL.connect(this._rightDelay),Ae(this,["delayTime"])}static getDefaults(){return Object.assign(_p.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._leftDelay.dispose(),this._rightDelay.dispose(),this._rightPreDelay.dispose(),this.delayTime.dispose(),this}}class el extends Ya{constructor(){super(H(el.getDefaults(),arguments,["decay"])),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();const e=H(el.getDefaults(),arguments,["decay"]);this._decay=e.decay,this._preDelay=e.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(Ya.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(e){e=this.toSeconds(e),gn(e,.001),this._decay=e,this.generate()}get preDelay(){return this._preDelay}set preDelay(e){e=this.toSeconds(e),gn(e,0),this._preDelay=e,this.generate()}generate(){return it(this,void 0,void 0,function*(){const e=this.ready,s=new fl(2,this._decay+this._preDelay,this.context.sampleRate),i=new Zs({context:s}),a=new Zs({context:s}),c=new Br({context:s});i.connect(c,0,0),a.connect(c,0,1);const h=new Ne({context:s}).toDestination();c.connect(h),i.start(0),a.start(0),h.gain.setValueAtTime(0,0),h.gain.setValueAtTime(1,this._preDelay),h.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const d=s.render();return this.ready=d.then(Pe),yield e,this._convolver.buffer=(yield d).get(),this})}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class rt extends de{constructor(){super(H(rt.getDefaults(),arguments,["solo"])),this.name="Solo";const e=H(rt.getDefaults(),arguments,["solo"]);this.input=this.output=new Ne({context:this.context}),rt._allSolos.has(this.context)||rt._allSolos.set(this.context,new Set),rt._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(de.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),rt._allSolos.get(this.context).forEach(s=>s._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){rt._soloed.has(this.context)||rt._soloed.set(this.context,new Set),rt._soloed.get(this.context).add(this)}_removeSolo(){rt._soloed.has(this.context)&&rt._soloed.get(this.context).delete(this)}_isSoloed(){return rt._soloed.has(this.context)&&rt._soloed.get(this.context).has(this)}_noSolos(){return!rt._soloed.has(this.context)||rt._soloed.has(this.context)&&rt._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),rt._allSolos.get(this.context).delete(this),this._removeSolo(),this}}rt._allSolos=new Map;rt._soloed=new Map;class tl extends de{constructor(){super(H(tl.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const e=H(tl.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Xa({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Xs({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Ae(this,["pan","volume"])}static getDefaults(){return Object.assign(de.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Ws extends de{constructor(){super(H(Ws.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const e=H(Ws.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new rt({solo:e.solo,context:this.context}),this._panVol=this.output=new tl({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Ae(this,["pan","volume"])}static getDefaults(){return Object.assign(de.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Ws.buses.has(e)||Ws.buses.set(e,new Ne({context:this.context})),Ws.buses.get(e)}send(e,s=0){const i=this._getBus(e),a=new Ne({context:this.context,units:"decibels",gain:s});return this.connect(a),a.connect(i),a}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Ws.buses=new Map;class Tk extends de{constructor(){super(...arguments),this.name="Listener",this.positionX=new Ce({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Ce({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Ce({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Ce({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Ce({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Ce({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Ce({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Ce({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Ce({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(de.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}hl(o=>{o.listener=new Tk({context:o})});dl(o=>{o.listener.dispose()});class nl extends de{constructor(){super(H(nl.getDefaults(),arguments,["threshold","ratio"])),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor;const e=H(nl.getDefaults(),arguments,["threshold","ratio"]);this.threshold=new Ce({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:e.threshold}),this.attack=new Ce({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:e.attack}),this.release=new Ce({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:e.release}),this.knee=new Ce({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:e.knee}),this.ratio=new Ce({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:e.ratio}),Ae(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(de.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}class sl extends de{constructor(){super(Object.assign(H(sl.getDefaults(),arguments,["threshold"]))),this.name="Limiter";const e=H(sl.getDefaults(),arguments,["threshold"]);this._compressor=this.input=this.output=new nl({context:this.context,ratio:20,attack:.003,release:.01,threshold:e.threshold}),this.threshold=this._compressor.threshold,Ae(this,"threshold")}static getDefaults(){return Object.assign(de.getDefaults(),{threshold:-12})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.dispose(),this.threshold.dispose(),this}}function zs(){return Qt().now()}const du=Qt().transport;Qt().destination;Qt().destination;Qt().listener;Qt().draw;Qt();const wp={grandPiano:()=>new ke($e,{oscillator:{type:"custom",partials:[1,.8,.3,.15,.08,.04]},envelope:{attack:.002,decay:2.5,sustain:.1,release:2.2}}),electricPiano:()=>new ke(Qe,{harmonicity:6,modulationIndex:12,envelope:{attack:.001,decay:.8,sustain:.02,release:1.2},modulation:{type:"sine"},modulationEnvelope:{attack:.001,decay:.3,sustain:.1,release:.8}}),rhodesWarm:()=>new ke(Qe,{harmonicity:1.5,modulationIndex:1.2,envelope:{attack:.015,decay:3,sustain:.3,release:2.5},modulation:{type:"triangle"},modulationEnvelope:{attack:.02,decay:1.5,sustain:.2,release:2}}),wurlitzer:()=>new ke($n,{harmonicity:3,envelope:{attack:.001,decay:.5,sustain:.15,release:.4},modulation:{type:"square"}}),clavinet:()=>new ke($e,{oscillator:{type:"pulse",width:.15},envelope:{attack:.001,decay:.08,sustain:.02,release:.05}}),harpsichord:()=>new ke(Qe,{harmonicity:4,modulationIndex:8,envelope:{attack:.001,decay:.6,sustain:0,release:.4},modulation:{type:"square"}}),celesta:()=>new ke(Qe,{harmonicity:8,modulationIndex:3,envelope:{attack:.001,decay:2,sustain:0,release:1.5}}),musicBox:()=>new ke(Qe,{harmonicity:14,modulationIndex:1.5,envelope:{attack:.001,decay:3,sustain:0,release:2}}),churchOrgan:()=>new ke($e,{oscillator:{type:"custom",partials:[1,0,.5,0,.33,0,.25,.2]},envelope:{attack:.08,decay:.1,sustain:1,release:.4}}),hammondB3:()=>new ke($e,{oscillator:{type:"custom",partials:[1,.8,.6,.4,.3,.2]},envelope:{attack:.005,decay:.1,sustain:.95,release:.08}}),percOrgan:()=>new ke(Qe,{harmonicity:2,modulationIndex:1,envelope:{attack:.001,decay:.3,sustain:.5,release:.2}}),rockOrgan:()=>new ke($e,{oscillator:{type:"fatsawtooth",spread:15,count:3},envelope:{attack:.005,decay:.15,sustain:.9,release:.15}}),sawLead:()=>new ke($e,{oscillator:{type:"fatsawtooth",spread:20,count:2},envelope:{attack:.01,decay:.2,sustain:.6,release:.5}}),squareLead:()=>new ke($e,{oscillator:{type:"fatsquare",spread:15,count:2},envelope:{attack:.01,decay:.15,sustain:.7,release:.3}}),syncLead:()=>new ke(Qe,{harmonicity:3.5,modulationIndex:18,envelope:{attack:.005,decay:.1,sustain:.6,release:.3}}),brightness:()=>new ke($n,{harmonicity:4,envelope:{attack:.005,decay:.2,sustain:.5,release:.6},modulation:{type:"sawtooth"}}),analogLead:()=>new ke($e,{oscillator:{type:"fatsawtooth",spread:35,count:3},envelope:{attack:.02,decay:.2,sustain:.7,release:.7}}),warmPad:()=>new ke($e,{oscillator:{type:"fatsawtooth",spread:50,count:5},envelope:{attack:.8,decay:.5,sustain:.9,release:3}}),polyPad:()=>new ke($n,{harmonicity:1.5,envelope:{attack:.5,decay:.4,sustain:.8,release:2.5},modulation:{type:"sine"}}),spacePad:()=>new ke(Qe,{harmonicity:1.5,modulationIndex:5,envelope:{attack:1.5,decay:1.2,sustain:.75,release:4}}),choirPad:()=>new ke($e,{oscillator:{type:"fatsine",spread:40,count:6},envelope:{attack:1.2,decay:.8,sustain:.8,release:3}}),bowedPad:()=>new ke($n,{harmonicity:1,envelope:{attack:1.5,decay:.5,sustain:.95,release:3},modulation:{type:"triangle"}}),metallicPad:()=>new ke(Qe,{harmonicity:7,modulationIndex:15,envelope:{attack:.8,decay:.8,sustain:.6,release:3}}),haloPad:()=>new ke(Qe,{harmonicity:2.5,modulationIndex:4,envelope:{attack:2.5,decay:2,sustain:.65,release:5}}),strings:()=>new ke($e,{oscillator:{type:"fatsawtooth",spread:20,count:5},envelope:{attack:.4,decay:.3,sustain:.9,release:2}}),slowStrings:()=>new ke($e,{oscillator:{type:"fatsawtooth",spread:30,count:6},envelope:{attack:2,decay:.6,sustain:.85,release:3.5}}),synthStrings:()=>new ke($n,{harmonicity:2.5,envelope:{attack:.3,decay:.3,sustain:.8,release:1.5},modulation:{type:"sawtooth"}}),orchestra:()=>new ke($e,{oscillator:{type:"fatsawtooth",spread:45,count:7},envelope:{attack:.5,decay:.5,sustain:.7,release:1}}),brass:()=>new ke($e,{oscillator:{type:"fatsawtooth",spread:15,count:3},envelope:{attack:.08,decay:.2,sustain:.7,release:.4}}),synthBrass:()=>new ke(Qe,{harmonicity:1,modulationIndex:6,envelope:{attack:.04,decay:.2,sustain:.75,release:.3}}),trumpets:()=>new ke($n,{harmonicity:4,envelope:{attack:.06,decay:.15,sustain:.6,release:.25},modulation:{type:"sawtooth"}}),synthBass:()=>new ke($e,{oscillator:{type:"fatsawtooth",spread:10,count:2},envelope:{attack:.005,decay:.2,sustain:.55,release:.3}}),reese:()=>new ke($e,{oscillator:{type:"fatsawtooth",spread:60,count:2},envelope:{attack:.01,decay:.4,sustain:.7,release:.8}}),rubberBass:()=>new ke(Qe,{harmonicity:.5,modulationIndex:12,envelope:{attack:.008,decay:.5,sustain:.3,release:.35}}),detunedBass:()=>new ke($e,{oscillator:{type:"fatsquare",spread:40,count:2},envelope:{attack:.008,decay:.3,sustain:.6,release:.45}}),pluck:()=>new ke(Qe,{harmonicity:5,modulationIndex:6,envelope:{attack:.001,decay:.8,sustain:0,release:.5}}),kalimba:()=>new ke(Qe,{harmonicity:10,modulationIndex:3,envelope:{attack:.001,decay:2.2,sustain:0,release:1}}),marimba:()=>new ke(Qe,{harmonicity:3.5,modulationIndex:1,envelope:{attack:.001,decay:1.5,sustain:0,release:.8}}),vibes:()=>new ke(Qe,{harmonicity:6,modulationIndex:2,envelope:{attack:.001,decay:3,sustain:.1,release:2.5}}),bells:()=>new ke(Qe,{harmonicity:13,modulationIndex:20,envelope:{attack:.001,decay:5,sustain:0,release:3}}),crystals:()=>new ke(Qe,{harmonicity:8,modulationIndex:22,envelope:{attack:.8,decay:1.5,sustain:.3,release:4}}),atmosphere:()=>new ke($n,{harmonicity:1.5,envelope:{attack:3,decay:2,sustain:.5,release:6},modulation:{type:"sine"}}),sweepPad:()=>new ke(Qe,{harmonicity:2.5,modulationIndex:8,envelope:{attack:2.5,decay:3,sustain:.4,release:5}}),iceRain:()=>new ke(Qe,{harmonicity:11,modulationIndex:30,envelope:{attack:.5,decay:2.5,sustain:.2,release:3.5}}),goblin:()=>new ke(Qe,{harmonicity:.2,modulationIndex:45,envelope:{attack:.2,decay:1.2,sustain:.4,release:2.5}})},Ck=[{name:"Keys",presets:[{value:"grandPiano",label:"Grand Piano"},{value:"electricPiano",label:"Electric Piano"},{value:"rhodesWarm",label:"Warm Rhodes"},{value:"wurlitzer",label:"Wurlitzer"},{value:"clavinet",label:"Clavinet"},{value:"harpsichord",label:"Harpsichord"},{value:"celesta",label:"Celesta"},{value:"musicBox",label:"Music Box"}]},{name:"Organ",presets:[{value:"churchOrgan",label:"Church Organ"},{value:"hammondB3",label:"Hammond B3"},{value:"percOrgan",label:"Perc Organ"},{value:"rockOrgan",label:"Rock Organ"}]},{name:"Synth Lead",presets:[{value:"sawLead",label:"Saw Lead"},{value:"squareLead",label:"Square Lead"},{value:"syncLead",label:"Sync Lead"},{value:"brightness",label:"Brightness"},{value:"analogLead",label:"Analog Lead"}]},{name:"Synth Pad",presets:[{value:"warmPad",label:"Warm Pad"},{value:"polyPad",label:"Poly Pad"},{value:"spacePad",label:"Space Pad"},{value:"choirPad",label:"Choir Pad"},{value:"bowedPad",label:"Bowed Pad"},{value:"metallicPad",label:"Metallic Pad"},{value:"haloPad",label:"Halo Pad"}]},{name:"Strings",presets:[{value:"strings",label:"Strings"},{value:"slowStrings",label:"Slow Strings"},{value:"synthStrings",label:"Synth Strings"},{value:"orchestra",label:"Orchestra Hit"}]},{name:"Brass",presets:[{value:"brass",label:"Brass Section"},{value:"synthBrass",label:"Synth Brass"},{value:"trumpets",label:"Trumpets"}]},{name:"Bass",presets:[{value:"synthBass",label:"Synth Bass"},{value:"reese",label:"Reese Bass"},{value:"rubberBass",label:"Rubber Bass"},{value:"detunedBass",label:"Detuned Bass"}]},{name:"Pluck",presets:[{value:"pluck",label:"Pluck"},{value:"kalimba",label:"Kalimba"},{value:"marimba",label:"Marimba"},{value:"vibes",label:"Vibraphone"},{value:"bells",label:"Bells"}]},{name:"Atmosphere",presets:[{value:"crystals",label:"Crystals"},{value:"atmosphere",label:"Atmosphere"},{value:"sweepPad",label:"Sweep Pad"},{value:"iceRain",label:"Ice Rain"},{value:"goblin",label:"Goblin"}]}],Tu=[{name:"Sub",config:{oscillator:{type:"sine"},envelope:{attack:.02,decay:.3,sustain:.6,release:.8},filterEnvelope:{attack:.01,decay:.1,sustain:.5,release:.5,baseFrequency:60,octaves:1}}},{name:"Round",config:{oscillator:{type:"triangle"},envelope:{attack:.02,decay:.4,sustain:.5,release:.6},filterEnvelope:{attack:.01,decay:.2,sustain:.4,release:.4,baseFrequency:80,octaves:2}}},{name:"Warm",config:{oscillator:{type:"sawtooth"},envelope:{attack:.02,decay:.3,sustain:.4,release:.8},filterEnvelope:{attack:.01,decay:.1,sustain:.3,release:.5,baseFrequency:100,octaves:2.5}}},{name:"Pluck",config:{oscillator:{type:"sawtooth"},envelope:{attack:.001,decay:.2,sustain:.1,release:.3},filterEnvelope:{attack:.001,decay:.15,sustain:.1,release:.2,baseFrequency:200,octaves:3}}},{name:"Growl",config:{oscillator:{type:"square"},envelope:{attack:.01,decay:.2,sustain:.5,release:.5},filterEnvelope:{attack:.02,decay:.3,sustain:.3,release:.4,baseFrequency:150,octaves:3}}},{name:"Wobble",config:{oscillator:{type:"sawtooth"},envelope:{attack:.01,decay:.1,sustain:.7,release:.4},filterEnvelope:{attack:.01,decay:.5,sustain:.2,release:.3,baseFrequency:80,octaves:4}}},{name:"Punch",config:{oscillator:{type:"square"},envelope:{attack:.001,decay:.15,sustain:.2,release:.2},filterEnvelope:{attack:.001,decay:.1,sustain:.2,release:.15,baseFrequency:120,octaves:2.5}}},{name:"Soft",config:{oscillator:{type:"sine"},envelope:{attack:.05,decay:.4,sustain:.5,release:1},filterEnvelope:{attack:.05,decay:.3,sustain:.4,release:.6,baseFrequency:50,octaves:1.5}}},{name:"Acid",config:{oscillator:{type:"sawtooth"},envelope:{attack:.001,decay:.2,sustain:.3,release:.3},filterEnvelope:{attack:.001,decay:.4,sustain:.1,release:.2,baseFrequency:300,octaves:4}}},{name:"Thump",config:{oscillator:{type:"triangle"},envelope:{attack:.001,decay:.25,sustain:.15,release:.4},filterEnvelope:{attack:.001,decay:.2,sustain:.1,release:.3,baseFrequency:100,octaves:2}}},{name:"Deep",config:{oscillator:{type:"sine"},envelope:{attack:.03,decay:.5,sustain:.4,release:1.2},filterEnvelope:{attack:.02,decay:.4,sustain:.3,release:.8,baseFrequency:40,octaves:1.5}}},{name:"Buzz",config:{oscillator:{type:"square"},envelope:{attack:.01,decay:.15,sustain:.6,release:.3},filterEnvelope:{attack:.01,decay:.2,sustain:.4,release:.25,baseFrequency:180,octaves:3.5}}}],Nk={maj:[0,2,4,5,7,9,11],min:[0,2,3,5,7,8,10]},Ek={0:[0,3,6],1:[0,3,7],2:[0,4,7],3:[0,5,7]},Mk={6:9,m7:10,M7:11,9:14},fu=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Ma={a:0,s:2,d:4,f:5,g:7,h:9,j:11,w:1,e:3,t:6,y:8,u:10},Ak=[0,2,4,5,7,9,11],bk=[1,3,6,8,10],Dk=[{value:"",label:"Off"},{value:"C-maj",label:"C Major"},{value:"C-min",label:"C Minor"},{value:"C#-maj",label:"C# Major"},{value:"C#-min",label:"C# Minor"},{value:"D-maj",label:"D Major"},{value:"D-min",label:"D Minor"},{value:"D#-maj",label:"D# Major"},{value:"D#-min",label:"D# Minor"},{value:"E-maj",label:"E Major"},{value:"E-min",label:"E Minor"},{value:"F-maj",label:"F Major"},{value:"F-min",label:"F Minor"},{value:"F#-maj",label:"F# Major"},{value:"F#-min",label:"F# Minor"},{value:"G-maj",label:"G Major"},{value:"G-min",label:"G Minor"},{value:"G#-maj",label:"G# Major"},{value:"G#-min",label:"G# Minor"},{value:"A-maj",label:"A Major"},{value:"A-min",label:"A Minor"},{value:"A#-maj",label:"A# Major"},{value:"A#-min",label:"A# Minor"},{value:"B-maj",label:"B Major"},{value:"B-min",label:"B Minor"}],Ik=[{value:"chord",label:"Chord"},{value:"strum",label:"Strum"},{value:"strum2oct",label:"Strum 2 Oct"},{value:"slop",label:"Slop"},{value:"arpUp",label:"Arp Up"},{value:"arpDown",label:"Arp Down"},{value:"arpUpDown",label:"Arp Up/Down"},{value:"harp",label:"Harp"}],Ok=[{value:"off",label:"Off"},{value:"unison",label:"Unison"},{value:"single",label:"Single"},{value:"solo",label:"Solo"}];function Rk(o){var c;const[e,s]=Q.useState(null),i=Q.useRef(null);Q.useEffect(()=>{const h=d=>{i.current&&!i.current.contains(d.target)&&s(null)};return document.addEventListener("click",h),()=>document.removeEventListener("click",h)},[]),Q.useEffect(()=>{const h=d=>{d.key==="Escape"&&s(null)};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[]);const a=h=>d=>{d.stopPropagation(),s(e===h?null:h)};return x.jsxs("div",{className:"control-row",ref:i,children:[x.jsxs("div",{className:"btn-group",children:[x.jsxs("div",{className:"btn-with-label",children:[x.jsx("button",{className:"menu-btn yellow",onClick:a("sound")}),x.jsx("span",{className:"btn-label",children:"Sound"}),x.jsx("div",{className:"tooltip",children:"50+ synth presets"}),e==="sound"&&x.jsx("div",{className:"dropdown-menu sound-menu visible",children:Ck.map(h=>x.jsxs("div",{children:[x.jsx("div",{className:"dropdown-category",children:h.name}),h.presets.map(d=>x.jsx("div",{className:`dropdown-item ${o.engine===d.value?"active":""}`,onClick:()=>{o.onEngineChange(d.value),s(null)},children:d.label},d.value))]},h.name))})]}),x.jsxs("div",{className:"btn-with-label",children:[x.jsx("button",{className:"menu-btn yellow",onClick:a("perform")}),x.jsx("span",{className:"btn-label",children:"Perform"}),x.jsx("div",{className:"tooltip",children:"Performance mode"}),e==="perform"&&x.jsx("div",{className:"dropdown-menu visible",children:Ik.map(h=>x.jsx("div",{className:`dropdown-item ${o.performMode===h.value?"active":""}`,onClick:()=>{o.onPerformModeChange(h.value),s(null)},children:h.label},h.value))})]}),x.jsxs("div",{className:"btn-with-label",children:[x.jsx("button",{className:"menu-btn yellow",onClick:a("fx")}),x.jsx("span",{className:"btn-label",children:"FX"}),x.jsx("div",{className:"tooltip",children:"Effects"}),e==="fx"&&x.jsx("div",{className:"effects-panel visible",children:["reverb","delay","chorus","drive","master"].map(h=>x.jsxs("div",{className:"effect-row",children:[x.jsx("span",{className:"effect-label",children:h==="delay"?"Tape":h.charAt(0).toUpperCase()+h.slice(1)}),x.jsx("input",{type:"range",className:"effect-slider",min:"0",max:"100",value:o.effects[h],onChange:d=>o.onEffectChange(h,parseInt(d.target.value))})]},h))})]}),x.jsxs("div",{className:"btn-with-label",children:[x.jsx("button",{className:`menu-btn yellow ${o.keyMode?"active":""}`,onClick:a("key")}),x.jsx("span",{className:"btn-label",children:"Key"}),x.jsx("div",{className:"tooltip",children:"Scale lock"}),e==="key"&&x.jsx("div",{className:"dropdown-menu visible",children:Dk.map(h=>x.jsx("div",{className:`dropdown-item ${o.keyMode===(h.value||null)?"active":""}`,onClick:()=>{o.onKeyModeChange(h.value||null),s(null)},children:h.label},h.value))})]})]}),x.jsx("div",{className:"spacer"}),x.jsxs("div",{className:"btn-group",children:[x.jsxs("div",{className:"btn-with-label",children:[x.jsx("button",{className:`menu-btn dark ${o.bassMode!=="off"?"active":""}`,onClick:a("bass"),children:x.jsx("span",{className:`bass-light ${o.bassMode!=="off"?"active":""}`})}),x.jsx("span",{className:"btn-label",children:"Bass"}),x.jsx("div",{className:"tooltip",children:"Bass mode"}),e==="bass"&&x.jsx("div",{className:"dropdown-menu visible",children:Ok.map(h=>x.jsx("div",{className:`dropdown-item ${o.bassMode===h.value?"active":""}`,onClick:()=>{o.onBassModeChange(h.value),s(null)},children:h.label},h.value))})]}),x.jsxs("div",{className:"btn-with-label",children:[x.jsx("button",{className:`menu-btn red ${o.drumsPlaying?"recording":""}`,onClick:h=>{h.stopPropagation(),o.drumsPlaying?o.onDrumsToggle():a("drums")(h)}}),x.jsx("span",{className:"btn-label",children:"Loop"}),x.jsx("div",{className:"tooltip",children:"Record loop (L)"}),e==="drums"&&x.jsxs("div",{className:"drum-panel visible",children:[x.jsx("div",{className:"drum-panel-title",children:"Select Drum Pattern"}),x.jsx("div",{className:"drum-grid",children:o.drumPatterns.map((h,d)=>x.jsx("div",{className:`drum-item ${o.drumPattern===d?"active":""}`,onClick:()=>{o.onDrumPatternSelect(d),s(null)},children:h.name},d))})]})]}),x.jsxs("div",{className:"btn-with-label",children:[x.jsx("button",{className:"menu-btn dark"}),x.jsx("span",{className:"btn-label",children:"BPM"}),x.jsx("div",{className:"tooltip",children:"Tempo (- / =)"})]}),x.jsxs("div",{className:"btn-with-label",children:[x.jsx("button",{className:`menu-btn dark ${o.midiMappingCount>0&&o.midiMappingEnabled?"active":""}`,onClick:a("midi")}),x.jsx("span",{className:"btn-label",children:"MIDI"}),x.jsx("div",{className:"tooltip",children:"MIDI Settings"}),e==="midi"&&x.jsxs("div",{className:"effects-panel visible",style:{minWidth:240},children:[x.jsxs("div",{className:"effect-row",style:{flexDirection:"column",alignItems:"flex-start",gap:6},children:[x.jsx("span",{className:"effect-label",children:"MIDI Input"}),x.jsxs("select",{value:o.selectedMidiInput,onChange:h=>o.onMidiInputChange(h.target.value),className:"midi-select",children:[x.jsx("option",{value:"",children:"None"}),o.midiInputs.map(h=>x.jsx("option",{value:h.id,children:h.name},h.id))]})]}),x.jsxs("div",{className:"effect-row",style:{flexDirection:"column",alignItems:"flex-start",gap:6,marginTop:12},children:[x.jsx("span",{className:"effect-label",children:"MIDI Output"}),x.jsxs("select",{value:o.selectedMidiOutput,onChange:h=>o.onMidiOutputChange(h.target.value),className:"midi-select",children:[x.jsx("option",{value:"",children:"None"}),o.midiOutputs.map(h=>x.jsx("option",{value:h.id,children:h.name},h.id))]})]}),x.jsx("div",{className:"option-divider",style:{margin:"14px 0"}}),x.jsxs("button",{className:"midi-mapping-btn",onClick:()=>{o.onShowMidiMapping(),s(null)},children:[x.jsx("span",{children:""}),x.jsx("span",{children:"Pad Mapping"}),o.midiMappingCount>0&&x.jsx("span",{className:`mapping-badge ${o.midiMappingEnabled?"enabled":""}`,children:o.midiMappingCount})]}),x.jsx("div",{className:"option-hint",style:{marginTop:8},children:"Map MIDI pads to chord types & extensions"})]})]}),x.jsxs("div",{className:"btn-with-label",children:[x.jsx("button",{className:`menu-btn dark ${o.polyMode?"active":""}`,onClick:a("options")}),x.jsx("span",{className:"btn-label",children:"Options"}),x.jsx("div",{className:"tooltip",children:"Settings"}),e==="options"&&x.jsxs("div",{className:"effects-panel visible",style:{minWidth:200},children:[x.jsxs("div",{className:"option-row",children:[x.jsx("span",{className:"option-label",children:"Layered Chords"}),x.jsx("button",{className:`option-toggle ${o.polyMode?"active":""}`,onClick:()=>o.onPolyModeChange(!o.polyMode),children:o.polyMode?"ON":"OFF"})]}),x.jsx("div",{className:"option-hint",children:"Play multiple chords simultaneously by holding multiple keys"}),x.jsx("div",{className:"option-divider"}),x.jsx("div",{className:"dropdown-item",style:{padding:"10px 0",textAlign:"center"},onClick:()=>{o.onShowHelp(),s(null)},children:"Show Tutorial"})]})]}),x.jsxs("div",{className:"btn-with-label",children:[x.jsx("button",{className:"menu-btn dark",onClick:a("volume")}),x.jsx("span",{className:"btn-label",children:"Volume"}),x.jsx("div",{className:"tooltip",children:"Master volume"}),e==="volume"&&x.jsx("div",{className:"effects-panel volume-panel visible",children:x.jsxs("div",{className:"effect-row",children:[x.jsx("span",{className:"effect-label",children:"Volume"}),x.jsx("input",{type:"range",className:"effect-slider",min:"0",max:"100",value:o.masterVolume,onChange:h=>o.onMasterVolumeChange(parseInt(h.target.value))})]})})]})]}),o.drumsPlaying&&x.jsx("div",{className:"loop-indicator visible",children:(c=o.drumPatterns[o.drumPattern])==null?void 0:c.name}),x.jsxs("div",{className:"chord-display",children:[x.jsx("div",{className:"chord-name",dangerouslySetInnerHTML:{__html:o.chordName||""}}),x.jsx("div",{className:"chord-notes",children:o.chordNotes}),o.keyIndicator&&x.jsx("div",{className:"key-indicator active",children:o.keyIndicator})]})]})}const Pk=[{type:0,label:"Dim"},{type:1,label:"Min"},{type:2,label:"Maj"},{type:3,label:"Sus"}],jk=[{ext:"6",label:"6"},{ext:"m7",label:"m7"},{ext:"M7",label:"M7"},{ext:"9",label:"9"}];function Fk({chordType:o,extensions:e,onChordTypeChange:s,onExtensionToggle:i}){return x.jsxs("div",{className:"chord-section",children:[x.jsx("div",{className:"chord-buttons",children:Pk.map(({type:a,label:c})=>x.jsx("button",{className:`chord-btn ${o===a?"active":""}`,onClick:()=>s(o===a?null:a),children:x.jsx("span",{children:c})},a))}),x.jsx("div",{className:"chord-buttons",children:jk.map(({ext:a,label:c})=>x.jsx("button",{className:`chord-btn ${e[a]?"active":""}`,onClick:()=>i(a),children:x.jsx("span",{children:c})},a))})]})}function Vk({voicing:o,bassVoicing:e,onVoicingChange:s,onBassVoicingChange:i}){const[a,c]=Q.useState(null),h=Q.useRef(null),d=Q.useRef(0),p=Q.useRef(0),m=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,g=(w,T)=>_=>{m()||(h.current=w,d.current=_.clientY,p.current=T,document.body.style.cursor="grabbing",_.preventDefault())},v=w=>()=>{m()&&c(w)};Q.useEffect(()=>{const w=_=>{if(!h.current)return;const C=d.current-_.clientY;if(h.current==="voicing"){const R=Math.max(-12,Math.min(12,Math.round(p.current+C/10)));s(R)}else{const R=Math.max(0,Math.min(11,Math.round(p.current+C/15)));i(R)}},T=()=>{h.current=null,document.body.style.cursor=""};return document.addEventListener("mousemove",w),document.addEventListener("mouseup",T),()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",T)}},[s,i]);const k=o/12*135,S=-135+e/11*270;return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"knobs-section",children:[x.jsxs("div",{className:"knob-row",children:[x.jsxs("div",{className:"knob-label",children:["Chord",x.jsx("br",{}),"Voice"]}),x.jsx("div",{className:"knob",onClick:v("voicing"),onMouseDown:g("voicing",o),children:x.jsx("div",{className:"knob-indicator",style:{transform:`rotate(${k}deg)`}})})]}),x.jsx("div",{className:"knob-value",children:o}),x.jsxs("div",{className:"knob-row",children:[x.jsxs("div",{className:"knob-label",children:["Bass",x.jsx("br",{}),"Voice"]}),x.jsx("div",{className:"knob small",onClick:v("bass"),onMouseDown:g("bass",e),children:x.jsx("div",{className:"knob-indicator",style:{transform:`rotate(${S}deg)`}})})]})]}),a&&x.jsxs("div",{className:"knob-modal visible",children:[x.jsx("div",{className:"knob-modal-title",children:a==="voicing"?"Chord Voicing":"Bass Voice"}),x.jsx("div",{className:"knob-modal-value",children:a==="voicing"?o:Tu[e].name}),x.jsx("input",{type:"range",className:"knob-modal-slider",min:a==="voicing"?-12:0,max:a==="voicing"?12:11,value:a==="voicing"?o:e,onChange:w=>{const T=parseInt(w.target.value);a==="voicing"?s(T):i(T)}}),x.jsx("button",{className:"knob-modal-close",onClick:()=>c(null),children:"Done"})]})]})}function Lk({octave:o,highlightedNotes:e,onNoteOn:s,onNoteOff:i}){const a=Q.useRef(null),c=Q.useRef(new Set),h=v=>k=>{k.preventDefault();const S=(o+1)*12+v;c.current.add(S),s(S)},d=v=>()=>{const k=(o+1)*12+v;c.current.has(k)&&(c.current.delete(k),i(k))},p=v=>()=>{const k=(o+1)*12+v;c.current.has(k)&&(c.current.delete(k),i(k))};Q.useEffect(()=>{const v=()=>{c.current.forEach(k=>i(k)),c.current.clear()};return window.addEventListener("mouseup",v),()=>window.removeEventListener("mouseup",v)},[i]);const m=v=>e.some(k=>k%12===v),g=[0,1,3,4,5];return x.jsx("div",{className:"keyboard-section",children:x.jsxs("div",{className:"keyboard",ref:a,children:[Ak.map(v=>x.jsx("div",{className:`white-key ${m(v)?"highlighted":""}`,"data-note":v,onMouseDown:h(v),onMouseUp:d(v),onMouseLeave:p(v)},`white-${v}`)),bk.map((v,k)=>x.jsx("div",{className:`black-key ${m(v)?"highlighted":""}`,"data-note":v,style:{left:`${(g[k]+.7)*(100/7)}%`},onMouseDown:S=>{S.stopPropagation(),h(v)(S)},onMouseUp:S=>{S.stopPropagation(),d(v)()},onMouseLeave:p(v)},`black-${v}`))]})})}function qk(o){const e=Q.useMemo(()=>Array.from({length:20},(i,a)=>a),[]),s=o.keyMode?`Key: ${o.keyMode.split("-")[0]} ${o.keyMode.split("-")[1]==="maj"?"Major":"Minor"}`:"";return x.jsxs("div",{className:"device",children:[x.jsxs("div",{className:"speaker-section",children:[x.jsx("div",{className:"speaker-grille",children:e.map(i=>x.jsx("div",{className:"slot"},`l-${i}`))}),x.jsx("div",{style:{flex:1}}),x.jsx("div",{className:"speaker-grille",children:e.map(i=>x.jsx("div",{className:"slot"},`r-${i}`))})]}),x.jsxs("div",{className:"main-panel",children:[x.jsx("div",{className:"device-brand",children:"Violet"}),x.jsx(Rk,{engine:o.engine,onEngineChange:o.onEngineChange,performMode:o.performMode,onPerformModeChange:o.onPerformModeChange,effects:o.effects,onEffectChange:o.onEffectChange,keyMode:o.keyMode,onKeyModeChange:o.onKeyModeChange,bassMode:o.bassMode,onBassModeChange:o.onBassModeChange,drumsPlaying:o.drumsPlaying,drumPattern:o.drumPattern,drumPatterns:o.drumPatterns,onDrumPatternSelect:o.onDrumPatternSelect,onDrumsToggle:o.onDrumsToggle,bpm:o.bpm,midiInputs:o.midiInputs,midiOutputs:o.midiOutputs,selectedMidiInput:o.selectedMidiInput,selectedMidiOutput:o.selectedMidiOutput,onMidiInputChange:o.onMidiInputChange,onMidiOutputChange:o.onMidiOutputChange,masterVolume:o.masterVolume,onMasterVolumeChange:o.onMasterVolumeChange,polyMode:o.polyMode,onPolyModeChange:o.onPolyModeChange,onShowHelp:o.onShowHelp,onShowMidiMapping:o.onShowMidiMapping,midiMappingEnabled:o.midiMappingEnabled,midiMappingCount:o.midiMappingCount,chordName:o.chordName,chordNotes:o.chordNotes,keyIndicator:s}),x.jsx("div",{className:"panel-shelf"}),x.jsxs("div",{className:"bottom-section",children:[x.jsx(Fk,{chordType:o.chordType,extensions:o.extensions,onChordTypeChange:o.onChordTypeChange,onExtensionToggle:o.onExtensionToggle}),x.jsx(Vk,{voicing:o.voicing,bassVoicing:o.bassVoicing,onVoicingChange:o.onVoicingChange,onBassVoicingChange:o.onBassVoicingChange}),x.jsx(Lk,{octave:o.octave,highlightedNotes:o.highlightedNotes,onNoteOn:o.onNoteOn,onNoteOff:o.onNoteOff})]})]})]})}function zk({visible:o,isReopened:e,onStart:s,onClose:i}){if(!o)return null;const a=c=>{c.stopPropagation(),i()};return x.jsx("div",{className:`start-overlay ${e?"reopened":""}`,onClick:e?a:void 0,children:x.jsxs("div",{className:"tutorial-card",onClick:c=>c.stopPropagation(),children:[e&&x.jsx("button",{className:"tutorial-close",onClick:a,children:""}),x.jsx("h1",{children:"Violet"}),x.jsxs("div",{className:"tutorial-content",children:[x.jsxs("div",{className:"tutorial-row",children:[x.jsx("span",{className:"row-label",children:"Chords"}),x.jsx("div",{className:"modifier-row",children:["1","2","3","4"].map((c,h)=>x.jsxs("div",{className:"mod-key",children:[x.jsx("div",{className:"mod-key-cap",children:c}),x.jsx("div",{className:"mod-key-label",children:["Dim","Min","Maj","Sus"][h]})]},c))}),x.jsx("span",{className:"row-label",children:"Ext"}),x.jsx("div",{className:"modifier-row",children:["5","6","7","8"].map((c,h)=>x.jsxs("div",{className:"mod-key",children:[x.jsx("div",{className:"mod-key-cap",children:c}),x.jsx("div",{className:"mod-key-label",children:["6th","m7","M7","9th"][h]})]},c))})]}),x.jsxs("div",{className:"tutorial-row piano-row",children:[x.jsx("span",{className:"row-label",children:"Notes"}),x.jsx("div",{className:"piano-visual",children:x.jsxs("div",{className:"piano-container",children:[[["A","C"],["S","D"],["D","E"],["F","F"],["G","G"],["H","A"],["J","B"]].map(([c,h])=>x.jsxs("div",{className:"piano-white-key",children:[x.jsx("span",{className:"key-computer",children:c}),x.jsx("span",{className:"key-note",children:h})]},c)),[["W","C#",25],["E","D#",62],["T","F#",137],["Y","G#",175],["U","A#",212]].map(([c,h,d])=>x.jsxs("div",{className:"piano-black-key",style:{left:`${d}px`},children:[x.jsx("span",{className:"key-computer",children:c}),x.jsx("span",{className:"key-note",children:h})]},c))]})})]}),x.jsx("div",{className:"tutorial-row controls-row",children:[{keys:["Z","X"],label:"Voicing"},{keys:["[","]"],label:"Octave"},{keys:["-","="],label:"BPM"},{keys:["L"],label:"Loop"},{keys:[",","."],label:"Patterns"},{keys:["Space"],label:"Panic"}].map(({keys:c,label:h})=>x.jsxs("div",{className:"control-item",children:[x.jsx("div",{className:"control-keys",children:c.map(d=>x.jsx("span",{className:"ctrl-key",children:d},d))}),x.jsx("span",{className:"control-label",children:h})]},h))})]}),!e&&x.jsx("button",{className:"start-btn",onClick:s,children:"Click to Start"})]})})}function Wk({visible:o,onClose:e}){return x.jsx("div",{className:`about-modal ${o?"visible":""}`,onClick:s=>s.target===s.currentTarget&&e(),children:x.jsxs("div",{className:"about-content",children:[x.jsx("button",{className:"about-close",onClick:e,children:""}),x.jsx("h2",{children:"About Violet"}),x.jsxs("p",{children:["I discovered the incredible ",x.jsx("strong",{children:x.jsx("a",{href:"https://telepathicinstruments.com/",target:"_blank",rel:"noopener noreferrer",style:{color:"#e8a832",textDecoration:"none"},children:"Telepathic Instruments Orchid"})})," and immediately fell in love with its design and concept. Unfortunately, I found out about it too latethey were sold out, and I couldn't get my hands on one."]}),x.jsx("p",{children:"Rather than wait idly for the next batch, I decided to build Violet as a web-based tribute. I tried to capture as much of the Orchid's magic as possible: the chord generation, the performance modes, the beautiful interface design, and that special feeling of creative flow."}),x.jsxs("p",{children:["This project is a labor of love and deep admiration for what the team at ",x.jsx("a",{href:"https://telepathicinstruments.com/",target:"_blank",rel:"noopener noreferrer",style:{color:"#e8a832",textDecoration:"none"},children:"Telepathic Instruments"})," has created. I'm a huge fan of their work and would be absolutely thrilled to collaborate or chat about music technology sometime."]}),x.jsx("p",{children:x.jsx("em",{children:"(And I really hope you're not mad at me for making this! I'm just trying to spread the joy while I wait for the next sale. )"})}),x.jsxs("div",{className:"signature",children:[" Built with respect and admiration, ",x.jsx("a",{href:"https://natesiggard.com",target:"_blank",rel:"noopener noreferrer",style:{color:"#e8a832",textDecoration:"none"},children:"@natesiggard"})]}),x.jsxs("div",{style:{marginTop:16,fontSize:"0.75rem",color:"#666"},children:[" 2025 ",x.jsx("a",{href:"https://getauthentic.com",target:"_blank",rel:"noopener noreferrer",style:{color:"#888",textDecoration:"none"},children:"Authentic Creative"})]})]})})}function Bk({visible:o,onClose:e}){return x.jsx("div",{className:`modal-overlay ${o?"visible":""}`,onClick:s=>s.target===s.currentTarget&&e(),children:x.jsxs("div",{className:"modal",children:[x.jsxs("div",{className:"modal-header",children:[x.jsx("h2",{children:"Keyboard Controls"}),x.jsx("button",{className:"modal-close",onClick:e,children:""})]}),x.jsxs("div",{className:"modal-section",children:[x.jsx("h3",{children:"Play Notes"}),x.jsxs("ul",{children:[x.jsxs("li",{children:[x.jsx("kbd",{children:"A-J"})," White keys (C D E F G A B)"]}),x.jsxs("li",{children:[x.jsx("kbd",{children:"W E T Y U"})," Black keys"]})]})]}),x.jsxs("div",{className:"modal-section",children:[x.jsx("h3",{children:"Chord Types (hold)"}),x.jsx("ul",{children:x.jsxs("li",{children:[x.jsx("kbd",{children:"1"})," Dim  ",x.jsx("kbd",{children:"2"})," Min  ",x.jsx("kbd",{children:"3"})," Maj  ",x.jsx("kbd",{children:"4"})," Sus"]})})]}),x.jsxs("div",{className:"modal-section",children:[x.jsx("h3",{children:"Extensions (hold)"}),x.jsx("ul",{children:x.jsxs("li",{children:[x.jsx("kbd",{children:"5"})," 6th  ",x.jsx("kbd",{children:"6"})," m7  ",x.jsx("kbd",{children:"7"})," M7  ",x.jsx("kbd",{children:"8"})," 9th"]})})]}),x.jsxs("div",{className:"modal-section",children:[x.jsx("h3",{children:"Controls"}),x.jsxs("ul",{children:[x.jsxs("li",{children:[x.jsx("kbd",{children:"Z X"})," Voicing (0-60)"]}),x.jsxs("li",{children:[x.jsx("kbd",{children:"[ ]"})," Octave"]}),x.jsxs("li",{children:[x.jsx("kbd",{children:"- ="})," BPM"]}),x.jsxs("li",{children:[x.jsx("kbd",{children:"L"})," Toggle Loop"]}),x.jsxs("li",{children:[x.jsx("kbd",{children:", ."})," Drum Pattern"]}),x.jsxs("li",{children:[x.jsx("kbd",{children:"Space"})," Panic"]})]})]})]})})}function Uk(){return x.jsxs("div",{className:"rotate-overlay active",children:[x.jsx("div",{className:"rotate-icon",children:""}),x.jsx("h2",{children:"Rotate Your Device"}),x.jsx("p",{children:"Violet works best in landscape mode. Please rotate your phone for the full experience."})]})}const kp="violet-midi-mappings",$k={mappings:[],enabled:!0},xp={chordMaj:"Major (1)",chordMin:"Minor (2)",chordDim:"Diminished (3)",chordAug:"Augmented (4)",ext6:"Add 6th",extm7:"Add m7",extM7:"Add M7",ext9:"Add 9th",octaveUp:"Octave Up",octaveDown:"Octave Down",voicingUp:"Voicing Up",voicingDown:"Voicing Down"},Hk=[{name:"Chord Types",actions:["chordMaj","chordMin","chordDim","chordAug"]},{name:"Extensions",actions:["ext6","extm7","extM7","ext9"]},{name:"Navigation",actions:["octaveUp","octaveDown","voicingUp","voicingDown"]}];function Gk(){const[o,e]=Q.useState($k),[s,i]=Q.useState(null),[a,c]=Q.useState(null);Q.useEffect(()=>{try{const _=localStorage.getItem(kp);if(_){const C=JSON.parse(_);e(C)}}catch(_){console.warn("Failed to load MIDI mappings:",_)}},[]);const h=Q.useCallback(_=>{e(_);try{localStorage.setItem(kp,JSON.stringify(_))}catch(C){console.warn("Failed to save MIDI mappings:",C)}},[]),d=Q.useCallback(_=>{i(_),c(null)},[]),p=Q.useCallback(()=>{i(null),c(null)},[]),m=Q.useCallback((_,C)=>{if(c({note:_,deviceId:C}),s){const R=o.mappings.filter(L=>L.action!==s);return R.push({note:_,action:s,deviceId:C}),h({...o,mappings:R}),i(null),!0}return!1},[s,o,h]),g=Q.useCallback((_,C)=>{if(!o.enabled)return null;const R=o.mappings.find(L=>!(L.note!==_||L.deviceId&&C&&L.deviceId!==C));return(R==null?void 0:R.action)??null},[o]),v=Q.useCallback(_=>{const C=o.mappings.filter(R=>R.action!==_);h({...o,mappings:C})},[o,h]),k=Q.useCallback(()=>{h({...o,mappings:[]})},[o,h]),S=Q.useCallback(_=>{h({...o,enabled:_})},[o,h]),w=Q.useCallback(_=>o.mappings.find(C=>C.action===_),[o]),T=Q.useCallback(_=>{const C=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],R=Math.floor(_/12)-1;return`${C[_%12]}${R} (${_})`},[]);return{config:o,learnMode:s,lastMidiNote:a,startLearn:d,cancelLearn:p,processMidiForLearn:m,getActionForNote:g,removeMapping:v,clearAllMappings:k,setEnabled:S,getMappingForAction:w,getNoteLabel:T}}function Qk({visible:o,enabled:e,learnMode:s,lastMidiNote:i,getMappingForAction:a,getNoteLabel:c,onStartLearn:h,onCancelLearn:d,onRemoveMapping:p,onClearAll:m,onSetEnabled:g,onClose:v}){return o?x.jsx("div",{className:"midi-mapping-overlay",onClick:v,children:x.jsxs("div",{className:"midi-mapping-modal",onClick:k=>k.stopPropagation(),children:[x.jsxs("div",{className:"midi-mapping-header",children:[x.jsx("h2",{children:"MIDI Pad Mapping"}),x.jsx("button",{className:"close-btn",onClick:v,children:""})]}),x.jsx("p",{className:"midi-mapping-description",children:"Map MIDI pads or notes to control chord types and extensions. Use with drum pads, a second controller, or any MIDI device."}),x.jsx("div",{className:"midi-mapping-toggle",children:x.jsxs("label",{children:[x.jsx("input",{type:"checkbox",checked:e,onChange:k=>g(k.target.checked)}),x.jsx("span",{children:"Enable MIDI Mappings"})]})}),s&&x.jsxs("div",{className:"learn-mode-banner",children:[x.jsx("div",{className:"learn-pulse"}),x.jsxs("span",{children:["Waiting for MIDI input for ",x.jsx("strong",{children:xp[s]}),"..."]}),i&&x.jsxs("span",{className:"last-note",children:["Last: ",c(i.note)]}),x.jsx("button",{onClick:d,children:"Cancel"})]}),x.jsx("div",{className:"midi-mapping-groups",children:Hk.map(k=>x.jsxs("div",{className:"mapping-group",children:[x.jsx("h3",{children:k.name}),x.jsx("div",{className:"mapping-items",children:k.actions.map(S=>{const w=a(S),T=s===S;return x.jsxs("div",{className:`mapping-item ${T?"learning":""} ${w?"mapped":""}`,children:[x.jsx("span",{className:"action-label",children:xp[S]}),x.jsx("span",{className:"mapping-value",children:w?c(w.note):""}),x.jsxs("div",{className:"mapping-actions",children:[x.jsx("button",{className:`learn-btn ${T?"active":""}`,onClick:()=>T?d():h(S),disabled:s!==null&&!T,children:T?"Cancel":"Learn"}),w&&x.jsx("button",{className:"clear-btn",onClick:()=>p(S),disabled:s!==null,children:""})]})]},S)})})]},k.name))}),x.jsx("div",{className:"midi-mapping-footer",children:x.jsx("button",{className:"clear-all-btn",onClick:m,disabled:s!==null,children:"Clear All Mappings"})})]})}):null}function Yk(){const o=Q.useRef({synth:null,bassSynth:null,reverb:null,delay:null,chorus:null,drive:null,master:null,arpInterval:null}),e=Q.useRef({index:0,direction:1}),s=Q.useRef(new Map),[i,a]=Q.useState({isInitialized:!1,currentRoot:null,currentChordNotes:[],activeChords:new Map,engine:"grandPiano"}),c=Q.useCallback(async()=>{await ik();const F=new sl(-3).toDestination();o.current.reverb=new el({decay:2.5,wet:0}).connect(F);const M=new Ks({frequency:2e3,type:"lowpass"}).connect(o.current.reverb);o.current.delay=new Ja({delayTime:.375,feedback:.4,wet:0}).connect(M),o.current.chorus=new Za({frequency:1.5,delayTime:3.5,depth:.7,wet:0}).connect(o.current.delay),o.current.chorus.start(),o.current.drive=new Ka({distortion:.4,wet:0}).connect(o.current.chorus),o.current.master=new Ne(.5).connect(o.current.drive),o.current.synth=wp.grandPiano(),o.current.synth.connect(o.current.master),o.current.bassSynth=new Qa(Tu[0].config).connect(o.current.master),du.bpm.value=120,du.start(),a(b=>({...b,isInitialized:!0}))},[]),h=Q.useCallback(F=>{o.current.master&&(o.current.synth&&o.current.synth.disconnect(),o.current.synth=wp[F](),o.current.synth.connect(o.current.master),a(M=>({...M,engine:F})))},[]),d=Q.useCallback(F=>{o.current.bassSynth&&o.current.bassSynth.set(Tu[F].config)},[]),p=Q.useCallback((F,M,b)=>{const I=Nk[b];if(!I)return F;const D=F%12,B=Math.floor(F/12),W=fu.indexOf(M);let $=12,U=D;for(const X of I){const se=(W+X)%12,le=Math.min(Math.abs(D-se),12-Math.abs(D-se));le<$&&($=le,U=se)}return B*12+U},[]),m=Q.useCallback((F,M,b,I)=>{if(M===null)return[F];const D=[...Ek[M]];for(const[W,$]of Object.entries(b))$&&D.push(Mk[W]);D.sort((W,$)=>W-$);let B=D.map(W=>F+W);for(let W=0;W<Math.abs(I);W++)I>0&&B.length>0?B.push(B.shift()+12):I<0&&B.length>0&&B.unshift(B.pop()-12);return B},[]),g=Q.useCallback((F,M,b)=>{const I=fu[F%12];if(M===null)return I;let B=I+["dim","m","","sus"][M];const W=Object.entries(b).filter(([,U])=>U).map(([U])=>U);if(W.length===0)return B;if(W.length===4)return"???";if(W.length>=3)return`${B}<sup>JAZZ</sup>`;if(M===2&&W.includes("m7")&&W.length===1)return`${B}<sup>7</sup>`;let $="";return W.includes("6")&&($+="6"),W.includes("M7")?$+="M7":W.includes("m7")&&($+="m7"),W.includes("9")&&($+="9"),`${B}<sup>${$}</sup>`},[]),v=Q.useCallback(F=>fu[F%12]+Math.floor(F/12-1),[]),k=Q.useCallback(()=>{o.current.arpInterval&&(clearInterval(o.current.arpInterval),o.current.arpInterval=null)},[]),S=Q.useCallback(()=>{k(),o.current.synth&&i.currentChordNotes.length>0&&o.current.synth.triggerRelease(i.currentChordNotes.map(F=>Wn(F,"midi").toNote())),o.current.bassSynth&&o.current.bassSynth.triggerRelease()},[i.currentChordNotes,k]),w=Q.useCallback((F,M,b,I,D,B,W,$,U=.8,X,se=!1)=>{var P,oe;if(!o.current.synth)return{notes:[],name:""};let le=F;if($){const[ae,ne]=$.split("-");le=p(F,ae,ne)}se||S();const te=m(le,M,b,I),ie=g(le,M,b),G=D==="strum2oct"?[...te,...te.map(ae=>ae+12)]:te;se||s.current.clear(),s.current.set(F,G);const Z=Array.from(s.current.values()).flat();if(a(ae=>{if(se){const ne=new Map(ae.activeChords);return ne.set(F,G),{...ae,currentRoot:F,currentChordNotes:Z,activeChords:ne}}return{...ae,currentRoot:F,currentChordNotes:G,activeChords:new Map([[F,G]])}}),B!=="solo")switch(D){case"chord":o.current.synth.triggerAttack(te.map(Y=>Wn(Y,"midi").toNote()),zs(),U),te.forEach(Y=>X==null?void 0:X(Y,Math.round(U*127),!0));break;case"strum":case"slop":te.forEach((Y,Te)=>{let Re=Te*30;D==="slop"&&(Re+=(Math.random()-.5)*15),setTimeout(()=>{var Dt;(Dt=o.current.synth)==null||Dt.triggerAttack(Wn(Y,"midi").toNote(),zs(),U),X==null||X(Y,Math.round(U*127),!0)},Re)});break;case"strum2oct":[...te,...te.map(Y=>Y+12)].forEach((Y,Te)=>{setTimeout(()=>{var Re;(Re=o.current.synth)==null||Re.triggerAttack(Wn(Y,"midi").toNote(),zs(),U*(Te<te.length?1:.85)),X==null||X(Y,Math.round(U*127),!0)},Te*25)});break;case"arpUp":case"arpDown":case"arpUpDown":k(),e.current={index:0,direction:1};const ne=60/W*1e3/2,fe=()=>{var Te;if(te.length===0)return;const Y=te[e.current.index];(Te=o.current.synth)==null||Te.triggerAttackRelease(Wn(Y,"midi").toNote(),"16n",zs(),U),X==null||X(Y,Math.round(U*127),!0),setTimeout(()=>X==null?void 0:X(Y,0,!1),ne*.9),D==="arpUp"?e.current.index=(e.current.index+1)%te.length:D==="arpDown"?(e.current.index--,e.current.index<0&&(e.current.index=te.length-1)):(e.current.index+=e.current.direction,e.current.index>=te.length-1&&(e.current.direction=-1),e.current.index<=0&&(e.current.direction=1))};fe(),o.current.arpInterval=setInterval(fe,ne);break;case"harp":const Se=[];te.forEach(Y=>{Se.push(Y,Y+12,Y+24)}),Se.sort((Y,Te)=>Y-Te),Se.forEach((Y,Te)=>{setTimeout(()=>{var Re;(Re=o.current.synth)==null||Re.triggerAttackRelease(Wn(Y,"midi").toNote(),"8n",zs(),U*.7),X==null||X(Y,Math.round(U*.7*127),!0),setTimeout(()=>X==null?void 0:X(Y,0,!1),200)},Te*25)});break}if(B!=="off"){const ae=le-24;B==="single"?(P=o.current.bassSynth)==null||P.triggerAttackRelease(Wn(ae,"midi").toNote(),"8n",zs(),.8):(oe=o.current.bassSynth)==null||oe.triggerAttack(Wn(ae,"midi").toNote(),zs(),.8)}const E=s.current.size;return{notes:se?Z:te,name:ie,activeChordCount:E}},[S,p,m,g,k]),T=Q.useCallback((F,M,b=!1)=>{if(b){const I=s.current.get(F);if(I&&o.current.synth){I.forEach(B=>M==null?void 0:M(B,0,!1)),o.current.synth.triggerRelease(I.map(B=>Wn(B,"midi").toNote())),s.current.delete(F);const D=Array.from(s.current.values()).flat();return a(B=>{const W=new Map(B.activeChords);W.delete(F);const $=W.size>0?Array.from(W.keys())[W.size-1]:null;return{...B,currentRoot:$,currentChordNotes:D,activeChords:W}}),D}return Array.from(s.current.values()).flat()}else{const I=s.current.get(F);I&&(I.forEach(D=>M==null?void 0:M(D,0,!1)),S(),s.current.clear(),a(D=>({...D,currentRoot:null,currentChordNotes:[],activeChords:new Map})))}return[]},[S]),_=Q.useCallback(()=>{var F,M;k(),(F=o.current.synth)==null||F.releaseAll(),(M=o.current.bassSynth)==null||M.triggerRelease(),s.current.clear(),a(b=>({...b,currentRoot:null,currentChordNotes:[],activeChords:new Map}))},[k]),C=Q.useCallback((F,M)=>{const b=M/100;switch(F){case"reverb":o.current.reverb&&(o.current.reverb.wet.value=b);break;case"delay":o.current.delay&&(o.current.delay.wet.value=b);break;case"chorus":o.current.chorus&&(o.current.chorus.wet.value=b);break;case"drive":o.current.drive&&(o.current.drive.wet.value=b);break;case"master":o.current.master&&(o.current.master.gain.value=b);break}},[]),R=Q.useCallback(F=>{du.bpm.value=F},[]),L=Q.useCallback(()=>s.current.size,[]);return{isInitialized:i.isInitialized,currentRoot:i.currentRoot,currentChordNotes:i.currentChordNotes,engine:i.engine,initialize:c,switchEngine:h,updateBassSynth:d,playChord:w,releaseChord:T,panic:_,setEffect:C,setBpm:R,midiToNoteName:v,getChordName:g,generateChord:m,stopArp:k,getActiveChordCount:L}}const Pi=[{name:"Metronome",pattern:[[1,"r"],[2,"r"],[3,"r"],[4,"r"]]},{name:"Basic Rock",pattern:[[1,"k"],[1,"h"],[1.5,"h"],[2,"s"],[2,"h"],[2.5,"h"],[3,"k"],[3,"h"],[3.5,"h"],[4,"s"],[4,"h"],[4.5,"h"]]},{name:"Trip-Hop",pattern:[[1,"k"],[1.25,"h"],[1.5,"h"],[1.5,"s"],[2,"k"],[2,"h"],[2.25,"h"],[2.75,"h"],[2.75,"s"],[3,"k"],[3,"h"],[3.5,"h"],[3.75,"h"],[4,"k"],[4,"s"],[4.25,"h"],[4.5,"h"],[4.75,"h"]]},{name:"Funk",pattern:[[1,"k"],[1.25,"h"],[1.25,"s"],[1.5,"h"],[1.75,"k"],[2,"h"],[2.25,"h"],[2.5,"h"],[2.5,"s"],[2.75,"k"],[2.75,"h"],[3,"h"],[3.25,"h"],[3.5,"k"],[3.5,"h"],[3.75,"h"],[4,"h"],[4,"s"],[4.25,"k"],[4.25,"h"],[4.5,"h"],[4.75,"h"]]},{name:"Breakbeat",pattern:[[1,"k"],[1.25,"h"],[1.25,"s"],[1.5,"k"],[1.75,"h"],[2,"k"],[2.25,"h"],[2.75,"k"],[2.75,"h"],[2.75,"s"],[3.25,"k"],[3.25,"h"],[3.5,"s"],[3.75,"k"],[3.75,"h"],[4.25,"h"],[4.5,"k"],[4.75,"h"],[4.75,"s"]]},{name:"Heavy Metal",pattern:[[1,"k"],[1,"h"],[1.25,"k"],[1.25,"h"],[1.5,"h"],[1.75,"h"],[2,"k"],[2,"h"],[2.25,"h"],[2.5,"h"],[2.75,"h"],[2.75,"s"],[3,"k"],[3,"h"],[3.25,"h"],[3.5,"k"],[3.5,"h"],[3.75,"h"],[4,"k"],[4,"h"],[4.25,"h"],[4.5,"k"],[4.5,"h"],[4.75,"h"]]},{name:"Samba",pattern:[[1,"k"],[1.25,"h"],[1.25,"s"],[1.5,"k"],[1.75,"h"],[2,"s"],[2.25,"h"],[2.5,"k"],[2.75,"h"],[2.75,"s"],[3,"k"],[3.25,"h"],[3.25,"s"],[3.5,"h"],[3.75,"h"],[4,"k"],[4,"s"],[4.25,"h"],[4.5,"k"],[4.75,"h"],[4.75,"s"]]},{name:"Bossa Nova",pattern:[[1,"k"],[1,"h"],[1.5,"h"],[1.5,"s"],[1.75,"k"],[2,"h"],[2.25,"s"],[2.5,"k"],[2.75,"h"],[3,"k"],[3.25,"h"],[3.25,"s"],[3.5,"h"],[3.75,"k"],[4,"h"],[4,"s"],[4.25,"h"],[4.5,"k"],[4.75,"h"]]},{name:"Rock Shuffle",pattern:[[1,"k"],[1,"h"],[1.5,"h"],[1.75,"k"],[2,"h"],[2,"s"],[2.25,"h"],[2.75,"k"],[2.75,"h"],[3.25,"h"],[3.25,"k"],[3.5,"h"],[3.75,"h"],[4,"k"],[4,"s"],[4.75,"h"]]},{name:"Disco",pattern:[[1,"k"],[1.25,"h"],[1.5,"h"],[1.5,"s"],[1.75,"s"],[2,"k"],[2,"h"],[2.25,"h"],[2.75,"h"],[2.75,"s"],[3,"k"],[3,"h"],[3.25,"h"],[3.75,"h"],[3.75,"s"],[4,"k"],[4,"s"],[4.25,"h"],[4.5,"h"],[4.75,"h"]]},{name:"Blues Shuffle",pattern:[[1,"k"],[1,"h"],[1.25,"s"],[1.5,"h"],[1.75,"k"],[2,"h"],[2,"s"],[2.5,"h"],[2.75,"k"],[3,"h"],[3.25,"h"],[3.5,"k"],[3.5,"s"],[3.75,"h"],[4,"h"],[4.25,"h"],[4.5,"k"],[4.75,"k"]]},{name:"Jazz Swing",pattern:[[1,"k"],[1,"h"],[1.5,"s"],[1.75,"h"],[2,"h"],[2.5,"h"],[2.75,"k"],[2.75,"s"],[3.5,"h"],[3.75,"h"],[3.75,"s"],[4.5,"h"],[4.75,"h"]]},{name:"Reggae",pattern:[[1,"h"],[1.25,"h"],[1.5,"k"],[1.5,"h"],[1.75,"h"],[2,"h"],[2.25,"h"],[2.5,"k"],[2.5,"h"],[2.75,"s"],[2.75,"h"],[3,"h"],[3.25,"k"],[3.25,"h"],[3.5,"h"],[3.75,"h"],[4,"h"],[4.25,"k"],[4.25,"h"],[4.5,"h"],[4.75,"h"]]},{name:"Hip-Hop",pattern:[[1,"k"],[1,"h"],[1.25,"s"],[1.5,"h"],[1.75,"k"],[2,"h"],[2,"s"],[2.5,"k"],[2.75,"h"],[3.25,"k"],[3.5,"h"],[3.5,"s"],[4,"k"],[4.25,"h"]]},{name:"EDM",pattern:[[1,"k"],[1,"h"],[1.25,"h"],[1.5,"h"],[1.75,"h"],[2,"k"],[2,"s"],[2,"h"],[2.25,"h"],[2.5,"h"],[2.75,"h"],[3,"k"],[3,"h"],[3.25,"h"],[3.5,"h"],[3.75,"h"],[4,"k"],[4,"s"],[4,"h"],[4.25,"h"],[4.5,"h"],[4.75,"h"]]},{name:"Trap",pattern:[[1,"k"],[1,"h"],[1.25,"h"],[1.5,"h"],[1.5,"s"],[1.75,"k"],[1.75,"h"],[2,"k"],[2,"h"],[2.25,"h"],[2.5,"h"],[2.75,"h"],[2.75,"s"],[3,"k"],[3,"h"],[3.25,"h"],[3.5,"h"],[3.75,"h"],[4,"k"],[4,"h"],[4,"s"],[4.25,"h"],[4.5,"k"],[4.5,"h"],[4.75,"h"],[4.75,"s"]]},{name:"Techno",pattern:[[1,"k"],[1.5,"h"],[2,"k"],[2.5,"s"],[2.5,"h"],[3,"k"],[3.5,"h"],[4,"k"],[4.5,"s"],[4.5,"h"]]},{name:"Drum & Bass",pattern:[[1,"k"],[1,"h"],[1.5,"h"],[2,"h"],[2.5,"h"],[2.75,"s"],[3,"h"],[3.5,"k"],[3.5,"h"],[4,"h"],[4.5,"h"],[4.75,"s"]]},{name:"Latin",pattern:[[1,"k"],[1,"r"],[1.5,"h"],[2,"h"],[2.5,"r"],[3,"k"],[3,"h"],[3.5,"h"],[4,"r"],[4,"h"],[4.5,"h"]]},{name:"Halftime",pattern:[[1,"k"],[1,"h"],[1.5,"h"],[2,"h"],[2.5,"h"],[3,"s"],[3,"h"],[3.5,"h"],[4,"h"],[4.5,"h"]]}];function Xk(){const o=Q.useRef({kick:null,snare:null,hihat:null,hihatOpen:null,rimshot:null,beatInterval:null}),[e,s]=Q.useState(!1),[i,a]=Q.useState(0),c=Q.useRef(0),h=Q.useCallback(()=>{const w=new Ne(.5).toDestination();o.current.kick=new Wr({pitchDecay:.05,octaves:6,oscillator:{type:"sine"},envelope:{attack:.001,decay:.3,sustain:0,release:.5}}).connect(w),o.current.snare=new Zi({noise:{type:"white"},envelope:{attack:.001,decay:.15,sustain:0,release:.1}}).connect(w),o.current.hihat=new Xi({envelope:{attack:.001,decay:.05,release:.01},harmonicity:5.1,modulationIndex:32,resonance:4e3,octaves:1.5}).connect(new Ne(.15).connect(w)),o.current.hihatOpen=new Xi({envelope:{attack:.001,decay:.2,release:.05},harmonicity:5.1,modulationIndex:32,resonance:4e3,octaves:1.5}).connect(new Ne(.12).connect(w)),o.current.rimshot=new Zi({noise:{type:"pink"},envelope:{attack:.001,decay:.05,sustain:0,release:.03}}).connect(new Ne(.3).connect(w))},[]),d=Q.useCallback(w=>{var T,_,C,R,L;switch(w){case"k":(T=o.current.kick)==null||T.triggerAttackRelease("C1","8n");break;case"s":(_=o.current.snare)==null||_.triggerAttackRelease("8n");break;case"h":(C=o.current.hihat)==null||C.triggerAttackRelease("C6","32n");break;case"o":(R=o.current.hihatOpen)==null||R.triggerAttackRelease("C6","16n");break;case"r":(L=o.current.rimshot)==null||L.triggerAttackRelease("32n");break}},[]),p=Q.useCallback(()=>{o.current.beatInterval&&(clearInterval(o.current.beatInterval),o.current.beatInterval=null)},[]),m=Q.useCallback((w,T)=>{p(),T!==void 0&&(c.current=T);const C=60/w*1e3/4;let R=1;const L=F=>{Pi[c.current].pattern.forEach(([b,I])=>{Math.abs(b-F)<.05&&d(I)})};L(R),o.current.beatInterval=setInterval(()=>{R+=.25,R>4.75&&(R=1),L(R)},C),s(!0)},[d,p]),g=Q.useCallback(()=>{p(),s(!1)},[p]),v=Q.useCallback(w=>{a(T=>{const _=(T+w+Pi.length)%Pi.length;return c.current=_,_})},[]),k=Q.useCallback(w=>{c.current=w,a(w)},[]),S=Q.useCallback(w=>{var T;return((T=Pi[w??i])==null?void 0:T.name)??""},[i]);return{isPlaying:e,currentPattern:i,patterns:Pi,initialize:h,startLoop:m,stop:g,cyclePattern:v,selectPattern:k,getPatternName:S}}function Zk(o,e){const[s,i]=Q.useState([]),[a,c]=Q.useState([]),[h,d]=Q.useState(""),[p,m]=Q.useState(""),[g,v]=Q.useState(!1),[k,S]=Q.useState(!1),w=Q.useRef(null),T=Q.useRef(null),_=Q.useCallback(b=>{const[I,D,B]=b.data||[],W=I>>4;W===9&&B>0?o==null||o(D,B/127):(W===8||W===9&&B===0)&&(e==null||e(D))},[o,e]),C=Q.useCallback(async()=>{try{const b=await navigator.requestMIDIAccess({sysex:!1});w.current=b;const I=[],D=[];for(const B of b.inputs.values())I.push({id:B.id,name:B.name||"Unknown"});for(const B of b.outputs.values())D.push({id:B.id,name:B.name||"Unknown"});i(I),c(D)}catch(b){console.log("MIDI not available:",b)}},[]),R=Q.useCallback(b=>{if(w.current){for(const I of w.current.inputs.values())I.onmidimessage=null;if(v(!1),b){const I=w.current.inputs.get(b);I&&(I.onmidimessage=_,v(!0))}d(b)}},[_]),L=Q.useCallback(b=>{if(w.current){if(S(!1),T.current=null,b){const I=w.current.outputs.get(b);I&&(T.current=I,S(!0))}m(b)}},[]),F=Q.useCallback((b,I=100)=>{var D;(D=T.current)==null||D.send([144,b,I])},[]),M=Q.useCallback(b=>{var I;(I=T.current)==null||I.send([128,b,0])},[]);return Q.useEffect(()=>()=>{if(w.current)for(const b of w.current.inputs.values())b.onmidimessage=null},[]),{inputs:s,outputs:a,selectedInput:h,selectedOutput:p,inputConnected:g,outputConnected:k,initialize:C,selectInput:R,selectOutput:L,sendNoteOn:F,sendNoteOff:M}}function Kk(){const[o,e]=Q.useState({chordType:null,extensions:{6:!1,m7:!1,M7:!1,9:!1},voicing:0,octave:4,bpm:120,keyMode:null,bassMode:"off",bassVoicing:0,performMode:"chord",engine:"grandPiano",masterVolume:80,polyMode:!1}),s=Q.useCallback(_=>{e(C=>({...C,chordType:_}))},[]),i=Q.useCallback(_=>{e(C=>({...C,extensions:{...C.extensions,[_]:!C.extensions[_]}}))},[]),a=Q.useCallback((_,C)=>{e(R=>({...R,extensions:{...R.extensions,[_]:C}}))},[]),c=Q.useCallback(_=>{e(C=>({...C,voicing:Math.max(-12,Math.min(12,_))}))},[]),h=Q.useCallback(_=>{e(C=>({...C,octave:Math.max(1,Math.min(7,_))}))},[]),d=Q.useCallback(_=>{e(C=>({...C,bpm:Math.max(40,Math.min(240,_))}))},[]),p=Q.useCallback(_=>{e(C=>({...C,keyMode:_}))},[]),m=Q.useCallback(_=>{e(C=>({...C,bassMode:_}))},[]),g=Q.useCallback(_=>{e(C=>({...C,bassVoicing:Math.max(0,Math.min(11,_))}))},[]),v=Q.useCallback(_=>{e(C=>({...C,performMode:_}))},[]),k=Q.useCallback(_=>{e(C=>({...C,engine:_}))},[]),S=Q.useCallback(_=>{e(C=>({...C,masterVolume:_}))},[]),w=Q.useCallback(_=>{e(C=>({...C,polyMode:_}))},[]),T=Q.useCallback(()=>{e(_=>({..._,polyMode:!_.polyMode}))},[]);return{...o,setChordType:s,toggleExtension:i,setExtension:a,setVoicing:c,setOctave:h,setBpm:d,setKeyMode:p,setBassMode:m,setBassVoicing:g,setPerformMode:v,setEngine:k,setMasterVolume:S,setPolyMode:w,togglePolyMode:T}}function Jk(){const[o,e]=Q.useState(!0),[s,i]=Q.useState(!1),[a,c]=Q.useState(!1),[h,d]=Q.useState(!1),[p,m]=Q.useState(!1),[g,v]=Q.useState({reverb:0,delay:0,chorus:0,drive:0,master:80}),k=Q.useRef(new Set),S=Q.useRef(new Set),w=Q.useRef(new Set),T=Q.useRef(null),_=Kk(),C=Yk(),R=Xk(),L=Gk(),F=Q.useCallback((q,E)=>{switch(q){case"chordMaj":E?(w.current.add(q),_.setChordType(2)):(w.current.delete(q),Array.from(w.current).some(P=>P.startsWith("chord"))||_.setChordType(null));break;case"chordMin":E?(w.current.add(q),_.setChordType(1)):(w.current.delete(q),Array.from(w.current).some(P=>P.startsWith("chord"))||_.setChordType(null));break;case"chordDim":E?(w.current.add(q),_.setChordType(0)):(w.current.delete(q),Array.from(w.current).some(P=>P.startsWith("chord"))||_.setChordType(null));break;case"chordAug":E?(w.current.add(q),_.setChordType(3)):(w.current.delete(q),Array.from(w.current).some(P=>P.startsWith("chord"))||_.setChordType(null));break;case"ext6":_.setExtension("6",E);break;case"extm7":_.setExtension("m7",E);break;case"extM7":_.setExtension("M7",E);break;case"ext9":_.setExtension("9",E);break;case"octaveUp":E&&_.setOctave(_.octave+1);break;case"octaveDown":E&&_.setOctave(_.octave-1);break;case"voicingUp":E&&_.setVoicing(_.voicing+1);break;case"voicingDown":E&&_.setVoicing(_.voicing-1);break}},[_]),M=Q.useCallback((q,E)=>{if(L.processMidiForLearn(q))return;const P=L.getActionForNote(q);if(P){F(P,!0);return}const oe=C.playChord(q,_.chordType,_.extensions,_.voicing,_.performMode,_.bassMode,_.bpm,_.keyMode,E??.8,(ae,ne,fe)=>fe?I.sendNoteOn(ae,ne):I.sendNoteOff(ae),_.polyMode);B(oe)},[_,C,L,F]),b=Q.useCallback(q=>{const E=L.getActionForNote(q);if(E){F(E,!1);return}const P=C.releaseChord(q,(oe,ae,ne)=>ne?I.sendNoteOn(oe,0):I.sendNoteOff(oe),_.polyMode);B({notes:P,name:""})},[C,_.polyMode,L,F]),I=Zk(M,b),[D,B]=Q.useState({notes:[],name:""}),W=Q.useCallback(async()=>{await C.initialize(),R.initialize(),await I.initialize(),e(!1)},[C,R,I]),$=Q.useCallback((q,E)=>{v(P=>({...P,[q]:E})),C.setEffect(q,E)},[C]),U=Q.useCallback(()=>{R.isPlaying&&R.stop()},[R]),X=Q.useCallback(q=>{R.selectPattern(q),R.startLoop(_.bpm,q)},[R,_.bpm]),se=Q.useCallback(q=>{_.setEngine(q),C.switchEngine(q)},[_,C]),le=Q.useCallback(q=>{_.setBassVoicing(q),C.updateBassSynth(q)},[_,C]),te=Q.useCallback(q=>{_.setMasterVolume(q),C.setEffect("master",q),v(E=>({...E,master:q}))},[_,C]),ie=Q.useCallback(()=>{e(!0),i(!0)},[]);Q.useEffect(()=>{const q=P=>{if(P.repeat)return;const oe=P.key.toLowerCase();if(Ma[oe]!==void 0){const ne=(_.octave+1)*12+Ma[oe];k.current.has(oe)||(k.current.add(oe),M(ne));return}if(["1","2","3","4"].includes(P.key)){S.current.add(P.key),_.setChordType(parseInt(P.key)-1);return}const ae={5:"6",6:"m7",7:"M7",8:"9"};if(ae[P.key]){S.current.add(P.key),_.setExtension(ae[P.key],!0);return}if(oe==="x"&&!T.current){const ne=()=>_.setVoicing(_.voicing+1);ne(),T.current=setInterval(ne,1e3);return}if(oe==="z"&&!T.current){const ne=()=>_.setVoicing(_.voicing-1);ne(),T.current=setInterval(ne,1e3);return}if(P.key==="["){_.setOctave(_.octave-1);return}if(P.key==="]"){_.setOctave(_.octave+1);return}if(P.key==="-"){_.setBpm(_.bpm-5),C.setBpm(_.bpm-5),R.isPlaying&&R.startLoop(_.bpm-5);return}if(P.key==="="){_.setBpm(_.bpm+5),C.setBpm(_.bpm+5),R.isPlaying&&R.startLoop(_.bpm+5);return}if(oe==="l"){R.isPlaying?R.stop():R.startLoop(_.bpm);return}if(oe===","){R.cyclePattern(-1);return}if(oe==="."){R.cyclePattern(1);return}if(P.key===" "){P.preventDefault(),C.panic(),R.stop(),B({notes:[],name:""});return}if(P.key==="Escape"){d(!1);return}},E=P=>{const oe=P.key.toLowerCase();if(Ma[oe]!==void 0){k.current.delete(oe),b((_.octave+1)*12+Ma[oe]);return}if(["1","2","3","4"].includes(P.key)){S.current.delete(P.key);const ne=["1","2","3","4"].filter(fe=>S.current.has(fe));ne.length>0?_.setChordType(parseInt(ne[ne.length-1])-1):_.setChordType(null);return}const ae={5:"6",6:"m7",7:"M7",8:"9"};if(ae[P.key]){S.current.delete(P.key),_.setExtension(ae[P.key],!1);return}if(oe==="z"||oe==="x"){T.current&&(clearInterval(T.current),T.current=null);return}};return window.addEventListener("keydown",q),window.addEventListener("keyup",E),()=>{window.removeEventListener("keydown",q),window.removeEventListener("keyup",E)}},[_,C,R,M,b]);const G=D.notes.map(q=>C.midiToNoteName(q)).join("  "),Z=D.activeChordCount&&D.activeChordCount>=2?"WTF":D.name;return x.jsxs(x.Fragment,{children:[x.jsx(Uk,{}),x.jsxs("div",{className:"top-header",children:[x.jsx("a",{href:"https://getauthentic.com",target:"_blank",rel:"noopener noreferrer",children:x.jsx("img",{src:"/Logo.png",alt:"Logo",className:"logo",style:{width:170,height:"auto",opacity:.4}})}),!o&&x.jsx("button",{className:"info-btn",onClick:()=>c(!0),children:"What is this?"})]}),x.jsx(zk,{visible:o,isReopened:s,onStart:W,onClose:()=>{e(!1),i(!1)}}),x.jsx(Wk,{visible:a,onClose:()=>c(!1)}),x.jsx(Bk,{visible:h,onClose:()=>d(!1)}),x.jsx(Qk,{visible:p,enabled:L.config.enabled,learnMode:L.learnMode,lastMidiNote:L.lastMidiNote,getMappingForAction:L.getMappingForAction,getNoteLabel:L.getNoteLabel,onStartLearn:L.startLearn,onCancelLearn:L.cancelLearn,onRemoveMapping:L.removeMapping,onClearAll:L.clearAllMappings,onSetEnabled:L.setEnabled,onClose:()=>m(!1)}),x.jsx(qk,{chordType:_.chordType,extensions:_.extensions,voicing:_.voicing,bassVoicing:_.bassVoicing,octave:_.octave,bpm:_.bpm,engine:_.engine,performMode:_.performMode,keyMode:_.keyMode,bassMode:_.bassMode,masterVolume:_.masterVolume,effects:g,drumsPlaying:R.isPlaying,drumPattern:R.currentPattern,drumPatterns:R.patterns,midiInputs:I.inputs,midiOutputs:I.outputs,selectedMidiInput:I.selectedInput,selectedMidiOutput:I.selectedOutput,highlightedNotes:D.notes,chordName:Z,chordNotes:G,onChordTypeChange:_.setChordType,onExtensionToggle:_.toggleExtension,onVoicingChange:_.setVoicing,onBassVoicingChange:le,onEngineChange:se,onPerformModeChange:_.setPerformMode,onKeyModeChange:_.setKeyMode,onBassModeChange:_.setBassMode,onEffectChange:$,onMasterVolumeChange:te,polyMode:_.polyMode,onPolyModeChange:_.setPolyMode,onDrumPatternSelect:X,onDrumsToggle:U,onMidiInputChange:I.selectInput,onMidiOutputChange:I.selectOutput,onNoteOn:M,onNoteOff:b,onShowHelp:ie,onShowMidiMapping:()=>m(!0),midiMappingEnabled:L.config.enabled,midiMappingCount:L.config.mappings.length}),x.jsxs("div",{className:"info-bar",children:[x.jsxs("div",{className:"info-item",children:[x.jsx("span",{className:`status-dot ${C.isInitialized?"active":""}`}),"Audio"]}),x.jsxs("div",{className:"info-item",children:[x.jsx("span",{className:`status-dot ${I.inputConnected?"active":""}`}),"MIDI In"]}),x.jsxs("div",{className:"info-item",children:[x.jsx("span",{className:`status-dot ${I.outputConnected?"active":""}`}),"MIDI Out"]}),x.jsxs("div",{className:"info-item",children:[_.bpm," BPM"]}),x.jsxs("div",{className:"info-item",children:["Oct ",_.octave]}),x.jsx("button",{className:"info-item controls-btn",onClick:ie,children:"? Controls"})]}),x.jsxs("div",{className:"github-cta",children:[x.jsx("span",{className:"github-cta-text",children:"Want to contribute?"}),x.jsxs("a",{href:"https://github.com/getauthentic/violet-chord-generator",target:"_blank",rel:"noopener noreferrer",className:"github-btn",children:[x.jsx("svg",{height:"16",width:"16",viewBox:"0 0 16 16",fill:"currentColor",children:x.jsx("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"})}),"Violet on GitHub"]})]})]})}Rv.createRoot(document.getElementById("root")).render(x.jsx(Q.StrictMode,{children:x.jsx(Jk,{})}));

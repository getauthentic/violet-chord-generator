(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function s(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(a){if(a.ep)return;a.ep=!0;const u=s(a);fetch(a.href,u)}})();var ic={exports:{}},Ri={},oc={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zf;function Tv(){if(zf)return Ne;zf=1;var o=Symbol.for("react.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function k(E){return E===null||typeof E!="object"?null:(E=v&&E[v]||E["@@iterator"],typeof E=="function"?E:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function T(E,z,me){this.props=E,this.context=z,this.refs=S,this.updater=me||_}T.prototype.isReactComponent={},T.prototype.setState=function(E,z){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,z,"setState")},T.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function N(){}N.prototype=T.prototype;function j(E,z,me){this.props=E,this.context=z,this.refs=S,this.updater=me||_}var R=j.prototype=new N;R.constructor=j,w(R,T.prototype),R.isPureReactComponent=!0;var F=Array.isArray,A=Object.prototype.hasOwnProperty,b={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function D(E,z,me){var ge,te={},ue=null,_e=null;if(z!=null)for(ge in z.ref!==void 0&&(_e=z.ref),z.key!==void 0&&(ue=""+z.key),z)A.call(z,ge)&&!I.hasOwnProperty(ge)&&(te[ge]=z[ge]);var oe=arguments.length-2;if(oe===1)te.children=me;else if(1<oe){for(var Oe=Array(oe),tt=0;tt<oe;tt++)Oe[tt]=arguments[tt+2];te.children=Oe}if(E&&E.defaultProps)for(ge in oe=E.defaultProps,oe)te[ge]===void 0&&(te[ge]=oe[ge]);return{$$typeof:o,type:E,key:ue,ref:_e,props:te,_owner:b.current}}function W(E,z){return{$$typeof:o,type:E.type,key:z,ref:E.ref,props:E.props,_owner:E._owner}}function B(E){return typeof E=="object"&&E!==null&&E.$$typeof===o}function U(E){var z={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(me){return z[me]})}var q=/\/+/g;function re(E,z){return typeof E=="object"&&E!==null&&E.key!=null?U(""+E.key):z.toString(36)}function Y(E,z,me,ge,te){var ue=typeof E;(ue==="undefined"||ue==="boolean")&&(E=null);var _e=!1;if(E===null)_e=!0;else switch(ue){case"string":case"number":_e=!0;break;case"object":switch(E.$$typeof){case o:case e:_e=!0}}if(_e)return _e=E,te=te(_e),E=ge===""?"."+re(_e,0):ge,F(te)?(me="",E!=null&&(me=E.replace(q,"$&/")+"/"),Y(te,z,me,"",function(tt){return tt})):te!=null&&(B(te)&&(te=W(te,me+(!te.key||_e&&_e.key===te.key?"":(""+te.key).replace(q,"$&/")+"/")+E)),z.push(te)),1;if(_e=0,ge=ge===""?".":ge+":",F(E))for(var oe=0;oe<E.length;oe++){ue=E[oe];var Oe=ge+re(ue,oe);_e+=Y(ue,z,me,Oe,te)}else if(Oe=k(E),typeof Oe=="function")for(E=Oe.call(E),oe=0;!(ue=E.next()).done;)ue=ue.value,Oe=ge+re(ue,oe++),_e+=Y(ue,z,me,Oe,te);else if(ue==="object")throw z=String(E),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return _e}function se(E,z,me){if(E==null)return E;var ge=[],te=0;return Y(E,ge,"","",function(ue){return z.call(me,ue,te++)}),ge}function X(E){if(E._status===-1){var z=E._result;z=z(),z.then(function(me){(E._status===0||E._status===-1)&&(E._status=1,E._result=me)},function(me){(E._status===0||E._status===-1)&&(E._status=2,E._result=me)}),E._status===-1&&(E._status=0,E._result=z)}if(E._status===1)return E._result.default;throw E._result}var Z={current:null},$={transition:null},G={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:$,ReactCurrentOwner:b};function Q(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:se,forEach:function(E,z,me){se(E,function(){z.apply(this,arguments)},me)},count:function(E){var z=0;return se(E,function(){z++}),z},toArray:function(E){return se(E,function(z){return z})||[]},only:function(E){if(!B(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Ne.Component=T,Ne.Fragment=s,Ne.Profiler=a,Ne.PureComponent=j,Ne.StrictMode=i,Ne.Suspense=p,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,Ne.act=Q,Ne.cloneElement=function(E,z,me){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var ge=w({},E.props),te=E.key,ue=E.ref,_e=E._owner;if(z!=null){if(z.ref!==void 0&&(ue=z.ref,_e=b.current),z.key!==void 0&&(te=""+z.key),E.type&&E.type.defaultProps)var oe=E.type.defaultProps;for(Oe in z)A.call(z,Oe)&&!I.hasOwnProperty(Oe)&&(ge[Oe]=z[Oe]===void 0&&oe!==void 0?oe[Oe]:z[Oe])}var Oe=arguments.length-2;if(Oe===1)ge.children=me;else if(1<Oe){oe=Array(Oe);for(var tt=0;tt<Oe;tt++)oe[tt]=arguments[tt+2];ge.children=oe}return{$$typeof:o,type:E.type,key:te,ref:ue,props:ge,_owner:_e}},Ne.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:u,_context:E},E.Consumer=E},Ne.createElement=D,Ne.createFactory=function(E){var z=D.bind(null,E);return z.type=E,z},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(E){return{$$typeof:d,render:E}},Ne.isValidElement=B,Ne.lazy=function(E){return{$$typeof:g,_payload:{_status:-1,_result:E},_init:X}},Ne.memo=function(E,z){return{$$typeof:m,type:E,compare:z===void 0?null:z}},Ne.startTransition=function(E){var z=$.transition;$.transition={};try{E()}finally{$.transition=z}},Ne.unstable_act=Q,Ne.useCallback=function(E,z){return Z.current.useCallback(E,z)},Ne.useContext=function(E){return Z.current.useContext(E)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(E){return Z.current.useDeferredValue(E)},Ne.useEffect=function(E,z){return Z.current.useEffect(E,z)},Ne.useId=function(){return Z.current.useId()},Ne.useImperativeHandle=function(E,z,me){return Z.current.useImperativeHandle(E,z,me)},Ne.useInsertionEffect=function(E,z){return Z.current.useInsertionEffect(E,z)},Ne.useLayoutEffect=function(E,z){return Z.current.useLayoutEffect(E,z)},Ne.useMemo=function(E,z){return Z.current.useMemo(E,z)},Ne.useReducer=function(E,z,me){return Z.current.useReducer(E,z,me)},Ne.useRef=function(E){return Z.current.useRef(E)},Ne.useState=function(E){return Z.current.useState(E)},Ne.useSyncExternalStore=function(E,z,me){return Z.current.useSyncExternalStore(E,z,me)},Ne.useTransition=function(){return Z.current.useTransition()},Ne.version="18.3.1",Ne}var Wf;function Cc(){return Wf||(Wf=1,oc.exports=Tv()),oc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bf;function Cv(){if(Bf)return Ri;Bf=1;var o=Cc(),e=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(d,p,m){var g,v={},k=null,_=null;m!==void 0&&(k=""+m),p.key!==void 0&&(k=""+p.key),p.ref!==void 0&&(_=p.ref);for(g in p)i.call(p,g)&&!u.hasOwnProperty(g)&&(v[g]=p[g]);if(d&&d.defaultProps)for(g in p=d.defaultProps,p)v[g]===void 0&&(v[g]=p[g]);return{$$typeof:e,type:d,key:k,ref:_,props:v,_owner:a.current}}return Ri.Fragment=s,Ri.jsx=h,Ri.jsxs=h,Ri}var Uf;function Nv(){return Uf||(Uf=1,ic.exports=Cv()),ic.exports}var x=Nv(),ne=Cc(),Sa={},ac={exports:{}},jt={},lc={exports:{}},uc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $f;function Ev(){return $f||($f=1,(function(o){function e($,G){var Q=$.length;$.push(G);e:for(;0<Q;){var E=Q-1>>>1,z=$[E];if(0<a(z,G))$[E]=G,$[Q]=z,Q=E;else break e}}function s($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var G=$[0],Q=$.pop();if(Q!==G){$[0]=Q;e:for(var E=0,z=$.length,me=z>>>1;E<me;){var ge=2*(E+1)-1,te=$[ge],ue=ge+1,_e=$[ue];if(0>a(te,Q))ue<z&&0>a(_e,te)?($[E]=_e,$[ue]=Q,E=ue):($[E]=te,$[ge]=Q,E=ge);else if(ue<z&&0>a(_e,Q))$[E]=_e,$[ue]=Q,E=ue;else break e}}return G}function a($,G){var Q=$.sortIndex-G.sortIndex;return Q!==0?Q:$.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;o.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();o.unstable_now=function(){return h.now()-d}}var p=[],m=[],g=1,v=null,k=3,_=!1,w=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R($){for(var G=s(m);G!==null;){if(G.callback===null)i(m);else if(G.startTime<=$)i(m),G.sortIndex=G.expirationTime,e(p,G);else break;G=s(m)}}function F($){if(S=!1,R($),!w)if(s(p)!==null)w=!0,X(A);else{var G=s(m);G!==null&&Z(F,G.startTime-$)}}function A($,G){w=!1,S&&(S=!1,N(D),D=-1),_=!0;var Q=k;try{for(R(G),v=s(p);v!==null&&(!(v.expirationTime>G)||$&&!U());){var E=v.callback;if(typeof E=="function"){v.callback=null,k=v.priorityLevel;var z=E(v.expirationTime<=G);G=o.unstable_now(),typeof z=="function"?v.callback=z:v===s(p)&&i(p),R(G)}else i(p);v=s(p)}if(v!==null)var me=!0;else{var ge=s(m);ge!==null&&Z(F,ge.startTime-G),me=!1}return me}finally{v=null,k=Q,_=!1}}var b=!1,I=null,D=-1,W=5,B=-1;function U(){return!(o.unstable_now()-B<W)}function q(){if(I!==null){var $=o.unstable_now();B=$;var G=!0;try{G=I(!0,$)}finally{G?re():(b=!1,I=null)}}else b=!1}var re;if(typeof j=="function")re=function(){j(q)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,se=Y.port2;Y.port1.onmessage=q,re=function(){se.postMessage(null)}}else re=function(){T(q,0)};function X($){I=$,b||(b=!0,re())}function Z($,G){D=T(function(){$(o.unstable_now())},G)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function($){$.callback=null},o.unstable_continueExecution=function(){w||_||(w=!0,X(A))},o.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<$?Math.floor(1e3/$):5},o.unstable_getCurrentPriorityLevel=function(){return k},o.unstable_getFirstCallbackNode=function(){return s(p)},o.unstable_next=function($){switch(k){case 1:case 2:case 3:var G=3;break;default:G=k}var Q=k;k=G;try{return $()}finally{k=Q}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function($,G){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Q=k;k=$;try{return G()}finally{k=Q}},o.unstable_scheduleCallback=function($,G,Q){var E=o.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?E+Q:E):Q=E,$){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=Q+z,$={id:g++,callback:G,priorityLevel:$,startTime:Q,expirationTime:z,sortIndex:-1},Q>E?($.sortIndex=Q,e(m,$),s(p)===null&&$===s(m)&&(S?(N(D),D=-1):S=!0,Z(F,Q-E))):($.sortIndex=z,e(p,$),w||_||(w=!0,X(A))),$},o.unstable_shouldYield=U,o.unstable_wrapCallback=function($){var G=k;return function(){var Q=k;k=G;try{return $.apply(this,arguments)}finally{k=Q}}}})(uc)),uc}var Hf;function Av(){return Hf||(Hf=1,lc.exports=Ev()),lc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf;function Mv(){if(Gf)return jt;Gf=1;var o=Cc(),e=Av();function s(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function u(t,n){h(t,n),h(t+"Capture",n)}function h(t,n){for(a[t]=n,t=0;t<n.length;t++)i.add(n[t])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function k(t){return p.call(v,t)?!0:p.call(g,t)?!1:m.test(t)?v[t]=!0:(g[t]=!0,!1)}function _(t,n,r,l){if(r!==null&&r.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function w(t,n,r,l){if(n===null||typeof n>"u"||_(t,n,r,l))return!0;if(l)return!1;if(r!==null)switch(r.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function S(t,n,r,l,c,f,y){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=c,this.mustUseProperty=r,this.propertyName=t,this.type=n,this.sanitizeURL=f,this.removeEmptyString=y}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){T[t]=new S(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];T[n]=new S(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){T[t]=new S(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){T[t]=new S(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){T[t]=new S(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){T[t]=new S(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){T[t]=new S(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){T[t]=new S(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){T[t]=new S(t,5,!1,t.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function j(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(N,j);T[n]=new S(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(N,j);T[n]=new S(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(N,j);T[n]=new S(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){T[t]=new S(t,1,!1,t.toLowerCase(),null,!1,!1)}),T.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){T[t]=new S(t,1,!1,t.toLowerCase(),null,!0,!0)});function R(t,n,r,l){var c=T.hasOwnProperty(n)?T[n]:null;(c!==null?c.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(w(n,r,c,l)&&(r=null),l||c===null?k(n)&&(r===null?t.removeAttribute(n):t.setAttribute(n,""+r)):c.mustUseProperty?t[c.propertyName]=r===null?c.type===3?!1:"":r:(n=c.attributeName,l=c.attributeNamespace,r===null?t.removeAttribute(n):(c=c.type,r=c===3||c===4&&r===!0?"":""+r,l?t.setAttributeNS(l,n,r):t.setAttribute(n,r))))}var F=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),b=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),U=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),$=Symbol.iterator;function G(t){return t===null||typeof t!="object"?null:(t=$&&t[$]||t["@@iterator"],typeof t=="function"?t:null)}var Q=Object.assign,E;function z(t){if(E===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);E=n&&n[1]||""}return`
`+E+t}var me=!1;function ge(t,n){if(!t||me)return"";me=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(L){var l=L}Reflect.construct(t,[],n)}else{try{n.call()}catch(L){l=L}t.call(n.prototype)}else{try{throw Error()}catch(L){l=L}t()}}catch(L){if(L&&l&&typeof L.stack=="string"){for(var c=L.stack.split(`
`),f=l.stack.split(`
`),y=c.length-1,C=f.length-1;1<=y&&0<=C&&c[y]!==f[C];)C--;for(;1<=y&&0<=C;y--,C--)if(c[y]!==f[C]){if(y!==1||C!==1)do if(y--,C--,0>C||c[y]!==f[C]){var M=`
`+c[y].replace(" at new "," at ");return t.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",t.displayName)),M}while(1<=y&&0<=C);break}}}finally{me=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?z(t):""}function te(t){switch(t.tag){case 5:return z(t.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return t=ge(t.type,!1),t;case 11:return t=ge(t.type.render,!1),t;case 1:return t=ge(t.type,!0),t;default:return""}}function ue(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case I:return"Fragment";case b:return"Portal";case W:return"Profiler";case D:return"StrictMode";case re:return"Suspense";case Y:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case U:return(t.displayName||"Context")+".Consumer";case B:return(t._context.displayName||"Context")+".Provider";case q:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case se:return n=t.displayName||null,n!==null?n:ue(t.type)||"Memo";case X:n=t._payload,t=t._init;try{return ue(t(n))}catch{}}return null}function _e(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(n);case 8:return n===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function oe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Oe(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function tt(t){var n=Oe(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function rn(t){t._valueTracker||(t._valueTracker=tt(t))}function In(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Oe(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function nr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yr(t,n){var r=n.checked;return Q({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function ae(t,n){var r=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;r=oe(n.value!=null?n.value:r),t._wrapperState={initialChecked:l,initialValue:r,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function we(t,n){n=n.checked,n!=null&&R(t,"checked",n,!1)}function Ye(t,n){we(t,n);var r=oe(n.value),l=n.type;if(r!=null)l==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(l==="submit"||l==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?Me(t,n.type,r):n.hasOwnProperty("defaultValue")&&Me(t,n.type,oe(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function Le(t,n,r){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,r||n===t.value||(t.value=n),t.defaultValue=n}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Me(t,n,r){(n!=="number"||nr(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var je=Array.isArray;function lt(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+oe(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Yt(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(s(91));return Q({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Jn(t,n){var r=n.value;if(r==null){if(r=n.children,n=n.defaultValue,r!=null){if(n!=null)throw Error(s(92));if(je(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}n==null&&(n=""),r=n}t._wrapperState={initialValue:oe(r)}}function sr(t,n){var r=oe(n.value),l=oe(n.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),n.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),l!=null&&(t.defaultValue=""+l)}function fo(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function po(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gl(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?po(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var mo,eh=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,r,l,c){MSApp.execUnsafeLocalFunction(function(){return t(n,r,l,c)})}:t})(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(mo=mo||document.createElement("div"),mo.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=mo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function Xr(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Zr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Am=["Webkit","ms","Moz","O"];Object.keys(Zr).forEach(function(t){Am.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),Zr[n]=Zr[t]})});function th(t,n,r){return n==null||typeof n=="boolean"||n===""?"":r||typeof n!="number"||n===0||Zr.hasOwnProperty(t)&&Zr[t]?(""+n).trim():n+"px"}function nh(t,n){t=t.style;for(var r in n)if(n.hasOwnProperty(r)){var l=r.indexOf("--")===0,c=th(r,n[r],l);r==="float"&&(r="cssFloat"),l?t.setProperty(r,c):t[r]=c}}var Mm=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vl(t,n){if(n){if(Mm[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(s(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(s(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(s(61))}if(n.style!=null&&typeof n.style!="object")throw Error(s(62))}}function yl(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _l=null;function wl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kl=null,rr=null,ir=null;function sh(t){if(t=_i(t)){if(typeof kl!="function")throw Error(s(280));var n=t.stateNode;n&&(n=Fo(n),kl(t.stateNode,t.type,n))}}function rh(t){rr?ir?ir.push(t):ir=[t]:rr=t}function ih(){if(rr){var t=rr,n=ir;if(ir=rr=null,sh(t),n)for(t=0;t<n.length;t++)sh(n[t])}}function oh(t,n){return t(n)}function ah(){}var xl=!1;function lh(t,n,r){if(xl)return t(n,r);xl=!0;try{return oh(t,n,r)}finally{xl=!1,(rr!==null||ir!==null)&&(ah(),ih())}}function Kr(t,n){var r=t.stateNode;if(r===null)return null;var l=Fo(r);if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Sl=!1;if(d)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){Sl=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{Sl=!1}function Dm(t,n,r,l,c,f,y,C,M){var L=Array.prototype.slice.call(arguments,3);try{n.apply(r,L)}catch(J){this.onError(J)}}var ei=!1,go=null,vo=!1,Tl=null,bm={onError:function(t){ei=!0,go=t}};function Om(t,n,r,l,c,f,y,C,M){ei=!1,go=null,Dm.apply(bm,arguments)}function Im(t,n,r,l,c,f,y,C,M){if(Om.apply(this,arguments),ei){if(ei){var L=go;ei=!1,go=null}else throw Error(s(198));vo||(vo=!0,Tl=L)}}function As(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function uh(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function ch(t){if(As(t)!==t)throw Error(s(188))}function Rm(t){var n=t.alternate;if(!n){if(n=As(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return ch(c),t;if(f===l)return ch(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,C=c.child;C;){if(C===r){y=!0,r=c,l=f;break}if(C===l){y=!0,l=c,r=f;break}C=C.sibling}if(!y){for(C=f.child;C;){if(C===r){y=!0,r=f,l=c;break}if(C===l){y=!0,l=f,r=c;break}C=C.sibling}if(!y)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function hh(t){return t=Rm(t),t!==null?dh(t):null}function dh(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=dh(t);if(n!==null)return n;t=t.sibling}return null}var fh=e.unstable_scheduleCallback,ph=e.unstable_cancelCallback,Pm=e.unstable_shouldYield,jm=e.unstable_requestPaint,nt=e.unstable_now,Vm=e.unstable_getCurrentPriorityLevel,Cl=e.unstable_ImmediatePriority,mh=e.unstable_UserBlockingPriority,yo=e.unstable_NormalPriority,Fm=e.unstable_LowPriority,gh=e.unstable_IdlePriority,_o=null,Sn=null;function Lm(t){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(_o,t,void 0,(t.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:Wm,qm=Math.log,zm=Math.LN2;function Wm(t){return t>>>=0,t===0?32:31-(qm(t)/zm|0)|0}var wo=64,ko=4194304;function ti(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xo(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,c=t.suspendedLanes,f=t.pingedLanes,y=r&268435455;if(y!==0){var C=y&~c;C!==0?l=ti(C):(f&=y,f!==0&&(l=ti(f)))}else y=r&~c,y!==0?l=ti(y):f!==0&&(l=ti(f));if(l===0)return 0;if(n!==0&&n!==l&&(n&c)===0&&(c=l&-l,f=n&-n,c>=f||c===16&&(f&4194240)!==0))return n;if((l&4)!==0&&(l|=r&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=l;0<n;)r=31-on(n),c=1<<r,l|=t[r],n&=~c;return l}function Bm(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Um(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes;0<f;){var y=31-on(f),C=1<<y,M=c[y];M===-1?((C&r)===0||(C&l)!==0)&&(c[y]=Bm(C,n)):M<=n&&(t.expiredLanes|=C),f&=~C}}function Nl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vh(){var t=wo;return wo<<=1,(wo&4194240)===0&&(wo=64),t}function El(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ni(t,n,r){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-on(n),t[n]=r}function $m(t,n){var r=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var l=t.eventTimes;for(t=t.expirationTimes;0<r;){var c=31-on(r),f=1<<c;n[c]=0,l[c]=-1,t[c]=-1,r&=~f}}function Al(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-on(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}var Pe=0;function yh(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var _h,Ml,wh,kh,xh,Dl=!1,So=[],es=null,ts=null,ns=null,si=new Map,ri=new Map,ss=[],Hm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sh(t,n){switch(t){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":si.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ri.delete(n.pointerId)}}function ii(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=_i(n),n!==null&&Ml(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function Gm(t,n,r,l,c){switch(n){case"focusin":return es=ii(es,t,n,r,l,c),!0;case"dragenter":return ts=ii(ts,t,n,r,l,c),!0;case"mouseover":return ns=ii(ns,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return si.set(f,ii(si.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,ri.set(f,ii(ri.get(f)||null,t,n,r,l,c)),!0}return!1}function Th(t){var n=Ms(t.target);if(n!==null){var r=As(n);if(r!==null){if(n=r.tag,n===13){if(n=uh(r),n!==null){t.blockedOn=n,xh(t.priority,function(){wh(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function To(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Ol(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);_l=l,r.target.dispatchEvent(l),_l=null}else return n=_i(r),n!==null&&Ml(n),t.blockedOn=r,!1;n.shift()}return!0}function Ch(t,n,r){To(t)&&r.delete(n)}function Qm(){Dl=!1,es!==null&&To(es)&&(es=null),ts!==null&&To(ts)&&(ts=null),ns!==null&&To(ns)&&(ns=null),si.forEach(Ch),ri.forEach(Ch)}function oi(t,n){t.blockedOn===n&&(t.blockedOn=null,Dl||(Dl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Qm)))}function ai(t){function n(c){return oi(c,t)}if(0<So.length){oi(So[0],t);for(var r=1;r<So.length;r++){var l=So[r];l.blockedOn===t&&(l.blockedOn=null)}}for(es!==null&&oi(es,t),ts!==null&&oi(ts,t),ns!==null&&oi(ns,t),si.forEach(n),ri.forEach(n),r=0;r<ss.length;r++)l=ss[r],l.blockedOn===t&&(l.blockedOn=null);for(;0<ss.length&&(r=ss[0],r.blockedOn===null);)Th(r),r.blockedOn===null&&ss.shift()}var or=F.ReactCurrentBatchConfig,Co=!0;function Ym(t,n,r,l){var c=Pe,f=or.transition;or.transition=null;try{Pe=1,bl(t,n,r,l)}finally{Pe=c,or.transition=f}}function Xm(t,n,r,l){var c=Pe,f=or.transition;or.transition=null;try{Pe=4,bl(t,n,r,l)}finally{Pe=c,or.transition=f}}function bl(t,n,r,l){if(Co){var c=Ol(t,n,r,l);if(c===null)Yl(t,n,l,No,r),Sh(t,l);else if(Gm(c,t,n,r,l))l.stopPropagation();else if(Sh(t,l),n&4&&-1<Hm.indexOf(t)){for(;c!==null;){var f=_i(c);if(f!==null&&_h(f),f=Ol(t,n,r,l),f===null&&Yl(t,n,l,No,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Yl(t,n,l,null,r)}}var No=null;function Ol(t,n,r,l){if(No=null,t=wl(l),t=Ms(t),t!==null)if(n=As(t),n===null)t=null;else if(r=n.tag,r===13){if(t=uh(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return No=t,null}function Nh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vm()){case Cl:return 1;case mh:return 4;case yo:case Fm:return 16;case gh:return 536870912;default:return 16}default:return 16}}var rs=null,Il=null,Eo=null;function Eh(){if(Eo)return Eo;var t,n=Il,r=n.length,l,c="value"in rs?rs.value:rs.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return Eo=c.slice(t,1<l?1-l:void 0)}function Ao(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Mo(){return!0}function Ah(){return!1}function Bt(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(r=t[C],this[C]=r?r(f):f[C]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Mo:Ah,this.isPropagationStopped=Ah,this}return Q(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Mo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Mo)},persist:function(){},isPersistent:Mo}),n}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rl=Bt(ar),li=Q({},ar,{view:0,detail:0}),Zm=Bt(li),Pl,jl,ui,Do=Q({},li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ui&&(ui&&t.type==="mousemove"?(Pl=t.screenX-ui.screenX,jl=t.screenY-ui.screenY):jl=Pl=0,ui=t),Pl)},movementY:function(t){return"movementY"in t?t.movementY:jl}}),Mh=Bt(Do),Km=Q({},Do,{dataTransfer:0}),Jm=Bt(Km),eg=Q({},li,{relatedTarget:0}),Vl=Bt(eg),tg=Q({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),ng=Bt(tg),sg=Q({},ar,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rg=Bt(sg),ig=Q({},ar,{data:0}),Dh=Bt(ig),og={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ag={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ug(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=lg[t])?!!n[t]:!1}function Fl(){return ug}var cg=Q({},li,{key:function(t){if(t.key){var n=og[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ao(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ag[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fl,charCode:function(t){return t.type==="keypress"?Ao(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ao(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hg=Bt(cg),dg=Q({},Do,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bh=Bt(dg),fg=Q({},li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fl}),pg=Bt(fg),mg=Q({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),gg=Bt(mg),vg=Q({},Do,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yg=Bt(vg),_g=[9,13,27,32],Ll=d&&"CompositionEvent"in window,ci=null;d&&"documentMode"in document&&(ci=document.documentMode);var wg=d&&"TextEvent"in window&&!ci,Oh=d&&(!Ll||ci&&8<ci&&11>=ci),Ih=" ",Rh=!1;function Ph(t,n){switch(t){case"keyup":return _g.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var lr=!1;function kg(t,n){switch(t){case"compositionend":return jh(n);case"keypress":return n.which!==32?null:(Rh=!0,Ih);case"textInput":return t=n.data,t===Ih&&Rh?null:t;default:return null}}function xg(t,n){if(lr)return t==="compositionend"||!Ll&&Ph(t,n)?(t=Eh(),Eo=Il=rs=null,lr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Oh&&n.locale!=="ko"?null:n.data;default:return null}}var Sg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Sg[t.type]:n==="textarea"}function Fh(t,n,r,l){rh(l),n=Po(n,"onChange"),0<n.length&&(r=new Rl("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var hi=null,di=null;function Tg(t){nd(t,0)}function bo(t){var n=fr(t);if(In(n))return t}function Cg(t,n){if(t==="change")return n}var Lh=!1;if(d){var ql;if(d){var zl="oninput"in document;if(!zl){var qh=document.createElement("div");qh.setAttribute("oninput","return;"),zl=typeof qh.oninput=="function"}ql=zl}else ql=!1;Lh=ql&&(!document.documentMode||9<document.documentMode)}function zh(){hi&&(hi.detachEvent("onpropertychange",Wh),di=hi=null)}function Wh(t){if(t.propertyName==="value"&&bo(di)){var n=[];Fh(n,di,t,wl(t)),lh(Tg,n)}}function Ng(t,n,r){t==="focusin"?(zh(),hi=n,di=r,hi.attachEvent("onpropertychange",Wh)):t==="focusout"&&zh()}function Eg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bo(di)}function Ag(t,n){if(t==="click")return bo(n)}function Mg(t,n){if(t==="input"||t==="change")return bo(n)}function Dg(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var an=typeof Object.is=="function"?Object.is:Dg;function fi(t,n){if(an(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!p.call(n,c)||!an(t[c],n[c]))return!1}return!0}function Bh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Uh(t,n){var r=Bh(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Bh(r)}}function $h(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?$h(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Hh(){for(var t=window,n=nr();n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=nr(t.document)}return n}function Wl(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function bg(t){var n=Hh(),r=t.focusedElem,l=t.selectionRange;if(n!==r&&r&&r.ownerDocument&&$h(r.ownerDocument.documentElement,r)){if(l!==null&&Wl(r)){if(n=l.start,t=l.end,t===void 0&&(t=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(t,r.value.length);else if(t=(n=r.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var c=r.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!t.extend&&f>l&&(c=l,l=f,f=c),c=Uh(r,f);var y=Uh(r,l);c&&y&&(t.rangeCount!==1||t.anchorNode!==c.node||t.anchorOffset!==c.offset||t.focusNode!==y.node||t.focusOffset!==y.offset)&&(n=n.createRange(),n.setStart(c.node,c.offset),t.removeAllRanges(),f>l?(t.addRange(n),t.extend(y.node,y.offset)):(n.setEnd(y.node,y.offset),t.addRange(n)))}}for(n=[],t=r;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)t=n[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Og=d&&"documentMode"in document&&11>=document.documentMode,ur=null,Bl=null,pi=null,Ul=!1;function Gh(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ul||ur==null||ur!==nr(l)||(l=ur,"selectionStart"in l&&Wl(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),pi&&fi(pi,l)||(pi=l,l=Po(Bl,"onSelect"),0<l.length&&(n=new Rl("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=ur)))}function Oo(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var cr={animationend:Oo("Animation","AnimationEnd"),animationiteration:Oo("Animation","AnimationIteration"),animationstart:Oo("Animation","AnimationStart"),transitionend:Oo("Transition","TransitionEnd")},$l={},Qh={};d&&(Qh=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);function Io(t){if($l[t])return $l[t];if(!cr[t])return t;var n=cr[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Qh)return $l[t]=n[r];return t}var Yh=Io("animationend"),Xh=Io("animationiteration"),Zh=Io("animationstart"),Kh=Io("transitionend"),Jh=new Map,ed="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function is(t,n){Jh.set(t,n),u(n,[t])}for(var Hl=0;Hl<ed.length;Hl++){var Gl=ed[Hl],Ig=Gl.toLowerCase(),Rg=Gl[0].toUpperCase()+Gl.slice(1);is(Ig,"on"+Rg)}is(Yh,"onAnimationEnd"),is(Xh,"onAnimationIteration"),is(Zh,"onAnimationStart"),is("dblclick","onDoubleClick"),is("focusin","onFocus"),is("focusout","onBlur"),is(Kh,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pg=new Set("cancel close invalid load scroll toggle".split(" ").concat(mi));function td(t,n,r){var l=t.type||"unknown-event";t.currentTarget=r,Im(l,n,void 0,t),t.currentTarget=null}function nd(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var C=l[y],M=C.instance,L=C.currentTarget;if(C=C.listener,M!==f&&c.isPropagationStopped())break e;td(c,C,L),f=M}else for(y=0;y<l.length;y++){if(C=l[y],M=C.instance,L=C.currentTarget,C=C.listener,M!==f&&c.isPropagationStopped())break e;td(c,C,L),f=M}}}if(vo)throw t=Tl,vo=!1,Tl=null,t}function We(t,n){var r=n[tu];r===void 0&&(r=n[tu]=new Set);var l=t+"__bubble";r.has(l)||(sd(n,t,2,!1),r.add(l))}function Ql(t,n,r){var l=0;n&&(l|=4),sd(r,t,l,n)}var Ro="_reactListening"+Math.random().toString(36).slice(2);function gi(t){if(!t[Ro]){t[Ro]=!0,i.forEach(function(r){r!=="selectionchange"&&(Pg.has(r)||Ql(r,!1,t),Ql(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ro]||(n[Ro]=!0,Ql("selectionchange",!1,n))}}function sd(t,n,r,l){switch(Nh(n)){case 1:var c=Ym;break;case 4:c=Xm;break;default:c=bl}r=c.bind(null,n,r,t),c=void 0,!Sl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Yl(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var C=l.stateNode.containerInfo;if(C===c||C.nodeType===8&&C.parentNode===c)break;if(y===4)for(y=l.return;y!==null;){var M=y.tag;if((M===3||M===4)&&(M=y.stateNode.containerInfo,M===c||M.nodeType===8&&M.parentNode===c))return;y=y.return}for(;C!==null;){if(y=Ms(C),y===null)return;if(M=y.tag,M===5||M===6){l=f=y;continue e}C=C.parentNode}}l=l.return}lh(function(){var L=f,J=wl(r),ee=[];e:{var K=Jh.get(t);if(K!==void 0){var le=Rl,de=t;switch(t){case"keypress":if(Ao(r)===0)break e;case"keydown":case"keyup":le=hg;break;case"focusin":de="focus",le=Vl;break;case"focusout":de="blur",le=Vl;break;case"beforeblur":case"afterblur":le=Vl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Mh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Jm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=pg;break;case Yh:case Xh:case Zh:le=ng;break;case Kh:le=gg;break;case"scroll":le=Zm;break;case"wheel":le=yg;break;case"copy":case"cut":case"paste":le=rg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=bh}var fe=(n&4)!==0,st=!fe&&t==="scroll",P=fe?K!==null?K+"Capture":null:K;fe=[];for(var O=L,V;O!==null;){V=O;var ie=V.stateNode;if(V.tag===5&&ie!==null&&(V=ie,P!==null&&(ie=Kr(O,P),ie!=null&&fe.push(vi(O,ie,V)))),st)break;O=O.return}0<fe.length&&(K=new le(K,de,null,r,J),ee.push({event:K,listeners:fe}))}}if((n&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",le=t==="mouseout"||t==="pointerout",K&&r!==_l&&(de=r.relatedTarget||r.fromElement)&&(Ms(de)||de[Rn]))break e;if((le||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,le?(de=r.relatedTarget||r.toElement,le=L,de=de?Ms(de):null,de!==null&&(st=As(de),de!==st||de.tag!==5&&de.tag!==6)&&(de=null)):(le=null,de=L),le!==de)){if(fe=Mh,ie="onMouseLeave",P="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(fe=bh,ie="onPointerLeave",P="onPointerEnter",O="pointer"),st=le==null?K:fr(le),V=de==null?K:fr(de),K=new fe(ie,O+"leave",le,r,J),K.target=st,K.relatedTarget=V,ie=null,Ms(J)===L&&(fe=new fe(P,O+"enter",de,r,J),fe.target=V,fe.relatedTarget=st,ie=fe),st=ie,le&&de)t:{for(fe=le,P=de,O=0,V=fe;V;V=hr(V))O++;for(V=0,ie=P;ie;ie=hr(ie))V++;for(;0<O-V;)fe=hr(fe),O--;for(;0<V-O;)P=hr(P),V--;for(;O--;){if(fe===P||P!==null&&fe===P.alternate)break t;fe=hr(fe),P=hr(P)}fe=null}else fe=null;le!==null&&rd(ee,K,le,fe,!1),de!==null&&st!==null&&rd(ee,st,de,fe,!0)}}e:{if(K=L?fr(L):window,le=K.nodeName&&K.nodeName.toLowerCase(),le==="select"||le==="input"&&K.type==="file")var pe=Cg;else if(Vh(K))if(Lh)pe=Mg;else{pe=Eg;var ve=Ng}else(le=K.nodeName)&&le.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(pe=Ag);if(pe&&(pe=pe(t,L))){Fh(ee,pe,r,J);break e}ve&&ve(t,K,L),t==="focusout"&&(ve=K._wrapperState)&&ve.controlled&&K.type==="number"&&Me(K,"number",K.value)}switch(ve=L?fr(L):window,t){case"focusin":(Vh(ve)||ve.contentEditable==="true")&&(ur=ve,Bl=L,pi=null);break;case"focusout":pi=Bl=ur=null;break;case"mousedown":Ul=!0;break;case"contextmenu":case"mouseup":case"dragend":Ul=!1,Gh(ee,r,J);break;case"selectionchange":if(Og)break;case"keydown":case"keyup":Gh(ee,r,J)}var ye;if(Ll)e:{switch(t){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else lr?Ph(t,r)&&(Se="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Se="onCompositionStart");Se&&(Oh&&r.locale!=="ko"&&(lr||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&lr&&(ye=Eh()):(rs=J,Il="value"in rs?rs.value:rs.textContent,lr=!0)),ve=Po(L,Se),0<ve.length&&(Se=new Dh(Se,t,null,r,J),ee.push({event:Se,listeners:ve}),ye?Se.data=ye:(ye=jh(r),ye!==null&&(Se.data=ye)))),(ye=wg?kg(t,r):xg(t,r))&&(L=Po(L,"onBeforeInput"),0<L.length&&(J=new Dh("onBeforeInput","beforeinput",null,r,J),ee.push({event:J,listeners:L}),J.data=ye))}nd(ee,n)})}function vi(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Po(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=Kr(t,r),f!=null&&l.unshift(vi(t,f,c)),f=Kr(t,n),f!=null&&l.push(vi(t,f,c))),t=t.return}return l}function hr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rd(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var C=r,M=C.alternate,L=C.stateNode;if(M!==null&&M===l)break;C.tag===5&&L!==null&&(C=L,c?(M=Kr(r,f),M!=null&&y.unshift(vi(r,M,C))):c||(M=Kr(r,f),M!=null&&y.push(vi(r,M,C)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var jg=/\r\n?/g,Vg=/\u0000|\uFFFD/g;function id(t){return(typeof t=="string"?t:""+t).replace(jg,`
`).replace(Vg,"")}function jo(t,n,r){if(n=id(n),id(t)!==n&&r)throw Error(s(425))}function Vo(){}var Xl=null,Zl=null;function Kl(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Jl=typeof setTimeout=="function"?setTimeout:void 0,Fg=typeof clearTimeout=="function"?clearTimeout:void 0,od=typeof Promise=="function"?Promise:void 0,Lg=typeof queueMicrotask=="function"?queueMicrotask:typeof od<"u"?function(t){return od.resolve(null).then(t).catch(qg)}:Jl;function qg(t){setTimeout(function(){throw t})}function eu(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){t.removeChild(c),ai(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);ai(n)}function os(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function ad(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}var dr=Math.random().toString(36).slice(2),Tn="__reactFiber$"+dr,yi="__reactProps$"+dr,Rn="__reactContainer$"+dr,tu="__reactEvents$"+dr,zg="__reactListeners$"+dr,Wg="__reactHandles$"+dr;function Ms(t){var n=t[Tn];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Rn]||r[Tn]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=ad(t);t!==null;){if(r=t[Tn])return r;t=ad(t)}return n}t=r,r=t.parentNode}return null}function _i(t){return t=t[Tn]||t[Rn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(s(33))}function Fo(t){return t[yi]||null}var nu=[],pr=-1;function as(t){return{current:t}}function Be(t){0>pr||(t.current=nu[pr],nu[pr]=null,pr--)}function qe(t,n){pr++,nu[pr]=t.current,t.current=n}var ls={},kt=as(ls),bt=as(!1),Ds=ls;function mr(t,n){var r=t.type.contextTypes;if(!r)return ls;var l=t.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in r)c[f]=n[f];return l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=c),c}function Ot(t){return t=t.childContextTypes,t!=null}function Lo(){Be(bt),Be(kt)}function ld(t,n,r){if(kt.current!==ls)throw Error(s(168));qe(kt,n),qe(bt,r)}function ud(t,n,r){var l=t.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return r;l=l.getChildContext();for(var c in l)if(!(c in n))throw Error(s(108,_e(t)||"Unknown",c));return Q({},r,l)}function qo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ls,Ds=kt.current,qe(kt,t),qe(bt,bt.current),!0}function cd(t,n,r){var l=t.stateNode;if(!l)throw Error(s(169));r?(t=ud(t,n,Ds),l.__reactInternalMemoizedMergedChildContext=t,Be(bt),Be(kt),qe(kt,t)):Be(bt),qe(bt,r)}var Pn=null,zo=!1,su=!1;function hd(t){Pn===null?Pn=[t]:Pn.push(t)}function Bg(t){zo=!0,hd(t)}function us(){if(!su&&Pn!==null){su=!0;var t=0,n=Pe;try{var r=Pn;for(Pe=1;t<r.length;t++){var l=r[t];do l=l(!0);while(l!==null)}Pn=null,zo=!1}catch(c){throw Pn!==null&&(Pn=Pn.slice(t+1)),fh(Cl,us),c}finally{Pe=n,su=!1}}return null}var gr=[],vr=0,Wo=null,Bo=0,Xt=[],Zt=0,bs=null,jn=1,Vn="";function Os(t,n){gr[vr++]=Bo,gr[vr++]=Wo,Wo=t,Bo=n}function dd(t,n,r){Xt[Zt++]=jn,Xt[Zt++]=Vn,Xt[Zt++]=bs,bs=t;var l=jn;t=Vn;var c=32-on(l)-1;l&=~(1<<c),r+=1;var f=32-on(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,jn=1<<32-on(n)+c|r<<c|l,Vn=f+t}else jn=1<<f|r<<c|l,Vn=t}function ru(t){t.return!==null&&(Os(t,1),dd(t,1,0))}function iu(t){for(;t===Wo;)Wo=gr[--vr],gr[vr]=null,Bo=gr[--vr],gr[vr]=null;for(;t===bs;)bs=Xt[--Zt],Xt[Zt]=null,Vn=Xt[--Zt],Xt[Zt]=null,jn=Xt[--Zt],Xt[Zt]=null}var Ut=null,$t=null,He=!1,ln=null;function fd(t,n){var r=tn(5,null,null,0);r.elementType="DELETED",r.stateNode=n,r.return=t,n=t.deletions,n===null?(t.deletions=[r],t.flags|=16):n.push(r)}function pd(t,n){switch(t.tag){case 5:var r=t.type;return n=n.nodeType!==1||r.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,Ut=t,$t=os(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,Ut=t,$t=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(r=bs!==null?{id:jn,overflow:Vn}:null,t.memoizedState={dehydrated:n,treeContext:r,retryLane:1073741824},r=tn(18,null,null,0),r.stateNode=n,r.return=t,t.child=r,Ut=t,$t=null,!0):!1;default:return!1}}function ou(t){return(t.mode&1)!==0&&(t.flags&128)===0}function au(t){if(He){var n=$t;if(n){var r=n;if(!pd(t,n)){if(ou(t))throw Error(s(418));n=os(r.nextSibling);var l=Ut;n&&pd(t,n)?fd(l,r):(t.flags=t.flags&-4097|2,He=!1,Ut=t)}}else{if(ou(t))throw Error(s(418));t.flags=t.flags&-4097|2,He=!1,Ut=t}}}function md(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ut=t}function Uo(t){if(t!==Ut)return!1;if(!He)return md(t),He=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!Kl(t.type,t.memoizedProps)),n&&(n=$t)){if(ou(t))throw gd(),Error(s(418));for(;n;)fd(t,n),n=os(n.nextSibling)}if(md(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(n===0){$t=os(t.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++}t=t.nextSibling}$t=null}}else $t=Ut?os(t.stateNode.nextSibling):null;return!0}function gd(){for(var t=$t;t;)t=os(t.nextSibling)}function yr(){$t=Ut=null,He=!1}function lu(t){ln===null?ln=[t]:ln.push(t)}var Ug=F.ReactCurrentBatchConfig;function wi(t,n,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(s(309));var l=r.stateNode}if(!l)throw Error(s(147,t));var c=l,f=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(y){var C=c.refs;y===null?delete C[f]:C[f]=y},n._stringRef=f,n)}if(typeof t!="string")throw Error(s(284));if(!r._owner)throw Error(s(290,t))}return t}function $o(t,n){throw t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function vd(t){var n=t._init;return n(t._payload)}function yd(t){function n(P,O){if(t){var V=P.deletions;V===null?(P.deletions=[O],P.flags|=16):V.push(O)}}function r(P,O){if(!t)return null;for(;O!==null;)n(P,O),O=O.sibling;return null}function l(P,O){for(P=new Map;O!==null;)O.key!==null?P.set(O.key,O):P.set(O.index,O),O=O.sibling;return P}function c(P,O){return P=vs(P,O),P.index=0,P.sibling=null,P}function f(P,O,V){return P.index=V,t?(V=P.alternate,V!==null?(V=V.index,V<O?(P.flags|=2,O):V):(P.flags|=2,O)):(P.flags|=1048576,O)}function y(P){return t&&P.alternate===null&&(P.flags|=2),P}function C(P,O,V,ie){return O===null||O.tag!==6?(O=Ju(V,P.mode,ie),O.return=P,O):(O=c(O,V),O.return=P,O)}function M(P,O,V,ie){var pe=V.type;return pe===I?J(P,O,V.props.children,ie,V.key):O!==null&&(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===X&&vd(pe)===O.type)?(ie=c(O,V.props),ie.ref=wi(P,O,V),ie.return=P,ie):(ie=ma(V.type,V.key,V.props,null,P.mode,ie),ie.ref=wi(P,O,V),ie.return=P,ie)}function L(P,O,V,ie){return O===null||O.tag!==4||O.stateNode.containerInfo!==V.containerInfo||O.stateNode.implementation!==V.implementation?(O=ec(V,P.mode,ie),O.return=P,O):(O=c(O,V.children||[]),O.return=P,O)}function J(P,O,V,ie,pe){return O===null||O.tag!==7?(O=qs(V,P.mode,ie,pe),O.return=P,O):(O=c(O,V),O.return=P,O)}function ee(P,O,V){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Ju(""+O,P.mode,V),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case A:return V=ma(O.type,O.key,O.props,null,P.mode,V),V.ref=wi(P,null,O),V.return=P,V;case b:return O=ec(O,P.mode,V),O.return=P,O;case X:var ie=O._init;return ee(P,ie(O._payload),V)}if(je(O)||G(O))return O=qs(O,P.mode,V,null),O.return=P,O;$o(P,O)}return null}function K(P,O,V,ie){var pe=O!==null?O.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return pe!==null?null:C(P,O,""+V,ie);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case A:return V.key===pe?M(P,O,V,ie):null;case b:return V.key===pe?L(P,O,V,ie):null;case X:return pe=V._init,K(P,O,pe(V._payload),ie)}if(je(V)||G(V))return pe!==null?null:J(P,O,V,ie,null);$o(P,V)}return null}function le(P,O,V,ie,pe){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return P=P.get(V)||null,C(O,P,""+ie,pe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case A:return P=P.get(ie.key===null?V:ie.key)||null,M(O,P,ie,pe);case b:return P=P.get(ie.key===null?V:ie.key)||null,L(O,P,ie,pe);case X:var ve=ie._init;return le(P,O,V,ve(ie._payload),pe)}if(je(ie)||G(ie))return P=P.get(V)||null,J(O,P,ie,pe,null);$o(O,ie)}return null}function de(P,O,V,ie){for(var pe=null,ve=null,ye=O,Se=O=0,mt=null;ye!==null&&Se<V.length;Se++){ye.index>Se?(mt=ye,ye=null):mt=ye.sibling;var Ie=K(P,ye,V[Se],ie);if(Ie===null){ye===null&&(ye=mt);break}t&&ye&&Ie.alternate===null&&n(P,ye),O=f(Ie,O,Se),ve===null?pe=Ie:ve.sibling=Ie,ve=Ie,ye=mt}if(Se===V.length)return r(P,ye),He&&Os(P,Se),pe;if(ye===null){for(;Se<V.length;Se++)ye=ee(P,V[Se],ie),ye!==null&&(O=f(ye,O,Se),ve===null?pe=ye:ve.sibling=ye,ve=ye);return He&&Os(P,Se),pe}for(ye=l(P,ye);Se<V.length;Se++)mt=le(ye,P,Se,V[Se],ie),mt!==null&&(t&&mt.alternate!==null&&ye.delete(mt.key===null?Se:mt.key),O=f(mt,O,Se),ve===null?pe=mt:ve.sibling=mt,ve=mt);return t&&ye.forEach(function(ys){return n(P,ys)}),He&&Os(P,Se),pe}function fe(P,O,V,ie){var pe=G(V);if(typeof pe!="function")throw Error(s(150));if(V=pe.call(V),V==null)throw Error(s(151));for(var ve=pe=null,ye=O,Se=O=0,mt=null,Ie=V.next();ye!==null&&!Ie.done;Se++,Ie=V.next()){ye.index>Se?(mt=ye,ye=null):mt=ye.sibling;var ys=K(P,ye,Ie.value,ie);if(ys===null){ye===null&&(ye=mt);break}t&&ye&&ys.alternate===null&&n(P,ye),O=f(ys,O,Se),ve===null?pe=ys:ve.sibling=ys,ve=ys,ye=mt}if(Ie.done)return r(P,ye),He&&Os(P,Se),pe;if(ye===null){for(;!Ie.done;Se++,Ie=V.next())Ie=ee(P,Ie.value,ie),Ie!==null&&(O=f(Ie,O,Se),ve===null?pe=Ie:ve.sibling=Ie,ve=Ie);return He&&Os(P,Se),pe}for(ye=l(P,ye);!Ie.done;Se++,Ie=V.next())Ie=le(ye,P,Se,Ie.value,ie),Ie!==null&&(t&&Ie.alternate!==null&&ye.delete(Ie.key===null?Se:Ie.key),O=f(Ie,O,Se),ve===null?pe=Ie:ve.sibling=Ie,ve=Ie);return t&&ye.forEach(function(Sv){return n(P,Sv)}),He&&Os(P,Se),pe}function st(P,O,V,ie){if(typeof V=="object"&&V!==null&&V.type===I&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case A:e:{for(var pe=V.key,ve=O;ve!==null;){if(ve.key===pe){if(pe=V.type,pe===I){if(ve.tag===7){r(P,ve.sibling),O=c(ve,V.props.children),O.return=P,P=O;break e}}else if(ve.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===X&&vd(pe)===ve.type){r(P,ve.sibling),O=c(ve,V.props),O.ref=wi(P,ve,V),O.return=P,P=O;break e}r(P,ve);break}else n(P,ve);ve=ve.sibling}V.type===I?(O=qs(V.props.children,P.mode,ie,V.key),O.return=P,P=O):(ie=ma(V.type,V.key,V.props,null,P.mode,ie),ie.ref=wi(P,O,V),ie.return=P,P=ie)}return y(P);case b:e:{for(ve=V.key;O!==null;){if(O.key===ve)if(O.tag===4&&O.stateNode.containerInfo===V.containerInfo&&O.stateNode.implementation===V.implementation){r(P,O.sibling),O=c(O,V.children||[]),O.return=P,P=O;break e}else{r(P,O);break}else n(P,O);O=O.sibling}O=ec(V,P.mode,ie),O.return=P,P=O}return y(P);case X:return ve=V._init,st(P,O,ve(V._payload),ie)}if(je(V))return de(P,O,V,ie);if(G(V))return fe(P,O,V,ie);$o(P,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,O!==null&&O.tag===6?(r(P,O.sibling),O=c(O,V),O.return=P,P=O):(r(P,O),O=Ju(V,P.mode,ie),O.return=P,P=O),y(P)):r(P,O)}return st}var _r=yd(!0),_d=yd(!1),Ho=as(null),Go=null,wr=null,uu=null;function cu(){uu=wr=Go=null}function hu(t){var n=Ho.current;Be(Ho),t._currentValue=n}function du(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function kr(t,n){Go=t,uu=wr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&n)!==0&&(It=!0),t.firstContext=null)}function Kt(t){var n=t._currentValue;if(uu!==t)if(t={context:t,memoizedValue:n,next:null},wr===null){if(Go===null)throw Error(s(308));wr=t,Go.dependencies={lanes:0,firstContext:t}}else wr=wr.next=t;return n}var Is=null;function fu(t){Is===null?Is=[t]:Is.push(t)}function wd(t,n,r,l){var c=n.interleaved;return c===null?(r.next=r,fu(n)):(r.next=c.next,c.next=r),n.interleaved=r,Fn(t,l)}function Fn(t,n){t.lanes|=n;var r=t.alternate;for(r!==null&&(r.lanes|=n),r=t,t=t.return;t!==null;)t.childLanes|=n,r=t.alternate,r!==null&&(r.childLanes|=n),r=t,t=t.return;return r.tag===3?r.stateNode:null}var cs=!1;function pu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kd(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ln(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function hs(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(be&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,Fn(t,r)}return c=l.interleaved,c===null?(n.next=n,fu(l)):(n.next=c.next,c.next=n),l.interleaved=n,Fn(t,r)}function Qo(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194240)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Al(t,r)}}function xd(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,effects:l.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}function Yo(t,n,r,l){var c=t.updateQueue;cs=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,C=c.shared.pending;if(C!==null){c.shared.pending=null;var M=C,L=M.next;M.next=null,y===null?f=L:y.next=L,y=M;var J=t.alternate;J!==null&&(J=J.updateQueue,C=J.lastBaseUpdate,C!==y&&(C===null?J.firstBaseUpdate=L:C.next=L,J.lastBaseUpdate=M))}if(f!==null){var ee=c.baseState;y=0,J=L=M=null,C=f;do{var K=C.lane,le=C.eventTime;if((l&K)===K){J!==null&&(J=J.next={eventTime:le,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var de=t,fe=C;switch(K=n,le=r,fe.tag){case 1:if(de=fe.payload,typeof de=="function"){ee=de.call(le,ee,K);break e}ee=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=fe.payload,K=typeof de=="function"?de.call(le,ee,K):de,K==null)break e;ee=Q({},ee,K);break e;case 2:cs=!0}}C.callback!==null&&C.lane!==0&&(t.flags|=64,K=c.effects,K===null?c.effects=[C]:K.push(C))}else le={eventTime:le,lane:K,tag:C.tag,payload:C.payload,callback:C.callback,next:null},J===null?(L=J=le,M=ee):J=J.next=le,y|=K;if(C=C.next,C===null){if(C=c.shared.pending,C===null)break;K=C,C=K.next,K.next=null,c.lastBaseUpdate=K,c.shared.pending=null}}while(!0);if(J===null&&(M=ee),c.baseState=M,c.firstBaseUpdate=L,c.lastBaseUpdate=J,n=c.shared.interleaved,n!==null){c=n;do y|=c.lane,c=c.next;while(c!==n)}else f===null&&(c.shared.lanes=0);js|=y,t.lanes=y,t.memoizedState=ee}}function Sd(t,n,r){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var l=t[n],c=l.callback;if(c!==null){if(l.callback=null,l=r,typeof c!="function")throw Error(s(191,c));c.call(l)}}}var ki={},Cn=as(ki),xi=as(ki),Si=as(ki);function Rs(t){if(t===ki)throw Error(s(174));return t}function mu(t,n){switch(qe(Si,n),qe(xi,t),qe(Cn,ki),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:gl(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=gl(n,t)}Be(Cn),qe(Cn,n)}function xr(){Be(Cn),Be(xi),Be(Si)}function Td(t){Rs(Si.current);var n=Rs(Cn.current),r=gl(n,t.type);n!==r&&(qe(xi,t),qe(Cn,r))}function gu(t){xi.current===t&&(Be(Cn),Be(xi))}var Xe=as(0);function Xo(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var vu=[];function yu(){for(var t=0;t<vu.length;t++)vu[t]._workInProgressVersionPrimary=null;vu.length=0}var Zo=F.ReactCurrentDispatcher,_u=F.ReactCurrentBatchConfig,Ps=0,Ze=null,ut=null,ft=null,Ko=!1,Ti=!1,Ci=0,$g=0;function xt(){throw Error(s(321))}function wu(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!an(t[r],n[r]))return!1;return!0}function ku(t,n,r,l,c,f){if(Ps=f,Ze=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Zo.current=t===null||t.memoizedState===null?Yg:Xg,t=r(l,c),Ti){f=0;do{if(Ti=!1,Ci=0,25<=f)throw Error(s(301));f+=1,ft=ut=null,n.updateQueue=null,Zo.current=Zg,t=r(l,c)}while(Ti)}if(Zo.current=ta,n=ut!==null&&ut.next!==null,Ps=0,ft=ut=Ze=null,Ko=!1,n)throw Error(s(300));return t}function xu(){var t=Ci!==0;return Ci=0,t}function Nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Ze.memoizedState=ft=t:ft=ft.next=t,ft}function Jt(){if(ut===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var n=ft===null?Ze.memoizedState:ft.next;if(n!==null)ft=n,ut=t;else{if(t===null)throw Error(s(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},ft===null?Ze.memoizedState=ft=t:ft=ft.next=t}return ft}function Ni(t,n){return typeof n=="function"?n(t):n}function Su(t){var n=Jt(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=ut,c=l.baseQueue,f=r.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}l.baseQueue=c=f,r.pending=null}if(c!==null){f=c.next,l=l.baseState;var C=y=null,M=null,L=f;do{var J=L.lane;if((Ps&J)===J)M!==null&&(M=M.next={lane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),l=L.hasEagerState?L.eagerState:t(l,L.action);else{var ee={lane:J,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null};M===null?(C=M=ee,y=l):M=M.next=ee,Ze.lanes|=J,js|=J}L=L.next}while(L!==null&&L!==f);M===null?y=l:M.next=C,an(l,n.memoizedState)||(It=!0),n.memoizedState=l,n.baseState=y,n.baseQueue=M,r.lastRenderedState=l}if(t=r.interleaved,t!==null){c=t;do f=c.lane,Ze.lanes|=f,js|=f,c=c.next;while(c!==t)}else c===null&&(r.lanes=0);return[n.memoizedState,r.dispatch]}function Tu(t){var n=Jt(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);an(f,n.memoizedState)||(It=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Cd(){}function Nd(t,n){var r=Ze,l=Jt(),c=n(),f=!an(l.memoizedState,c);if(f&&(l.memoizedState=c,It=!0),l=l.queue,Cu(Md.bind(null,r,l,t),[t]),l.getSnapshot!==n||f||ft!==null&&ft.memoizedState.tag&1){if(r.flags|=2048,Ei(9,Ad.bind(null,r,l,c,n),void 0,null),pt===null)throw Error(s(349));(Ps&30)!==0||Ed(r,n,c)}return c}function Ed(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ze.updateQueue,n===null?(n={lastEffect:null,stores:null},Ze.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Ad(t,n,r,l){n.value=r,n.getSnapshot=l,Dd(n)&&bd(t)}function Md(t,n,r){return r(function(){Dd(n)&&bd(t)})}function Dd(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!an(t,r)}catch{return!0}}function bd(t){var n=Fn(t,1);n!==null&&dn(n,t,1,-1)}function Od(t){var n=Nn();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:t},n.queue=t,t=t.dispatch=Qg.bind(null,Ze,t),[n.memoizedState,t]}function Ei(t,n,r,l){return t={tag:t,create:n,destroy:r,deps:l,next:null},n=Ze.updateQueue,n===null?(n={lastEffect:null,stores:null},Ze.updateQueue=n,n.lastEffect=t.next=t):(r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t)),t}function Id(){return Jt().memoizedState}function Jo(t,n,r,l){var c=Nn();Ze.flags|=t,c.memoizedState=Ei(1|n,r,void 0,l===void 0?null:l)}function ea(t,n,r,l){var c=Jt();l=l===void 0?null:l;var f=void 0;if(ut!==null){var y=ut.memoizedState;if(f=y.destroy,l!==null&&wu(l,y.deps)){c.memoizedState=Ei(n,r,f,l);return}}Ze.flags|=t,c.memoizedState=Ei(1|n,r,f,l)}function Rd(t,n){return Jo(8390656,8,t,n)}function Cu(t,n){return ea(2048,8,t,n)}function Pd(t,n){return ea(4,2,t,n)}function jd(t,n){return ea(4,4,t,n)}function Vd(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Fd(t,n,r){return r=r!=null?r.concat([t]):null,ea(4,4,Vd.bind(null,n,t),r)}function Nu(){}function Ld(t,n){var r=Jt();n=n===void 0?null:n;var l=r.memoizedState;return l!==null&&n!==null&&wu(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function qd(t,n){var r=Jt();n=n===void 0?null:n;var l=r.memoizedState;return l!==null&&n!==null&&wu(n,l[1])?l[0]:(t=t(),r.memoizedState=[t,n],t)}function zd(t,n,r){return(Ps&21)===0?(t.baseState&&(t.baseState=!1,It=!0),t.memoizedState=r):(an(r,n)||(r=vh(),Ze.lanes|=r,js|=r,t.baseState=!0),n)}function Hg(t,n){var r=Pe;Pe=r!==0&&4>r?r:4,t(!0);var l=_u.transition;_u.transition={};try{t(!1),n()}finally{Pe=r,_u.transition=l}}function Wd(){return Jt().memoizedState}function Gg(t,n,r){var l=ms(t);if(r={lane:l,action:r,hasEagerState:!1,eagerState:null,next:null},Bd(t))Ud(n,r);else if(r=wd(t,n,r,l),r!==null){var c=Et();dn(r,t,l,c),$d(r,n,l)}}function Qg(t,n,r){var l=ms(t),c={lane:l,action:r,hasEagerState:!1,eagerState:null,next:null};if(Bd(t))Ud(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,C=f(y,r);if(c.hasEagerState=!0,c.eagerState=C,an(C,y)){var M=n.interleaved;M===null?(c.next=c,fu(n)):(c.next=M.next,M.next=c),n.interleaved=c;return}}catch{}finally{}r=wd(t,n,c,l),r!==null&&(c=Et(),dn(r,t,l,c),$d(r,n,l))}}function Bd(t){var n=t.alternate;return t===Ze||n!==null&&n===Ze}function Ud(t,n){Ti=Ko=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function $d(t,n,r){if((r&4194240)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Al(t,r)}}var ta={readContext:Kt,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},Yg={readContext:Kt,useCallback:function(t,n){return Nn().memoizedState=[t,n===void 0?null:n],t},useContext:Kt,useEffect:Rd,useImperativeHandle:function(t,n,r){return r=r!=null?r.concat([t]):null,Jo(4194308,4,Vd.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Jo(4194308,4,t,n)},useInsertionEffect:function(t,n){return Jo(4,2,t,n)},useMemo:function(t,n){var r=Nn();return n=n===void 0?null:n,t=t(),r.memoizedState=[t,n],t},useReducer:function(t,n,r){var l=Nn();return n=r!==void 0?r(n):n,l.memoizedState=l.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},l.queue=t,t=t.dispatch=Gg.bind(null,Ze,t),[l.memoizedState,t]},useRef:function(t){var n=Nn();return t={current:t},n.memoizedState=t},useState:Od,useDebugValue:Nu,useDeferredValue:function(t){return Nn().memoizedState=t},useTransition:function(){var t=Od(!1),n=t[0];return t=Hg.bind(null,t[1]),Nn().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,r){var l=Ze,c=Nn();if(He){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),pt===null)throw Error(s(349));(Ps&30)!==0||Ed(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Rd(Md.bind(null,l,f,t),[t]),l.flags|=2048,Ei(9,Ad.bind(null,l,f,r,n),void 0,null),r},useId:function(){var t=Nn(),n=pt.identifierPrefix;if(He){var r=Vn,l=jn;r=(l&~(1<<32-on(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=Ci++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=$g++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},Xg={readContext:Kt,useCallback:Ld,useContext:Kt,useEffect:Cu,useImperativeHandle:Fd,useInsertionEffect:Pd,useLayoutEffect:jd,useMemo:qd,useReducer:Su,useRef:Id,useState:function(){return Su(Ni)},useDebugValue:Nu,useDeferredValue:function(t){var n=Jt();return zd(n,ut.memoizedState,t)},useTransition:function(){var t=Su(Ni)[0],n=Jt().memoizedState;return[t,n]},useMutableSource:Cd,useSyncExternalStore:Nd,useId:Wd,unstable_isNewReconciler:!1},Zg={readContext:Kt,useCallback:Ld,useContext:Kt,useEffect:Cu,useImperativeHandle:Fd,useInsertionEffect:Pd,useLayoutEffect:jd,useMemo:qd,useReducer:Tu,useRef:Id,useState:function(){return Tu(Ni)},useDebugValue:Nu,useDeferredValue:function(t){var n=Jt();return ut===null?n.memoizedState=t:zd(n,ut.memoizedState,t)},useTransition:function(){var t=Tu(Ni)[0],n=Jt().memoizedState;return[t,n]},useMutableSource:Cd,useSyncExternalStore:Nd,useId:Wd,unstable_isNewReconciler:!1};function un(t,n){if(t&&t.defaultProps){n=Q({},n),t=t.defaultProps;for(var r in t)n[r]===void 0&&(n[r]=t[r]);return n}return n}function Eu(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:Q({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var na={isMounted:function(t){return(t=t._reactInternals)?As(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Et(),c=ms(t),f=Ln(l,c);f.payload=n,r!=null&&(f.callback=r),n=hs(t,f,c),n!==null&&(dn(n,t,c,l),Qo(n,t,c))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Et(),c=ms(t),f=Ln(l,c);f.tag=1,f.payload=n,r!=null&&(f.callback=r),n=hs(t,f,c),n!==null&&(dn(n,t,c,l),Qo(n,t,c))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Et(),l=ms(t),c=Ln(r,l);c.tag=2,n!=null&&(c.callback=n),n=hs(t,c,l),n!==null&&(dn(n,t,l,r),Qo(n,t,l))}};function Hd(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!fi(r,l)||!fi(c,f):!0}function Gd(t,n,r){var l=!1,c=ls,f=n.contextType;return typeof f=="object"&&f!==null?f=Kt(f):(c=Ot(n)?Ds:kt.current,l=n.contextTypes,f=(l=l!=null)?mr(t,c):ls),n=new n(r,f),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=na,t.stateNode=n,n._reactInternals=t,l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=c,t.__reactInternalMemoizedMaskedChildContext=f),n}function Qd(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&na.enqueueReplaceState(n,n.state,null)}function Au(t,n,r,l){var c=t.stateNode;c.props=r,c.state=t.memoizedState,c.refs={},pu(t);var f=n.contextType;typeof f=="object"&&f!==null?c.context=Kt(f):(f=Ot(n)?Ds:kt.current,c.context=mr(t,f)),c.state=t.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(Eu(t,n,f,r),c.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(n=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),n!==c.state&&na.enqueueReplaceState(c,c.state,null),Yo(t,r,c,l),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308)}function Sr(t,n){try{var r="",l=n;do r+=te(l),l=l.return;while(l);var c=r}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:t,source:n,stack:c,digest:null}}function Mu(t,n,r){return{value:t,source:null,stack:r??null,digest:n??null}}function Du(t,n){try{console.error(n.value)}catch(r){setTimeout(function(){throw r})}}var Kg=typeof WeakMap=="function"?WeakMap:Map;function Yd(t,n,r){r=Ln(-1,r),r.tag=3,r.payload={element:null};var l=n.value;return r.callback=function(){ua||(ua=!0,$u=l),Du(t,n)},r}function Xd(t,n,r){r=Ln(-1,r),r.tag=3;var l=t.type.getDerivedStateFromError;if(typeof l=="function"){var c=n.value;r.payload=function(){return l(c)},r.callback=function(){Du(t,n)}}var f=t.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(r.callback=function(){Du(t,n),typeof l!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})}),r}function Zd(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new Kg;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(c.add(r),t=dv.bind(null,t,n,r),n.then(t,t))}function Kd(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function Jd(t,n,r,l,c){return(t.mode&1)===0?(t===n?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(n=Ln(-1,1),n.tag=2,hs(r,n,1))),r.lanes|=1),t):(t.flags|=65536,t.lanes=c,t)}var Jg=F.ReactCurrentOwner,It=!1;function Nt(t,n,r,l){n.child=t===null?_d(n,null,r,l):_r(n,t.child,r,l)}function ef(t,n,r,l,c){r=r.render;var f=n.ref;return kr(n,c),l=ku(t,n,r,l,f,c),r=xu(),t!==null&&!It?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~c,qn(t,n,c)):(He&&r&&ru(n),n.flags|=1,Nt(t,n,l,c),n.child)}function tf(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Ku(f)&&f.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(n.tag=15,n.type=f,nf(t,n,f,l,c)):(t=ma(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,(t.lanes&c)===0){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:fi,r(y,l)&&t.ref===n.ref)return qn(t,n,c)}return n.flags|=1,t=vs(f,l),t.ref=n.ref,t.return=n,n.child=t}function nf(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(fi(f,l)&&t.ref===n.ref)if(It=!1,n.pendingProps=l=f,(t.lanes&c)!==0)(t.flags&131072)!==0&&(It=!0);else return n.lanes=t.lanes,qn(t,n,c)}return bu(t,n,r,l,c)}function sf(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Cr,Ht),Ht|=r;else{if((r&1073741824)===0)return t=f!==null?f.baseLanes|r:r,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,qe(Cr,Ht),Ht|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=f!==null?f.baseLanes:r,qe(Cr,Ht),Ht|=l}else f!==null?(l=f.baseLanes|r,n.memoizedState=null):l=r,qe(Cr,Ht),Ht|=l;return Nt(t,n,c,r),n.child}function rf(t,n){var r=n.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(n.flags|=512,n.flags|=2097152)}function bu(t,n,r,l,c){var f=Ot(r)?Ds:kt.current;return f=mr(n,f),kr(n,c),r=ku(t,n,r,l,f,c),l=xu(),t!==null&&!It?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~c,qn(t,n,c)):(He&&l&&ru(n),n.flags|=1,Nt(t,n,r,c),n.child)}function of(t,n,r,l,c){if(Ot(r)){var f=!0;qo(n)}else f=!1;if(kr(n,c),n.stateNode===null)ra(t,n),Gd(n,r,l),Au(n,r,l,c),l=!0;else if(t===null){var y=n.stateNode,C=n.memoizedProps;y.props=C;var M=y.context,L=r.contextType;typeof L=="object"&&L!==null?L=Kt(L):(L=Ot(r)?Ds:kt.current,L=mr(n,L));var J=r.getDerivedStateFromProps,ee=typeof J=="function"||typeof y.getSnapshotBeforeUpdate=="function";ee||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==l||M!==L)&&Qd(n,y,l,L),cs=!1;var K=n.memoizedState;y.state=K,Yo(n,l,y,c),M=n.memoizedState,C!==l||K!==M||bt.current||cs?(typeof J=="function"&&(Eu(n,r,J,l),M=n.memoizedState),(C=cs||Hd(n,r,C,l,K,M,L))?(ee||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=M),y.props=l,y.state=M,y.context=L,l=C):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{y=n.stateNode,kd(t,n),C=n.memoizedProps,L=n.type===n.elementType?C:un(n.type,C),y.props=L,ee=n.pendingProps,K=y.context,M=r.contextType,typeof M=="object"&&M!==null?M=Kt(M):(M=Ot(r)?Ds:kt.current,M=mr(n,M));var le=r.getDerivedStateFromProps;(J=typeof le=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==ee||K!==M)&&Qd(n,y,l,M),cs=!1,K=n.memoizedState,y.state=K,Yo(n,l,y,c);var de=n.memoizedState;C!==ee||K!==de||bt.current||cs?(typeof le=="function"&&(Eu(n,r,le,l),de=n.memoizedState),(L=cs||Hd(n,r,L,l,K,de,M)||!1)?(J||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(l,de,M),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(l,de,M)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||C===t.memoizedProps&&K===t.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&K===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=de),y.props=l,y.state=de,y.context=M,l=L):(typeof y.componentDidUpdate!="function"||C===t.memoizedProps&&K===t.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&K===t.memoizedState||(n.flags|=1024),l=!1)}return Ou(t,n,r,l,f,c)}function Ou(t,n,r,l,c,f){rf(t,n);var y=(n.flags&128)!==0;if(!l&&!y)return c&&cd(n,r,!1),qn(t,n,f);l=n.stateNode,Jg.current=n;var C=y&&typeof r.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,t!==null&&y?(n.child=_r(n,t.child,null,f),n.child=_r(n,null,C,f)):Nt(t,n,C,f),n.memoizedState=l.state,c&&cd(n,r,!0),n.child}function af(t){var n=t.stateNode;n.pendingContext?ld(t,n.pendingContext,n.pendingContext!==n.context):n.context&&ld(t,n.context,!1),mu(t,n.containerInfo)}function lf(t,n,r,l,c){return yr(),lu(c),n.flags|=256,Nt(t,n,r,l),n.child}var Iu={dehydrated:null,treeContext:null,retryLane:0};function Ru(t){return{baseLanes:t,cachePool:null,transitions:null}}function uf(t,n,r){var l=n.pendingProps,c=Xe.current,f=!1,y=(n.flags&128)!==0,C;if((C=y)||(C=t!==null&&t.memoizedState===null?!1:(c&2)!==0),C?(f=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(c|=1),qe(Xe,c&1),t===null)return au(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((n.mode&1)===0?n.lanes=1:t.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(y=l.children,t=l.fallback,f?(l=n.mode,f=n.child,y={mode:"hidden",children:y},(l&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=y):f=ga(y,l,0,null),t=qs(t,l,r,null),f.return=n,t.return=n,f.sibling=t,n.child=f,n.child.memoizedState=Ru(r),n.memoizedState=Iu,t):Pu(n,y));if(c=t.memoizedState,c!==null&&(C=c.dehydrated,C!==null))return ev(t,n,y,l,C,c,r);if(f){f=l.fallback,y=n.mode,c=t.child,C=c.sibling;var M={mode:"hidden",children:l.children};return(y&1)===0&&n.child!==c?(l=n.child,l.childLanes=0,l.pendingProps=M,n.deletions=null):(l=vs(c,M),l.subtreeFlags=c.subtreeFlags&14680064),C!==null?f=vs(C,f):(f=qs(f,y,r,null),f.flags|=2),f.return=n,l.return=n,l.sibling=f,n.child=l,l=f,f=n.child,y=t.child.memoizedState,y=y===null?Ru(r):{baseLanes:y.baseLanes|r,cachePool:null,transitions:y.transitions},f.memoizedState=y,f.childLanes=t.childLanes&~r,n.memoizedState=Iu,l}return f=t.child,t=f.sibling,l=vs(f,{mode:"visible",children:l.children}),(n.mode&1)===0&&(l.lanes=r),l.return=n,l.sibling=null,t!==null&&(r=n.deletions,r===null?(n.deletions=[t],n.flags|=16):r.push(t)),n.child=l,n.memoizedState=null,l}function Pu(t,n){return n=ga({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function sa(t,n,r,l){return l!==null&&lu(l),_r(n,t.child,null,r),t=Pu(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ev(t,n,r,l,c,f,y){if(r)return n.flags&256?(n.flags&=-257,l=Mu(Error(s(422))),sa(t,n,y,l)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(f=l.fallback,c=n.mode,l=ga({mode:"visible",children:l.children},c,0,null),f=qs(f,c,y,null),f.flags|=2,l.return=n,f.return=n,l.sibling=f,n.child=l,(n.mode&1)!==0&&_r(n,t.child,null,y),n.child.memoizedState=Ru(y),n.memoizedState=Iu,f);if((n.mode&1)===0)return sa(t,n,y,null);if(c.data==="$!"){if(l=c.nextSibling&&c.nextSibling.dataset,l)var C=l.dgst;return l=C,f=Error(s(419)),l=Mu(f,l,void 0),sa(t,n,y,l)}if(C=(y&t.childLanes)!==0,It||C){if(l=pt,l!==null){switch(y&-y){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(l.suspendedLanes|y))!==0?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,Fn(t,c),dn(l,t,c,-1))}return Zu(),l=Mu(Error(s(421))),sa(t,n,y,l)}return c.data==="$?"?(n.flags|=128,n.child=t.child,n=fv.bind(null,t),c._reactRetry=n,null):(t=f.treeContext,$t=os(c.nextSibling),Ut=n,He=!0,ln=null,t!==null&&(Xt[Zt++]=jn,Xt[Zt++]=Vn,Xt[Zt++]=bs,jn=t.id,Vn=t.overflow,bs=n),n=Pu(n,l.children),n.flags|=4096,n)}function cf(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),du(t.return,n,r)}function ju(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function hf(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Nt(t,n,l.children,r),l=Xe.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cf(t,r,n);else if(t.tag===19)cf(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}if(qe(Xe,l),(n.mode&1)===0)n.memoizedState=null;else switch(c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Xo(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),ju(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Xo(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}ju(n,!0,r,null,f);break;case"together":ju(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ra(t,n){(n.mode&1)===0&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function qn(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),js|=n.lanes,(r&n.childLanes)===0)return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=vs(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=vs(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function tv(t,n,r){switch(n.tag){case 3:af(n),yr();break;case 5:Td(n);break;case 1:Ot(n.type)&&qo(n);break;case 4:mu(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,c=n.memoizedProps.value;qe(Ho,l._currentValue),l._currentValue=c;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(qe(Xe,Xe.current&1),n.flags|=128,null):(r&n.child.childLanes)!==0?uf(t,n,r):(qe(Xe,Xe.current&1),t=qn(t,n,r),t!==null?t.sibling:null);qe(Xe,Xe.current&1);break;case 19:if(l=(r&n.childLanes)!==0,(t.flags&128)!==0){if(l)return hf(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),qe(Xe,Xe.current),l)break;return null;case 22:case 23:return n.lanes=0,sf(t,n,r)}return qn(t,n,r)}var df,Vu,ff,pf;df=function(t,n){for(var r=n.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Vu=function(){},ff=function(t,n,r,l){var c=t.memoizedProps;if(c!==l){t=n.stateNode,Rs(Cn.current);var f=null;switch(r){case"input":c=Yr(t,c),l=Yr(t,l),f=[];break;case"select":c=Q({},c,{value:void 0}),l=Q({},l,{value:void 0}),f=[];break;case"textarea":c=Yt(t,c),l=Yt(t,l),f=[];break;default:typeof c.onClick!="function"&&typeof l.onClick=="function"&&(t.onclick=Vo)}vl(r,l);var y;r=null;for(L in c)if(!l.hasOwnProperty(L)&&c.hasOwnProperty(L)&&c[L]!=null)if(L==="style"){var C=c[L];for(y in C)C.hasOwnProperty(y)&&(r||(r={}),r[y]="")}else L!=="dangerouslySetInnerHTML"&&L!=="children"&&L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(a.hasOwnProperty(L)?f||(f=[]):(f=f||[]).push(L,null));for(L in l){var M=l[L];if(C=c!=null?c[L]:void 0,l.hasOwnProperty(L)&&M!==C&&(M!=null||C!=null))if(L==="style")if(C){for(y in C)!C.hasOwnProperty(y)||M&&M.hasOwnProperty(y)||(r||(r={}),r[y]="");for(y in M)M.hasOwnProperty(y)&&C[y]!==M[y]&&(r||(r={}),r[y]=M[y])}else r||(f||(f=[]),f.push(L,r)),r=M;else L==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,C=C?C.__html:void 0,M!=null&&C!==M&&(f=f||[]).push(L,M)):L==="children"?typeof M!="string"&&typeof M!="number"||(f=f||[]).push(L,""+M):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&(a.hasOwnProperty(L)?(M!=null&&L==="onScroll"&&We("scroll",t),f||C===M||(f=[])):(f=f||[]).push(L,M))}r&&(f=f||[]).push("style",r);var L=f;(n.updateQueue=L)&&(n.flags|=4)}},pf=function(t,n,r,l){r!==l&&(n.flags|=4)};function Ai(t,n){if(!He)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function St(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&14680064,l|=c.flags&14680064,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function nv(t,n,r){var l=n.pendingProps;switch(iu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(n),null;case 1:return Ot(n.type)&&Lo(),St(n),null;case 3:return l=n.stateNode,xr(),Be(bt),Be(kt),yu(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(Uo(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ln!==null&&(Qu(ln),ln=null))),Vu(t,n),St(n),null;case 5:gu(n);var c=Rs(Si.current);if(r=n.type,t!==null&&n.stateNode!=null)ff(t,n,r,l,c),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(s(166));return St(n),null}if(t=Rs(Cn.current),Uo(n)){l=n.stateNode,r=n.type;var f=n.memoizedProps;switch(l[Tn]=n,l[yi]=f,t=(n.mode&1)!==0,r){case"dialog":We("cancel",l),We("close",l);break;case"iframe":case"object":case"embed":We("load",l);break;case"video":case"audio":for(c=0;c<mi.length;c++)We(mi[c],l);break;case"source":We("error",l);break;case"img":case"image":case"link":We("error",l),We("load",l);break;case"details":We("toggle",l);break;case"input":ae(l,f),We("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!f.multiple},We("invalid",l);break;case"textarea":Jn(l,f),We("invalid",l)}vl(r,f),c=null;for(var y in f)if(f.hasOwnProperty(y)){var C=f[y];y==="children"?typeof C=="string"?l.textContent!==C&&(f.suppressHydrationWarning!==!0&&jo(l.textContent,C,t),c=["children",C]):typeof C=="number"&&l.textContent!==""+C&&(f.suppressHydrationWarning!==!0&&jo(l.textContent,C,t),c=["children",""+C]):a.hasOwnProperty(y)&&C!=null&&y==="onScroll"&&We("scroll",l)}switch(r){case"input":rn(l),Le(l,f,!0);break;case"textarea":rn(l),fo(l);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(l.onclick=Vo)}l=c,n.updateQueue=l,l!==null&&(n.flags|=4)}else{y=c.nodeType===9?c:c.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=po(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=y.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof l.is=="string"?t=y.createElement(r,{is:l.is}):(t=y.createElement(r),r==="select"&&(y=t,l.multiple?y.multiple=!0:l.size&&(y.size=l.size))):t=y.createElementNS(t,r),t[Tn]=n,t[yi]=l,df(t,n,!1,!1),n.stateNode=t;e:{switch(y=yl(r,l),r){case"dialog":We("cancel",t),We("close",t),c=l;break;case"iframe":case"object":case"embed":We("load",t),c=l;break;case"video":case"audio":for(c=0;c<mi.length;c++)We(mi[c],t);c=l;break;case"source":We("error",t),c=l;break;case"img":case"image":case"link":We("error",t),We("load",t),c=l;break;case"details":We("toggle",t),c=l;break;case"input":ae(t,l),c=Yr(t,l),We("invalid",t);break;case"option":c=l;break;case"select":t._wrapperState={wasMultiple:!!l.multiple},c=Q({},l,{value:void 0}),We("invalid",t);break;case"textarea":Jn(t,l),c=Yt(t,l),We("invalid",t);break;default:c=l}vl(r,c),C=c;for(f in C)if(C.hasOwnProperty(f)){var M=C[f];f==="style"?nh(t,M):f==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&eh(t,M)):f==="children"?typeof M=="string"?(r!=="textarea"||M!=="")&&Xr(t,M):typeof M=="number"&&Xr(t,""+M):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(a.hasOwnProperty(f)?M!=null&&f==="onScroll"&&We("scroll",t):M!=null&&R(t,f,M,y))}switch(r){case"input":rn(t),Le(t,l,!1);break;case"textarea":rn(t),fo(t);break;case"option":l.value!=null&&t.setAttribute("value",""+oe(l.value));break;case"select":t.multiple=!!l.multiple,f=l.value,f!=null?lt(t,!!l.multiple,f,!1):l.defaultValue!=null&&lt(t,!!l.multiple,l.defaultValue,!0);break;default:typeof c.onClick=="function"&&(t.onclick=Vo)}switch(r){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return St(n),null;case 6:if(t&&n.stateNode!=null)pf(t,n,t.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(r=Rs(Si.current),Rs(Cn.current),Uo(n)){if(l=n.stateNode,r=n.memoizedProps,l[Tn]=n,(f=l.nodeValue!==r)&&(t=Ut,t!==null))switch(t.tag){case 3:jo(l.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jo(l.nodeValue,r,(t.mode&1)!==0)}f&&(n.flags|=4)}else l=(r.nodeType===9?r:r.ownerDocument).createTextNode(l),l[Tn]=n,n.stateNode=l}return St(n),null;case 13:if(Be(Xe),l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&$t!==null&&(n.mode&1)!==0&&(n.flags&128)===0)gd(),yr(),n.flags|=98560,f=!1;else if(f=Uo(n),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Tn]=n}else yr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;St(n),f=!1}else ln!==null&&(Qu(ln),ln=null),f=!0;if(!f)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=r,n):(l=l!==null,l!==(t!==null&&t.memoizedState!==null)&&l&&(n.child.flags|=8192,(n.mode&1)!==0&&(t===null||(Xe.current&1)!==0?ct===0&&(ct=3):Zu())),n.updateQueue!==null&&(n.flags|=4),St(n),null);case 4:return xr(),Vu(t,n),t===null&&gi(n.stateNode.containerInfo),St(n),null;case 10:return hu(n.type._context),St(n),null;case 17:return Ot(n.type)&&Lo(),St(n),null;case 19:if(Be(Xe),f=n.memoizedState,f===null)return St(n),null;if(l=(n.flags&128)!==0,y=f.rendering,y===null)if(l)Ai(f,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(y=Xo(t),y!==null){for(n.flags|=128,Ai(f,!1),l=y.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=r,r=n.child;r!==null;)f=r,t=l,f.flags&=14680066,y=f.alternate,y===null?(f.childLanes=0,f.lanes=t,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=y.childLanes,f.lanes=y.lanes,f.child=y.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=y.memoizedProps,f.memoizedState=y.memoizedState,f.updateQueue=y.updateQueue,f.type=y.type,t=y.dependencies,f.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return qe(Xe,Xe.current&1|2),n.child}t=t.sibling}f.tail!==null&&nt()>Nr&&(n.flags|=128,l=!0,Ai(f,!1),n.lanes=4194304)}else{if(!l)if(t=Xo(y),t!==null){if(n.flags|=128,l=!0,r=t.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),Ai(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!He)return St(n),null}else 2*nt()-f.renderingStartTime>Nr&&r!==1073741824&&(n.flags|=128,l=!0,Ai(f,!1),n.lanes=4194304);f.isBackwards?(y.sibling=n.child,n.child=y):(r=f.last,r!==null?r.sibling=y:n.child=y,f.last=y)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=nt(),n.sibling=null,r=Xe.current,qe(Xe,l?r&1|2:r&1),n):(St(n),null);case 22:case 23:return Xu(),l=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==l&&(n.flags|=8192),l&&(n.mode&1)!==0?(Ht&1073741824)!==0&&(St(n),n.subtreeFlags&6&&(n.flags|=8192)):St(n),null;case 24:return null;case 25:return null}throw Error(s(156,n.tag))}function sv(t,n){switch(iu(n),n.tag){case 1:return Ot(n.type)&&Lo(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return xr(),Be(bt),Be(kt),yu(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 5:return gu(n),null;case 13:if(Be(Xe),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));yr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Be(Xe),null;case 4:return xr(),null;case 10:return hu(n.type._context),null;case 22:case 23:return Xu(),null;case 24:return null;default:return null}}var ia=!1,Tt=!1,rv=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Tr(t,n){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(l){Je(t,n,l)}else r.current=null}function Fu(t,n,r){try{r()}catch(l){Je(t,n,l)}}var mf=!1;function iv(t,n){if(Xl=Co,t=Hh(),Wl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var y=0,C=-1,M=-1,L=0,J=0,ee=t,K=null;t:for(;;){for(var le;ee!==r||c!==0&&ee.nodeType!==3||(C=y+c),ee!==f||l!==0&&ee.nodeType!==3||(M=y+l),ee.nodeType===3&&(y+=ee.nodeValue.length),(le=ee.firstChild)!==null;)K=ee,ee=le;for(;;){if(ee===t)break t;if(K===r&&++L===c&&(C=y),K===f&&++J===l&&(M=y),(le=ee.nextSibling)!==null)break;ee=K,K=ee.parentNode}ee=le}r=C===-1||M===-1?null:{start:C,end:M}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zl={focusedElem:t,selectionRange:r},Co=!1,ce=n;ce!==null;)if(n=ce,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ce=t;else for(;ce!==null;){n=ce;try{var de=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var fe=de.memoizedProps,st=de.memoizedState,P=n.stateNode,O=P.getSnapshotBeforeUpdate(n.elementType===n.type?fe:un(n.type,fe),st);P.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var V=n.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(ie){Je(n,n.return,ie)}if(t=n.sibling,t!==null){t.return=n.return,ce=t;break}ce=n.return}return de=mf,mf=!1,de}function Mi(t,n,r){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var c=l=l.next;do{if((c.tag&t)===t){var f=c.destroy;c.destroy=void 0,f!==void 0&&Fu(n,r,f)}c=c.next}while(c!==l)}}function oa(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&t)===t){var l=r.create;r.destroy=l()}r=r.next}while(r!==n)}}function Lu(t){var n=t.ref;if(n!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof n=="function"?n(t):n.current=t}}function gf(t){var n=t.alternate;n!==null&&(t.alternate=null,gf(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[Tn],delete n[yi],delete n[tu],delete n[zg],delete n[Wg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vf(t){return t.tag===5||t.tag===3||t.tag===4}function yf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Vo));else if(l!==4&&(t=t.child,t!==null))for(qu(t,n,r),t=t.sibling;t!==null;)qu(t,n,r),t=t.sibling}function zu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(t=t.child,t!==null))for(zu(t,n,r),t=t.sibling;t!==null;)zu(t,n,r),t=t.sibling}var vt=null,cn=!1;function ds(t,n,r){for(r=r.child;r!==null;)_f(t,n,r),r=r.sibling}function _f(t,n,r){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(_o,r)}catch{}switch(r.tag){case 5:Tt||Tr(r,n);case 6:var l=vt,c=cn;vt=null,ds(t,n,r),vt=l,cn=c,vt!==null&&(cn?(t=vt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):vt.removeChild(r.stateNode));break;case 18:vt!==null&&(cn?(t=vt,r=r.stateNode,t.nodeType===8?eu(t.parentNode,r):t.nodeType===1&&eu(t,r),ai(t)):eu(vt,r.stateNode));break;case 4:l=vt,c=cn,vt=r.stateNode.containerInfo,cn=!0,ds(t,n,r),vt=l,cn=c;break;case 0:case 11:case 14:case 15:if(!Tt&&(l=r.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){c=l=l.next;do{var f=c,y=f.destroy;f=f.tag,y!==void 0&&((f&2)!==0||(f&4)!==0)&&Fu(r,n,y),c=c.next}while(c!==l)}ds(t,n,r);break;case 1:if(!Tt&&(Tr(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=r.memoizedProps,l.state=r.memoizedState,l.componentWillUnmount()}catch(C){Je(r,n,C)}ds(t,n,r);break;case 21:ds(t,n,r);break;case 22:r.mode&1?(Tt=(l=Tt)||r.memoizedState!==null,ds(t,n,r),Tt=l):ds(t,n,r);break;default:ds(t,n,r)}}function wf(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new rv),n.forEach(function(l){var c=pv.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}}function hn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l];try{var f=t,y=n,C=y;e:for(;C!==null;){switch(C.tag){case 5:vt=C.stateNode,cn=!1;break e;case 3:vt=C.stateNode.containerInfo,cn=!0;break e;case 4:vt=C.stateNode.containerInfo,cn=!0;break e}C=C.return}if(vt===null)throw Error(s(160));_f(f,y,c),vt=null,cn=!1;var M=c.alternate;M!==null&&(M.return=null),c.return=null}catch(L){Je(c,n,L)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)kf(n,t),n=n.sibling}function kf(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(hn(n,t),En(t),l&4){try{Mi(3,t,t.return),oa(3,t)}catch(fe){Je(t,t.return,fe)}try{Mi(5,t,t.return)}catch(fe){Je(t,t.return,fe)}}break;case 1:hn(n,t),En(t),l&512&&r!==null&&Tr(r,r.return);break;case 5:if(hn(n,t),En(t),l&512&&r!==null&&Tr(r,r.return),t.flags&32){var c=t.stateNode;try{Xr(c,"")}catch(fe){Je(t,t.return,fe)}}if(l&4&&(c=t.stateNode,c!=null)){var f=t.memoizedProps,y=r!==null?r.memoizedProps:f,C=t.type,M=t.updateQueue;if(t.updateQueue=null,M!==null)try{C==="input"&&f.type==="radio"&&f.name!=null&&we(c,f),yl(C,y);var L=yl(C,f);for(y=0;y<M.length;y+=2){var J=M[y],ee=M[y+1];J==="style"?nh(c,ee):J==="dangerouslySetInnerHTML"?eh(c,ee):J==="children"?Xr(c,ee):R(c,J,ee,L)}switch(C){case"input":Ye(c,f);break;case"textarea":sr(c,f);break;case"select":var K=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var le=f.value;le!=null?lt(c,!!f.multiple,le,!1):K!==!!f.multiple&&(f.defaultValue!=null?lt(c,!!f.multiple,f.defaultValue,!0):lt(c,!!f.multiple,f.multiple?[]:"",!1))}c[yi]=f}catch(fe){Je(t,t.return,fe)}}break;case 6:if(hn(n,t),En(t),l&4){if(t.stateNode===null)throw Error(s(162));c=t.stateNode,f=t.memoizedProps;try{c.nodeValue=f}catch(fe){Je(t,t.return,fe)}}break;case 3:if(hn(n,t),En(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{ai(n.containerInfo)}catch(fe){Je(t,t.return,fe)}break;case 4:hn(n,t),En(t);break;case 13:hn(n,t),En(t),c=t.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(Uu=nt())),l&4&&wf(t);break;case 22:if(J=r!==null&&r.memoizedState!==null,t.mode&1?(Tt=(L=Tt)||J,hn(n,t),Tt=L):hn(n,t),En(t),l&8192){if(L=t.memoizedState!==null,(t.stateNode.isHidden=L)&&!J&&(t.mode&1)!==0)for(ce=t,J=t.child;J!==null;){for(ee=ce=J;ce!==null;){switch(K=ce,le=K.child,K.tag){case 0:case 11:case 14:case 15:Mi(4,K,K.return);break;case 1:Tr(K,K.return);var de=K.stateNode;if(typeof de.componentWillUnmount=="function"){l=K,r=K.return;try{n=l,de.props=n.memoizedProps,de.state=n.memoizedState,de.componentWillUnmount()}catch(fe){Je(l,r,fe)}}break;case 5:Tr(K,K.return);break;case 22:if(K.memoizedState!==null){Tf(ee);continue}}le!==null?(le.return=K,ce=le):Tf(ee)}J=J.sibling}e:for(J=null,ee=t;;){if(ee.tag===5){if(J===null){J=ee;try{c=ee.stateNode,L?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(C=ee.stateNode,M=ee.memoizedProps.style,y=M!=null&&M.hasOwnProperty("display")?M.display:null,C.style.display=th("display",y))}catch(fe){Je(t,t.return,fe)}}}else if(ee.tag===6){if(J===null)try{ee.stateNode.nodeValue=L?"":ee.memoizedProps}catch(fe){Je(t,t.return,fe)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===t)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===t)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===t)break e;J===ee&&(J=null),ee=ee.return}J===ee&&(J=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:hn(n,t),En(t),l&4&&wf(t);break;case 21:break;default:hn(n,t),En(t)}}function En(t){var n=t.flags;if(n&2){try{e:{for(var r=t.return;r!==null;){if(vf(r)){var l=r;break e}r=r.return}throw Error(s(160))}switch(l.tag){case 5:var c=l.stateNode;l.flags&32&&(Xr(c,""),l.flags&=-33);var f=yf(t);zu(t,f,c);break;case 3:case 4:var y=l.stateNode.containerInfo,C=yf(t);qu(t,C,y);break;default:throw Error(s(161))}}catch(M){Je(t,t.return,M)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function ov(t,n,r){ce=t,xf(t)}function xf(t,n,r){for(var l=(t.mode&1)!==0;ce!==null;){var c=ce,f=c.child;if(c.tag===22&&l){var y=c.memoizedState!==null||ia;if(!y){var C=c.alternate,M=C!==null&&C.memoizedState!==null||Tt;C=ia;var L=Tt;if(ia=y,(Tt=M)&&!L)for(ce=c;ce!==null;)y=ce,M=y.child,y.tag===22&&y.memoizedState!==null?Cf(c):M!==null?(M.return=y,ce=M):Cf(c);for(;f!==null;)ce=f,xf(f),f=f.sibling;ce=c,ia=C,Tt=L}Sf(t)}else(c.subtreeFlags&8772)!==0&&f!==null?(f.return=c,ce=f):Sf(t)}}function Sf(t){for(;ce!==null;){var n=ce;if((n.flags&8772)!==0){var r=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Tt||oa(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!Tt)if(r===null)l.componentDidMount();else{var c=n.elementType===n.type?r.memoizedProps:un(n.type,r.memoizedProps);l.componentDidUpdate(c,r.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&Sd(n,f,l);break;case 3:var y=n.updateQueue;if(y!==null){if(r=null,n.child!==null)switch(n.child.tag){case 5:r=n.child.stateNode;break;case 1:r=n.child.stateNode}Sd(n,y,r)}break;case 5:var C=n.stateNode;if(r===null&&n.flags&4){r=C;var M=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&r.focus();break;case"img":M.src&&(r.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var L=n.alternate;if(L!==null){var J=L.memoizedState;if(J!==null){var ee=J.dehydrated;ee!==null&&ai(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Tt||n.flags&512&&Lu(n)}catch(K){Je(n,n.return,K)}}if(n===t){ce=null;break}if(r=n.sibling,r!==null){r.return=n.return,ce=r;break}ce=n.return}}function Tf(t){for(;ce!==null;){var n=ce;if(n===t){ce=null;break}var r=n.sibling;if(r!==null){r.return=n.return,ce=r;break}ce=n.return}}function Cf(t){for(;ce!==null;){var n=ce;try{switch(n.tag){case 0:case 11:case 15:var r=n.return;try{oa(4,n)}catch(M){Je(n,r,M)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var c=n.return;try{l.componentDidMount()}catch(M){Je(n,c,M)}}var f=n.return;try{Lu(n)}catch(M){Je(n,f,M)}break;case 5:var y=n.return;try{Lu(n)}catch(M){Je(n,y,M)}}}catch(M){Je(n,n.return,M)}if(n===t){ce=null;break}var C=n.sibling;if(C!==null){C.return=n.return,ce=C;break}ce=n.return}}var av=Math.ceil,aa=F.ReactCurrentDispatcher,Wu=F.ReactCurrentOwner,en=F.ReactCurrentBatchConfig,be=0,pt=null,at=null,yt=0,Ht=0,Cr=as(0),ct=0,Di=null,js=0,la=0,Bu=0,bi=null,Rt=null,Uu=0,Nr=1/0,zn=null,ua=!1,$u=null,fs=null,ca=!1,ps=null,ha=0,Oi=0,Hu=null,da=-1,fa=0;function Et(){return(be&6)!==0?nt():da!==-1?da:da=nt()}function ms(t){return(t.mode&1)===0?1:(be&2)!==0&&yt!==0?yt&-yt:Ug.transition!==null?(fa===0&&(fa=vh()),fa):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:Nh(t.type)),t)}function dn(t,n,r,l){if(50<Oi)throw Oi=0,Hu=null,Error(s(185));ni(t,r,l),((be&2)===0||t!==pt)&&(t===pt&&((be&2)===0&&(la|=r),ct===4&&gs(t,yt)),Pt(t,l),r===1&&be===0&&(n.mode&1)===0&&(Nr=nt()+500,zo&&us()))}function Pt(t,n){var r=t.callbackNode;Um(t,n);var l=xo(t,t===pt?yt:0);if(l===0)r!==null&&ph(r),t.callbackNode=null,t.callbackPriority=0;else if(n=l&-l,t.callbackPriority!==n){if(r!=null&&ph(r),n===1)t.tag===0?Bg(Ef.bind(null,t)):hd(Ef.bind(null,t)),Lg(function(){(be&6)===0&&us()}),r=null;else{switch(yh(l)){case 1:r=Cl;break;case 4:r=mh;break;case 16:r=yo;break;case 536870912:r=gh;break;default:r=yo}r=Pf(r,Nf.bind(null,t))}t.callbackPriority=n,t.callbackNode=r}}function Nf(t,n){if(da=-1,fa=0,(be&6)!==0)throw Error(s(327));var r=t.callbackNode;if(Er()&&t.callbackNode!==r)return null;var l=xo(t,t===pt?yt:0);if(l===0)return null;if((l&30)!==0||(l&t.expiredLanes)!==0||n)n=pa(t,l);else{n=l;var c=be;be|=2;var f=Mf();(pt!==t||yt!==n)&&(zn=null,Nr=nt()+500,Fs(t,n));do try{cv();break}catch(C){Af(t,C)}while(!0);cu(),aa.current=f,be=c,at!==null?n=0:(pt=null,yt=0,n=ct)}if(n!==0){if(n===2&&(c=Nl(t),c!==0&&(l=c,n=Gu(t,c))),n===1)throw r=Di,Fs(t,0),gs(t,l),Pt(t,nt()),r;if(n===6)gs(t,l);else{if(c=t.current.alternate,(l&30)===0&&!lv(c)&&(n=pa(t,l),n===2&&(f=Nl(t),f!==0&&(l=f,n=Gu(t,f))),n===1))throw r=Di,Fs(t,0),gs(t,l),Pt(t,nt()),r;switch(t.finishedWork=c,t.finishedLanes=l,n){case 0:case 1:throw Error(s(345));case 2:Ls(t,Rt,zn);break;case 3:if(gs(t,l),(l&130023424)===l&&(n=Uu+500-nt(),10<n)){if(xo(t,0)!==0)break;if(c=t.suspendedLanes,(c&l)!==l){Et(),t.pingedLanes|=t.suspendedLanes&c;break}t.timeoutHandle=Jl(Ls.bind(null,t,Rt,zn),n);break}Ls(t,Rt,zn);break;case 4:if(gs(t,l),(l&4194240)===l)break;for(n=t.eventTimes,c=-1;0<l;){var y=31-on(l);f=1<<y,y=n[y],y>c&&(c=y),l&=~f}if(l=c,l=nt()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*av(l/1960))-l,10<l){t.timeoutHandle=Jl(Ls.bind(null,t,Rt,zn),l);break}Ls(t,Rt,zn);break;case 5:Ls(t,Rt,zn);break;default:throw Error(s(329))}}}return Pt(t,nt()),t.callbackNode===r?Nf.bind(null,t):null}function Gu(t,n){var r=bi;return t.current.memoizedState.isDehydrated&&(Fs(t,n).flags|=256),t=pa(t,n),t!==2&&(n=Rt,Rt=r,n!==null&&Qu(n)),t}function Qu(t){Rt===null?Rt=t:Rt.push.apply(Rt,t)}function lv(t){for(var n=t;;){if(n.flags&16384){var r=n.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!an(f(),c))return!1}catch{return!1}}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function gs(t,n){for(n&=~Bu,n&=~la,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var r=31-on(n),l=1<<r;t[r]=-1,n&=~l}}function Ef(t){if((be&6)!==0)throw Error(s(327));Er();var n=xo(t,0);if((n&1)===0)return Pt(t,nt()),null;var r=pa(t,n);if(t.tag!==0&&r===2){var l=Nl(t);l!==0&&(n=l,r=Gu(t,l))}if(r===1)throw r=Di,Fs(t,0),gs(t,n),Pt(t,nt()),r;if(r===6)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,Ls(t,Rt,zn),Pt(t,nt()),null}function Yu(t,n){var r=be;be|=1;try{return t(n)}finally{be=r,be===0&&(Nr=nt()+500,zo&&us())}}function Vs(t){ps!==null&&ps.tag===0&&(be&6)===0&&Er();var n=be;be|=1;var r=en.transition,l=Pe;try{if(en.transition=null,Pe=1,t)return t()}finally{Pe=l,en.transition=r,be=n,(be&6)===0&&us()}}function Xu(){Ht=Cr.current,Be(Cr)}function Fs(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Fg(r)),at!==null)for(r=at.return;r!==null;){var l=r;switch(iu(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Lo();break;case 3:xr(),Be(bt),Be(kt),yu();break;case 5:gu(l);break;case 4:xr();break;case 13:Be(Xe);break;case 19:Be(Xe);break;case 10:hu(l.type._context);break;case 22:case 23:Xu()}r=r.return}if(pt=t,at=t=vs(t.current,null),yt=Ht=n,ct=0,Di=null,Bu=la=js=0,Rt=bi=null,Is!==null){for(n=0;n<Is.length;n++)if(r=Is[n],l=r.interleaved,l!==null){r.interleaved=null;var c=l.next,f=r.pending;if(f!==null){var y=f.next;f.next=c,l.next=y}r.pending=l}Is=null}return t}function Af(t,n){do{var r=at;try{if(cu(),Zo.current=ta,Ko){for(var l=Ze.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}Ko=!1}if(Ps=0,ft=ut=Ze=null,Ti=!1,Ci=0,Wu.current=null,r===null||r.return===null){ct=1,Di=n,at=null;break}e:{var f=t,y=r.return,C=r,M=n;if(n=yt,C.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var L=M,J=C,ee=J.tag;if((J.mode&1)===0&&(ee===0||ee===11||ee===15)){var K=J.alternate;K?(J.updateQueue=K.updateQueue,J.memoizedState=K.memoizedState,J.lanes=K.lanes):(J.updateQueue=null,J.memoizedState=null)}var le=Kd(y);if(le!==null){le.flags&=-257,Jd(le,y,C,f,n),le.mode&1&&Zd(f,L,n),n=le,M=L;var de=n.updateQueue;if(de===null){var fe=new Set;fe.add(M),n.updateQueue=fe}else de.add(M);break e}else{if((n&1)===0){Zd(f,L,n),Zu();break e}M=Error(s(426))}}else if(He&&C.mode&1){var st=Kd(y);if(st!==null){(st.flags&65536)===0&&(st.flags|=256),Jd(st,y,C,f,n),lu(Sr(M,C));break e}}f=M=Sr(M,C),ct!==4&&(ct=2),bi===null?bi=[f]:bi.push(f),f=y;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var P=Yd(f,M,n);xd(f,P);break e;case 1:C=M;var O=f.type,V=f.stateNode;if((f.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(fs===null||!fs.has(V)))){f.flags|=65536,n&=-n,f.lanes|=n;var ie=Xd(f,C,n);xd(f,ie);break e}}f=f.return}while(f!==null)}bf(r)}catch(pe){n=pe,at===r&&r!==null&&(at=r=r.return);continue}break}while(!0)}function Mf(){var t=aa.current;return aa.current=ta,t===null?ta:t}function Zu(){(ct===0||ct===3||ct===2)&&(ct=4),pt===null||(js&268435455)===0&&(la&268435455)===0||gs(pt,yt)}function pa(t,n){var r=be;be|=2;var l=Mf();(pt!==t||yt!==n)&&(zn=null,Fs(t,n));do try{uv();break}catch(c){Af(t,c)}while(!0);if(cu(),be=r,aa.current=l,at!==null)throw Error(s(261));return pt=null,yt=0,ct}function uv(){for(;at!==null;)Df(at)}function cv(){for(;at!==null&&!Pm();)Df(at)}function Df(t){var n=Rf(t.alternate,t,Ht);t.memoizedProps=t.pendingProps,n===null?bf(t):at=n,Wu.current=null}function bf(t){var n=t;do{var r=n.alternate;if(t=n.return,(n.flags&32768)===0){if(r=nv(r,n,Ht),r!==null){at=r;return}}else{if(r=sv(r,n),r!==null){r.flags&=32767,at=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ct=6,at=null;return}}if(n=n.sibling,n!==null){at=n;return}at=n=t}while(n!==null);ct===0&&(ct=5)}function Ls(t,n,r){var l=Pe,c=en.transition;try{en.transition=null,Pe=1,hv(t,n,r,l)}finally{en.transition=c,Pe=l}return null}function hv(t,n,r,l){do Er();while(ps!==null);if((be&6)!==0)throw Error(s(327));r=t.finishedWork;var c=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var f=r.lanes|r.childLanes;if($m(t,f),t===pt&&(at=pt=null,yt=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||ca||(ca=!0,Pf(yo,function(){return Er(),null})),f=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||f){f=en.transition,en.transition=null;var y=Pe;Pe=1;var C=be;be|=4,Wu.current=null,iv(t,r),kf(r,t),bg(Zl),Co=!!Xl,Zl=Xl=null,t.current=r,ov(r),jm(),be=C,Pe=y,en.transition=f}else t.current=r;if(ca&&(ca=!1,ps=t,ha=c),f=t.pendingLanes,f===0&&(fs=null),Lm(r.stateNode),Pt(t,nt()),n!==null)for(l=t.onRecoverableError,r=0;r<n.length;r++)c=n[r],l(c.value,{componentStack:c.stack,digest:c.digest});if(ua)throw ua=!1,t=$u,$u=null,t;return(ha&1)!==0&&t.tag!==0&&Er(),f=t.pendingLanes,(f&1)!==0?t===Hu?Oi++:(Oi=0,Hu=t):Oi=0,us(),null}function Er(){if(ps!==null){var t=yh(ha),n=en.transition,r=Pe;try{if(en.transition=null,Pe=16>t?16:t,ps===null)var l=!1;else{if(t=ps,ps=null,ha=0,(be&6)!==0)throw Error(s(331));var c=be;for(be|=4,ce=t.current;ce!==null;){var f=ce,y=f.child;if((ce.flags&16)!==0){var C=f.deletions;if(C!==null){for(var M=0;M<C.length;M++){var L=C[M];for(ce=L;ce!==null;){var J=ce;switch(J.tag){case 0:case 11:case 15:Mi(8,J,f)}var ee=J.child;if(ee!==null)ee.return=J,ce=ee;else for(;ce!==null;){J=ce;var K=J.sibling,le=J.return;if(gf(J),J===L){ce=null;break}if(K!==null){K.return=le,ce=K;break}ce=le}}}var de=f.alternate;if(de!==null){var fe=de.child;if(fe!==null){de.child=null;do{var st=fe.sibling;fe.sibling=null,fe=st}while(fe!==null)}}ce=f}}if((f.subtreeFlags&2064)!==0&&y!==null)y.return=f,ce=y;else e:for(;ce!==null;){if(f=ce,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:Mi(9,f,f.return)}var P=f.sibling;if(P!==null){P.return=f.return,ce=P;break e}ce=f.return}}var O=t.current;for(ce=O;ce!==null;){y=ce;var V=y.child;if((y.subtreeFlags&2064)!==0&&V!==null)V.return=y,ce=V;else e:for(y=O;ce!==null;){if(C=ce,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:oa(9,C)}}catch(pe){Je(C,C.return,pe)}if(C===y){ce=null;break e}var ie=C.sibling;if(ie!==null){ie.return=C.return,ce=ie;break e}ce=C.return}}if(be=c,us(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(_o,t)}catch{}l=!0}return l}finally{Pe=r,en.transition=n}}return!1}function Of(t,n,r){n=Sr(r,n),n=Yd(t,n,1),t=hs(t,n,1),n=Et(),t!==null&&(ni(t,1,n),Pt(t,n))}function Je(t,n,r){if(t.tag===3)Of(t,t,r);else for(;n!==null;){if(n.tag===3){Of(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fs===null||!fs.has(l))){t=Sr(r,t),t=Xd(n,t,1),n=hs(n,t,1),t=Et(),n!==null&&(ni(n,1,t),Pt(n,t));break}}n=n.return}}function dv(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),n=Et(),t.pingedLanes|=t.suspendedLanes&r,pt===t&&(yt&r)===r&&(ct===4||ct===3&&(yt&130023424)===yt&&500>nt()-Uu?Fs(t,0):Bu|=r),Pt(t,n)}function If(t,n){n===0&&((t.mode&1)===0?n=1:(n=ko,ko<<=1,(ko&130023424)===0&&(ko=4194304)));var r=Et();t=Fn(t,n),t!==null&&(ni(t,n,r),Pt(t,r))}function fv(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),If(t,r)}function pv(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;default:throw Error(s(314))}l!==null&&l.delete(n),If(t,r)}var Rf;Rf=function(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps||bt.current)It=!0;else{if((t.lanes&r)===0&&(n.flags&128)===0)return It=!1,tv(t,n,r);It=(t.flags&131072)!==0}else It=!1,He&&(n.flags&1048576)!==0&&dd(n,Bo,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;ra(t,n),t=n.pendingProps;var c=mr(n,kt.current);kr(n,r),c=ku(null,n,l,t,c,r);var f=xu();return n.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Ot(l)?(f=!0,qo(n)):f=!1,n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,pu(n),c.updater=na,n.stateNode=c,c._reactInternals=n,Au(n,l,t,r),n=Ou(null,n,l,!0,f,r)):(n.tag=0,He&&f&&ru(n),Nt(null,n,c,r),n=n.child),n;case 16:l=n.elementType;e:{switch(ra(t,n),t=n.pendingProps,c=l._init,l=c(l._payload),n.type=l,c=n.tag=gv(l),t=un(l,t),c){case 0:n=bu(null,n,l,t,r);break e;case 1:n=of(null,n,l,t,r);break e;case 11:n=ef(null,n,l,t,r);break e;case 14:n=tf(null,n,l,un(l.type,t),r);break e}throw Error(s(306,l,""))}return n;case 0:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:un(l,c),bu(t,n,l,c,r);case 1:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:un(l,c),of(t,n,l,c,r);case 3:e:{if(af(n),t===null)throw Error(s(387));l=n.pendingProps,f=n.memoizedState,c=f.element,kd(t,n),Yo(n,l,null,r);var y=n.memoizedState;if(l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){c=Sr(Error(s(423)),n),n=lf(t,n,l,r,c);break e}else if(l!==c){c=Sr(Error(s(424)),n),n=lf(t,n,l,r,c);break e}else for($t=os(n.stateNode.containerInfo.firstChild),Ut=n,He=!0,ln=null,r=_d(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(yr(),l===c){n=qn(t,n,r);break e}Nt(t,n,l,r)}n=n.child}return n;case 5:return Td(n),t===null&&au(n),l=n.type,c=n.pendingProps,f=t!==null?t.memoizedProps:null,y=c.children,Kl(l,c)?y=null:f!==null&&Kl(l,f)&&(n.flags|=32),rf(t,n),Nt(t,n,y,r),n.child;case 6:return t===null&&au(n),null;case 13:return uf(t,n,r);case 4:return mu(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=_r(n,null,l,r):Nt(t,n,l,r),n.child;case 11:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:un(l,c),ef(t,n,l,c,r);case 7:return Nt(t,n,n.pendingProps,r),n.child;case 8:return Nt(t,n,n.pendingProps.children,r),n.child;case 12:return Nt(t,n,n.pendingProps.children,r),n.child;case 10:e:{if(l=n.type._context,c=n.pendingProps,f=n.memoizedProps,y=c.value,qe(Ho,l._currentValue),l._currentValue=y,f!==null)if(an(f.value,y)){if(f.children===c.children&&!bt.current){n=qn(t,n,r);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var C=f.dependencies;if(C!==null){y=f.child;for(var M=C.firstContext;M!==null;){if(M.context===l){if(f.tag===1){M=Ln(-1,r&-r),M.tag=2;var L=f.updateQueue;if(L!==null){L=L.shared;var J=L.pending;J===null?M.next=M:(M.next=J.next,J.next=M),L.pending=M}}f.lanes|=r,M=f.alternate,M!==null&&(M.lanes|=r),du(f.return,r,n),C.lanes|=r;break}M=M.next}}else if(f.tag===10)y=f.type===n.type?null:f.child;else if(f.tag===18){if(y=f.return,y===null)throw Error(s(341));y.lanes|=r,C=y.alternate,C!==null&&(C.lanes|=r),du(y,r,n),y=f.sibling}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===n){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}Nt(t,n,c.children,r),n=n.child}return n;case 9:return c=n.type,l=n.pendingProps.children,kr(n,r),c=Kt(c),l=l(c),n.flags|=1,Nt(t,n,l,r),n.child;case 14:return l=n.type,c=un(l,n.pendingProps),c=un(l.type,c),tf(t,n,l,c,r);case 15:return nf(t,n,n.type,n.pendingProps,r);case 17:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:un(l,c),ra(t,n),n.tag=1,Ot(l)?(t=!0,qo(n)):t=!1,kr(n,r),Gd(n,l,c),Au(n,l,c,r),Ou(null,n,l,!0,t,r);case 19:return hf(t,n,r);case 22:return sf(t,n,r)}throw Error(s(156,n.tag))};function Pf(t,n){return fh(t,n)}function mv(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(t,n,r,l){return new mv(t,n,r,l)}function Ku(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gv(t){if(typeof t=="function")return Ku(t)?1:0;if(t!=null){if(t=t.$$typeof,t===q)return 11;if(t===se)return 14}return 2}function vs(t,n){var r=t.alternate;return r===null?(r=tn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ma(t,n,r,l,c,f){var y=2;if(l=t,typeof t=="function")Ku(t)&&(y=1);else if(typeof t=="string")y=5;else e:switch(t){case I:return qs(r.children,c,f,n);case D:y=8,c|=8;break;case W:return t=tn(12,r,n,c|2),t.elementType=W,t.lanes=f,t;case re:return t=tn(13,r,n,c),t.elementType=re,t.lanes=f,t;case Y:return t=tn(19,r,n,c),t.elementType=Y,t.lanes=f,t;case Z:return ga(r,c,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case B:y=10;break e;case U:y=9;break e;case q:y=11;break e;case se:y=14;break e;case X:y=16,l=null;break e}throw Error(s(130,t==null?t:typeof t,""))}return n=tn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function qs(t,n,r,l){return t=tn(7,t,l,n),t.lanes=r,t}function ga(t,n,r,l){return t=tn(22,t,l,n),t.elementType=Z,t.lanes=r,t.stateNode={isHidden:!1},t}function Ju(t,n,r){return t=tn(6,t,null,n),t.lanes=r,t}function ec(t,n,r){return n=tn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function vv(t,n,r,l,c){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=El(0),this.expirationTimes=El(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=El(0),this.identifierPrefix=l,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function tc(t,n,r,l,c,f,y,C,M){return t=new vv(t,n,r,C,M),n===1?(n=1,f===!0&&(n|=8)):n=0,f=tn(3,null,null,n),t.current=f,f.stateNode=t,f.memoizedState={element:l,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},pu(f),t}function yv(t,n,r){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b,key:l==null?null:""+l,children:t,containerInfo:n,implementation:r}}function jf(t){if(!t)return ls;t=t._reactInternals;e:{if(As(t)!==t||t.tag!==1)throw Error(s(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Ot(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(s(171))}if(t.tag===1){var r=t.type;if(Ot(r))return ud(t,r,n)}return n}function Vf(t,n,r,l,c,f,y,C,M){return t=tc(r,l,!0,t,c,f,y,C,M),t.context=jf(null),r=t.current,l=Et(),c=ms(r),f=Ln(l,c),f.callback=n??null,hs(r,f,c),t.current.lanes=c,ni(t,c,l),Pt(t,l),t}function va(t,n,r,l){var c=n.current,f=Et(),y=ms(c);return r=jf(r),n.context===null?n.context=r:n.pendingContext=r,n=Ln(f,y),n.payload={element:t},l=l===void 0?null:l,l!==null&&(n.callback=l),t=hs(c,n,y),t!==null&&(dn(t,c,y,f),Qo(t,c,y)),y}function ya(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ff(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function nc(t,n){Ff(t,n),(t=t.alternate)&&Ff(t,n)}function _v(){return null}var Lf=typeof reportError=="function"?reportError:function(t){console.error(t)};function sc(t){this._internalRoot=t}_a.prototype.render=sc.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));va(t,n,null,null)},_a.prototype.unmount=sc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Vs(function(){va(null,t,null,null)}),n[Rn]=null}};function _a(t){this._internalRoot=t}_a.prototype.unstable_scheduleHydration=function(t){if(t){var n=kh();t={blockedOn:null,target:t,priority:n};for(var r=0;r<ss.length&&n!==0&&n<ss[r].priority;r++);ss.splice(r,0,t),r===0&&Th(t)}};function rc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qf(){}function wv(t,n,r,l,c){if(c){if(typeof l=="function"){var f=l;l=function(){var L=ya(y);f.call(L)}}var y=Vf(n,l,t,0,null,!1,!1,"",qf);return t._reactRootContainer=y,t[Rn]=y.current,gi(t.nodeType===8?t.parentNode:t),Vs(),y}for(;c=t.lastChild;)t.removeChild(c);if(typeof l=="function"){var C=l;l=function(){var L=ya(M);C.call(L)}}var M=tc(t,0,!1,null,null,!1,!1,"",qf);return t._reactRootContainer=M,t[Rn]=M.current,gi(t.nodeType===8?t.parentNode:t),Vs(function(){va(n,M,r,l)}),M}function ka(t,n,r,l,c){var f=r._reactRootContainer;if(f){var y=f;if(typeof c=="function"){var C=c;c=function(){var M=ya(y);C.call(M)}}va(n,y,t,c)}else y=wv(r,n,t,c,l);return ya(y)}_h=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var r=ti(n.pendingLanes);r!==0&&(Al(n,r|1),Pt(n,nt()),(be&6)===0&&(Nr=nt()+500,us()))}break;case 13:Vs(function(){var l=Fn(t,1);if(l!==null){var c=Et();dn(l,t,1,c)}}),nc(t,1)}},Ml=function(t){if(t.tag===13){var n=Fn(t,134217728);if(n!==null){var r=Et();dn(n,t,134217728,r)}nc(t,134217728)}},wh=function(t){if(t.tag===13){var n=ms(t),r=Fn(t,n);if(r!==null){var l=Et();dn(r,t,n,l)}nc(t,n)}},kh=function(){return Pe},xh=function(t,n){var r=Pe;try{return Pe=t,n()}finally{Pe=r}},kl=function(t,n,r){switch(n){case"input":if(Ye(t,r),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=Fo(l);if(!c)throw Error(s(90));In(l),Ye(l,c)}}}break;case"textarea":sr(t,r);break;case"select":n=r.value,n!=null&&lt(t,!!r.multiple,n,!1)}},oh=Yu,ah=Vs;var kv={usingClientEntryPoint:!1,Events:[_i,fr,Fo,rh,ih,Yu]},Ii={findFiberByHostInstance:Ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xv={bundleType:Ii.bundleType,version:Ii.version,rendererPackageName:Ii.rendererPackageName,rendererConfig:Ii.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hh(t),t===null?null:t.stateNode},findFiberByHostInstance:Ii.findFiberByHostInstance||_v,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xa.isDisabled&&xa.supportsFiber)try{_o=xa.inject(xv),Sn=xa}catch{}}return jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kv,jt.createPortal=function(t,n){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rc(n))throw Error(s(200));return yv(t,n,null,r)},jt.createRoot=function(t,n){if(!rc(t))throw Error(s(299));var r=!1,l="",c=Lf;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),n=tc(t,1,!1,null,null,r,!1,l,c),t[Rn]=n.current,gi(t.nodeType===8?t.parentNode:t),new sc(n)},jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=hh(n),t=t===null?null:t.stateNode,t},jt.flushSync=function(t){return Vs(t)},jt.hydrate=function(t,n,r){if(!wa(n))throw Error(s(200));return ka(null,t,n,!0,r)},jt.hydrateRoot=function(t,n,r){if(!rc(t))throw Error(s(405));var l=r!=null&&r.hydratedSources||null,c=!1,f="",y=Lf;if(r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onRecoverableError!==void 0&&(y=r.onRecoverableError)),n=Vf(n,null,t,1,r??null,c,!1,f,y),t[Rn]=n.current,gi(t),l)for(t=0;t<l.length;t++)r=l[t],c=r._getVersion,c=c(r._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[r,c]:n.mutableSourceEagerHydrationData.push(r,c);return new _a(n)},jt.render=function(t,n,r){if(!wa(n))throw Error(s(200));return ka(null,t,n,!1,r)},jt.unmountComponentAtNode=function(t){if(!wa(t))throw Error(s(40));return t._reactRootContainer?(Vs(function(){ka(null,null,t,!1,function(){t._reactRootContainer=null,t[Rn]=null})}),!0):!1},jt.unstable_batchedUpdates=Yu,jt.unstable_renderSubtreeIntoContainer=function(t,n,r,l){if(!wa(r))throw Error(s(200));if(t==null||t._reactInternals===void 0)throw Error(s(38));return ka(t,n,r,!1,l)},jt.version="18.3.1-next-f1338f8080-20240426",jt}var Qf;function Dv(){if(Qf)return ac.exports;Qf=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}return o(),ac.exports=Mv(),ac.exports}var Yf;function bv(){if(Yf)return Sa;Yf=1;var o=Dv();return Sa.createRoot=o.createRoot,Sa.hydrateRoot=o.hydrateRoot,Sa}var Ov=bv();const kp="14.9.17",Xf=(o,e,s)=>({endTime:e,insertTime:s,type:"exponentialRampToValue",value:o}),Zf=(o,e,s)=>({endTime:e,insertTime:s,type:"linearRampToValue",value:o}),pc=(o,e)=>({startTime:e,type:"setValue",value:o}),xp=(o,e,s)=>({duration:s,startTime:e,type:"setValueCurve",values:o}),Sp=(o,e,{startTime:s,target:i,timeConstant:a})=>i+(e-i)*Math.exp((s-o)/a),Dr=o=>o.type==="exponentialRampToValue",ba=o=>o.type==="linearRampToValue",ws=o=>Dr(o)||ba(o),Nc=o=>o.type==="setValue",Un=o=>o.type==="setValueCurve",Oa=(o,e,s,i)=>{const a=o[e];return a===void 0?i:ws(a)||Nc(a)?a.value:Un(a)?a.values[a.values.length-1]:Sp(s,Oa(o,e-1,a.startTime,i),a)},Kf=(o,e,s,i,a)=>s===void 0?[i.insertTime,a]:ws(s)?[s.endTime,s.value]:Nc(s)?[s.startTime,s.value]:Un(s)?[s.startTime+s.duration,s.values[s.values.length-1]]:[s.startTime,Oa(o,e-1,s.startTime,a)],mc=o=>o.type==="cancelAndHold",gc=o=>o.type==="cancelScheduledValues",_s=o=>mc(o)||gc(o)?o.cancelTime:Dr(o)||ba(o)?o.endTime:o.startTime,Jf=(o,e,s,{endTime:i,value:a})=>s===a?a:0<s&&0<a||s<0&&a<0?s*(a/s)**((o-e)/(i-e)):0,ep=(o,e,s,{endTime:i,value:a})=>s+(o-e)/(i-e)*(a-s),Iv=(o,e)=>{const s=Math.floor(e),i=Math.ceil(e);return s===i?o[s]:(1-(e-s))*o[s]+(1-(i-e))*o[i]},Rv=(o,{duration:e,startTime:s,values:i})=>{const a=(o-s)/e*(i.length-1);return Iv(i,a)},Ta=o=>o.type==="setTarget";class Pv{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const s=_s(e);if(mc(e)||gc(e)){const i=this._automationEvents.findIndex(u=>gc(e)&&Un(u)?u.startTime+u.duration>=s:_s(u)>=s),a=this._automationEvents[i];if(i!==-1&&(this._automationEvents=this._automationEvents.slice(0,i)),mc(e)){const u=this._automationEvents[this._automationEvents.length-1];if(a!==void 0&&ws(a)){if(u!==void 0&&Ta(u))throw new Error("The internal list is malformed.");const h=u===void 0?a.insertTime:Un(u)?u.startTime+u.duration:_s(u),d=u===void 0?this._defaultValue:Un(u)?u.values[u.values.length-1]:u.value,p=Dr(a)?Jf(s,h,d,a):ep(s,h,d,a),m=Dr(a)?Xf(p,s,this._currenTime):Zf(p,s,this._currenTime);this._automationEvents.push(m)}if(u!==void 0&&Ta(u)&&this._automationEvents.push(pc(this.getValue(s),s)),u!==void 0&&Un(u)&&u.startTime+u.duration>s){const h=s-u.startTime,d=(u.values.length-1)/u.duration,p=Math.max(2,1+Math.ceil(h*d)),m=h/(p-1)*d,g=u.values.slice(0,p);if(m<1)for(let v=1;v<p;v+=1){const k=m*v%1;g[v]=u.values[v-1]*(1-k)+u.values[v]*k}this._automationEvents[this._automationEvents.length-1]=xp(g,u.startTime,h)}}}else{const i=this._automationEvents.findIndex(h=>_s(h)>s),a=i===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[i-1];if(a!==void 0&&Un(a)&&_s(a)+a.duration>s)return!1;const u=Dr(e)?Xf(e.value,e.endTime,this._currenTime):ba(e)?Zf(e.value,s,this._currenTime):e;if(i===-1)this._automationEvents.push(u);else{if(Un(e)&&s+e.duration>_s(this._automationEvents[i]))return!1;this._automationEvents.splice(i,0,u)}}return!0}flush(e){const s=this._automationEvents.findIndex(i=>_s(i)>e);if(s>1){const i=this._automationEvents.slice(s-1),a=i[0];Ta(a)&&i.unshift(pc(Oa(this._automationEvents,s-2,a.startTime,this._defaultValue),a.startTime)),this._automationEvents=i}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const s=this._automationEvents.findIndex(h=>_s(h)>e),i=this._automationEvents[s],a=(s===-1?this._automationEvents.length:s)-1,u=this._automationEvents[a];if(u!==void 0&&Ta(u)&&(i===void 0||!ws(i)||i.insertTime>e))return Sp(e,Oa(this._automationEvents,a-1,u.startTime,this._defaultValue),u);if(u!==void 0&&Nc(u)&&(i===void 0||!ws(i)))return u.value;if(u!==void 0&&Un(u)&&(i===void 0||!ws(i)||u.startTime+u.duration>e))return e<u.startTime+u.duration?Rv(e,u):u.values[u.values.length-1];if(u!==void 0&&ws(u)&&(i===void 0||!ws(i)))return u.value;if(i!==void 0&&Dr(i)){const[h,d]=Kf(this._automationEvents,a,u,i,this._defaultValue);return Jf(e,h,d,i)}if(i!==void 0&&ba(i)){const[h,d]=Kf(this._automationEvents,a,u,i,this._defaultValue);return ep(e,h,d,i)}return this._defaultValue}}const jv=o=>({cancelTime:o,type:"cancelAndHold"}),Vv=o=>({cancelTime:o,type:"cancelScheduledValues"}),Fv=(o,e)=>({endTime:e,type:"exponentialRampToValue",value:o}),Lv=(o,e)=>({endTime:e,type:"linearRampToValue",value:o}),qv=(o,e,s)=>({startTime:e,target:o,timeConstant:s,type:"setTarget"}),zv=()=>new DOMException("","AbortError"),Wv=o=>(e,s,[i,a,u],h)=>{o(e[a],[s,i,u],d=>d[0]===s&&d[1]===i,h)},Bv=o=>(e,s,i)=>{const a=[];for(let u=0;u<i.numberOfInputs;u+=1)a.push(new Set);o.set(e,{activeInputs:a,outputs:new Set,passiveInputs:new WeakMap,renderer:s})},Uv=o=>(e,s)=>{o.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:s})},Ir=new WeakSet,Tp=new WeakMap,Ec=new WeakMap,Cp=new WeakMap,Ac=new WeakMap,rl=new WeakMap,Np=new WeakMap,vc=new WeakMap,yc=new WeakMap,_c=new WeakMap,Ep={construct(){return Ep}},$v=o=>{try{const e=new Proxy(o,Ep);new e}catch{return!1}return!0},tp=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,np=(o,e)=>{const s=[];let i=o.replace(/^[\s]+/,""),a=i.match(tp);for(;a!==null;){const u=a[1].slice(1,-1),h=a[0].replace(/([\s]+)?;?$/,"").replace(u,new URL(u,e).toString());s.push(h),i=i.slice(a[0].length).replace(/^[\s]+/,""),a=i.match(tp)}return[s.join(";"),i]},sp=o=>{if(o!==void 0&&!Array.isArray(o))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},rp=o=>{if(!$v(o))throw new TypeError("The given value for processorCtor should be a constructor.");if(o.prototype===null||typeof o.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},Hv=(o,e,s,i,a,u,h,d,p,m,g,v,k)=>{let _=0;return(w,S,T={credentials:"omit"})=>{const N=g.get(w);if(N!==void 0&&N.has(S))return Promise.resolve();const j=m.get(w);if(j!==void 0){const A=j.get(S);if(A!==void 0)return A}const R=u(w),F=R.audioWorklet===void 0?a(S).then(([A,b])=>{const[I,D]=np(A,b),W=`${I};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${D}
})})(window,'_AWGS')`;return s(W)}).then(()=>{const A=k._AWGS.pop();if(A===void 0)throw new SyntaxError;i(R.currentTime,R.sampleRate,()=>A(class{},void 0,(b,I)=>{if(b.trim()==="")throw e();const D=yc.get(R);if(D!==void 0){if(D.has(b))throw e();rp(I),sp(I.parameterDescriptors),D.set(b,I)}else rp(I),sp(I.parameterDescriptors),yc.set(R,new Map([[b,I]]))},R.sampleRate,void 0,void 0))}):Promise.all([a(S),Promise.resolve(o(v,v))]).then(([[A,b],I])=>{const D=_+1;_=D;const[W,B]=np(A,b),Y=`${W};((AudioWorkletProcessor,registerProcessor)=>{${B}
})(${I?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${I?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${I?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${D}',class extends AudioWorkletProcessor{process(){return !1}})`,se=new Blob([Y],{type:"application/javascript; charset=utf-8"}),X=URL.createObjectURL(se);return R.audioWorklet.addModule(X,T).then(()=>{if(d(R))return R;const Z=h(R);return Z.audioWorklet.addModule(X,T).then(()=>Z)}).then(Z=>{if(p===null)throw new SyntaxError;try{new p(Z,`__sac${D}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(X))});return j===void 0?m.set(w,new Map([[S,F]])):j.set(S,F),F.then(()=>{const A=g.get(w);A===void 0?g.set(w,new Set([S])):A.add(S)}).finally(()=>{const A=m.get(w);A!==void 0&&A.delete(S)}),F}},mn=(o,e)=>{const s=o.get(e);if(s===void 0)throw new Error("A value with the given key could not be found.");return s},il=(o,e)=>{const s=Array.from(o).filter(e);if(s.length>1)throw Error("More than one element was found.");if(s.length===0)throw Error("No element was found.");const[i]=s;return o.delete(i),i},Ap=(o,e,s,i)=>{const a=mn(o,e),u=il(a,h=>h[0]===s&&h[1]===i);return a.size===0&&o.delete(e),u},to=o=>mn(Np,o),Rr=o=>{if(Ir.has(o))throw new Error("The AudioNode is already stored.");Ir.add(o),to(o).forEach(e=>e(!0))},Mp=o=>"port"in o,no=o=>{if(!Ir.has(o))throw new Error("The AudioNode is not stored.");Ir.delete(o),to(o).forEach(e=>e(!1))},wc=(o,e)=>{!Mp(o)&&e.every(s=>s.size===0)&&no(o)},Gv=(o,e,s,i,a,u,h,d,p,m,g,v,k)=>{const _=new WeakMap;return(w,S,T,N,j)=>{const{activeInputs:R,passiveInputs:F}=u(S),{outputs:A}=u(w),b=d(w),I=D=>{const W=p(S),B=p(w);if(D){const U=Ap(F,w,T,N);o(R,w,U,!1),!j&&!v(w)&&s(B,W,T,N),k(S)&&Rr(S)}else{const U=i(R,w,T,N);e(F,N,U,!1),!j&&!v(w)&&a(B,W,T,N);const q=h(S);if(q===0)g(S)&&wc(S,R);else{const re=_.get(S);re!==void 0&&clearTimeout(re),_.set(S,setTimeout(()=>{g(S)&&wc(S,R)},q*1e3))}}};return m(A,[S,T,N],D=>D[0]===S&&D[1]===T&&D[2]===N,!0)?(b.add(I),g(w)?o(R,w,[T,N,I],!0):e(F,N,[w,T,I],!0),!0):!1}},Qv=o=>(e,s,[i,a,u],h)=>{const d=e.get(i);d===void 0?e.set(i,new Set([[a,s,u]])):o(d,[a,s,u],p=>p[0]===a&&p[1]===s,h)},Yv=o=>(e,s)=>{const i=o(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.connect(i).connect(e.destination);const a=()=>{s.removeEventListener("ended",a),s.disconnect(i),i.disconnect()};s.addEventListener("ended",a)},Xv=o=>(e,s)=>{o(e).add(s)},Zv={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Kv=(o,e,s,i,a,u)=>class extends o{constructor(d,p){const m=a(d),g={...Zv,...p},v=i(m,g),k=u(m)?e():null;super(d,!1,v,k),this._nativeAnalyserNode=v}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(d){this._nativeAnalyserNode.fftSize=d}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(d){const p=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=d,!(d>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=p,s()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(d){const p=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=d,!(this._nativeAnalyserNode.maxDecibels>d))throw this._nativeAnalyserNode.minDecibels=p,s()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(d){this._nativeAnalyserNode.smoothingTimeConstant=d}getByteFrequencyData(d){this._nativeAnalyserNode.getByteFrequencyData(d)}getByteTimeDomainData(d){this._nativeAnalyserNode.getByteTimeDomainData(d)}getFloatFrequencyData(d){this._nativeAnalyserNode.getFloatFrequencyData(d)}getFloatTimeDomainData(d){this._nativeAnalyserNode.getFloatTimeDomainData(d)}},Ct=(o,e)=>o.context===e,Jv=(o,e,s)=>()=>{const i=new WeakMap,a=async(u,h)=>{let d=e(u);if(!Ct(d,h)){const m={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,fftSize:d.fftSize,maxDecibels:d.maxDecibels,minDecibels:d.minDecibels,smoothingTimeConstant:d.smoothingTimeConstant};d=o(h,m)}return i.set(h,d),await s(u,h,d),d};return{render(u,h){const d=i.get(h);return d!==void 0?Promise.resolve(d):a(u,h)}}},Ia=o=>{try{o.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Dn=()=>new DOMException("","IndexSizeError"),Mc=o=>{o.getChannelData=(e=>s=>{try{return e.call(o,s)}catch(i){throw i.code===12?Dn():i}})(o.getChannelData)},ey={numberOfChannels:1},ty=(o,e,s,i,a,u,h,d)=>{let p=null;return class Dp{constructor(g){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:v,numberOfChannels:k,sampleRate:_}={...ey,...g};p===null&&(p=new a(1,1,44100));const w=i!==null&&e(u,u)?new i({length:v,numberOfChannels:k,sampleRate:_}):p.createBuffer(k,v,_);if(w.numberOfChannels===0)throw s();return typeof w.copyFromChannel!="function"?(h(w),Mc(w)):e(Ia,()=>Ia(w))||d(w),o.add(w),w}static[Symbol.hasInstance](g){return g!==null&&typeof g=="object"&&Object.getPrototypeOf(g)===Dp.prototype||o.has(g)}}},Vt=-34028234663852886e22,At=-Vt,Hn=o=>Ir.has(o),ny={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},sy=(o,e,s,i,a,u,h,d)=>class extends o{constructor(m,g){const v=u(m),k={...ny,...g},_=a(v,k),w=h(v),S=w?e():null;super(m,!1,_,S),this._audioBufferSourceNodeRenderer=S,this._isBufferNullified=!1,this._isBufferSet=k.buffer!==null,this._nativeAudioBufferSourceNode=_,this._onended=null,this._playbackRate=s(this,w,_.playbackRate,At,Vt)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(m){if(this._nativeAudioBufferSourceNode.buffer=m,m!==null){if(this._isBufferSet)throw i();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(m){this._nativeAudioBufferSourceNode.loop=m}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(m){this._nativeAudioBufferSourceNode.loopEnd=m}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(m){this._nativeAudioBufferSourceNode.loopStart=m}get onended(){return this._onended}set onended(m){const g=typeof m=="function"?d(this,m):null;this._nativeAudioBufferSourceNode.onended=g;const v=this._nativeAudioBufferSourceNode.onended;this._onended=v!==null&&v===g?m:v}get playbackRate(){return this._playbackRate}start(m=0,g=0,v){if(this._nativeAudioBufferSourceNode.start(m,g,v),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=v===void 0?[m,g]:[m,g,v]),this.context.state!=="closed"){Rr(this);const k=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",k),Hn(this)&&no(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",k)}}stop(m=0){this._nativeAudioBufferSourceNode.stop(m),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=m)}},ry=(o,e,s,i,a)=>()=>{const u=new WeakMap;let h=null,d=null;const p=async(m,g)=>{let v=s(m);const k=Ct(v,g);if(!k){const _={buffer:v.buffer,channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,loop:v.loop,loopEnd:v.loopEnd,loopStart:v.loopStart,playbackRate:v.playbackRate.value};v=e(g,_),h!==null&&v.start(...h),d!==null&&v.stop(d)}return u.set(g,v),k?await o(g,m.playbackRate,v.playbackRate):await i(g,m.playbackRate,v.playbackRate),await a(m,g,v),v};return{set start(m){h=m},set stop(m){d=m},render(m,g){const v=u.get(g);return v!==void 0?Promise.resolve(v):p(m,g)}}},iy=o=>"playbackRate"in o,oy=o=>"frequency"in o&&"gain"in o,ay=o=>"offset"in o,ly=o=>!("frequency"in o)&&"gain"in o,uy=o=>"detune"in o&&"frequency"in o&&!("gain"in o),cy=o=>"pan"in o,Mt=o=>mn(Tp,o),so=o=>mn(Cp,o),kc=(o,e)=>{const{activeInputs:s}=Mt(o);s.forEach(a=>a.forEach(([u])=>{e.includes(o)||kc(u,[...e,o])}));const i=iy(o)?[o.playbackRate]:Mp(o)?Array.from(o.parameters.values()):oy(o)?[o.Q,o.detune,o.frequency,o.gain]:ay(o)?[o.offset]:ly(o)?[o.gain]:uy(o)?[o.detune,o.frequency]:cy(o)?[o.pan]:[];for(const a of i){const u=so(a);u!==void 0&&u.activeInputs.forEach(([h])=>kc(h,e))}Hn(o)&&no(o)},bp=o=>{kc(o.destination,[])},hy=o=>o===void 0||typeof o=="number"||typeof o=="string"&&(o==="balanced"||o==="interactive"||o==="playback"),dy=(o,e,s,i,a,u,h,d,p)=>class extends o{constructor(g={}){if(p===null)throw new Error("Missing the native AudioContext constructor.");let v;try{v=new p(g)}catch(w){throw w.code===12&&w.message==="sampleRate is not in range"?s():w}if(v===null)throw i();if(!hy(g.latencyHint))throw new TypeError(`The provided value '${g.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(g.sampleRate!==void 0&&v.sampleRate!==g.sampleRate)throw s();super(v,2);const{latencyHint:k}=g,{sampleRate:_}=v;if(this._baseLatency=typeof v.baseLatency=="number"?v.baseLatency:k==="balanced"?512/_:k==="interactive"||k===void 0?256/_:k==="playback"?1024/_:Math.max(2,Math.min(128,Math.round(k*_/128)))*128/_,this._nativeAudioContext=v,p.name==="webkitAudioContext"?(this._nativeGainNode=v.createGain(),this._nativeOscillatorNode=v.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(v.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,v.state==="running"){this._state="suspended";const w=()=>{this._state==="suspended"&&(this._state=null),v.removeEventListener("statechange",w)};v.addEventListener("statechange",w)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),bp(this)}))}createMediaElementSource(g){return new a(this,{mediaElement:g})}createMediaStreamDestination(){return new u(this)}createMediaStreamSource(g){return new h(this,{mediaStream:g})}createMediaStreamTrackSource(g){return new d(this,{mediaStreamTrack:g})}resume(){return this._state==="suspended"?new Promise((g,v)=>{const k=()=>{this._nativeAudioContext.removeEventListener("statechange",k),this._nativeAudioContext.state==="running"?g():this.resume().then(g,v)};this._nativeAudioContext.addEventListener("statechange",k)}):this._nativeAudioContext.resume().catch(g=>{throw g===void 0||g.code===15?e():g})}suspend(){return this._nativeAudioContext.suspend().catch(g=>{throw g===void 0?e():g})}},fy=(o,e,s,i,a,u,h,d)=>class extends o{constructor(m,g){const v=u(m),k=h(v),_=a(v,g,k),w=k?e(d):null;super(m,!1,_,w),this._isNodeOfNativeOfflineAudioContext=k,this._nativeAudioDestinationNode=_}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(m){if(this._isNodeOfNativeOfflineAudioContext)throw i();if(m>this._nativeAudioDestinationNode.maxChannelCount)throw s();this._nativeAudioDestinationNode.channelCount=m}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(m){if(this._isNodeOfNativeOfflineAudioContext)throw i();this._nativeAudioDestinationNode.channelCountMode=m}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},py=o=>{const e=new WeakMap,s=async(i,a)=>{const u=a.destination;return e.set(a,u),await o(i,a,u),u};return{render(i,a){const u=e.get(a);return u!==void 0?Promise.resolve(u):s(i,a)}}},my=(o,e,s,i,a,u,h,d)=>(p,m)=>{const g=m.listener,v=()=>{const A=new Float32Array(1),b=e(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),I=h(m);let D=!1,W=[0,0,-1,0,1,0],B=[0,0,0];const U=()=>{if(D)return;D=!0;const se=i(m,256,9,0);se.onaudioprocess=({inputBuffer:X})=>{const Z=[u(X,A,0),u(X,A,1),u(X,A,2),u(X,A,3),u(X,A,4),u(X,A,5)];Z.some((G,Q)=>G!==W[Q])&&(g.setOrientation(...Z),W=Z);const $=[u(X,A,6),u(X,A,7),u(X,A,8)];$.some((G,Q)=>G!==B[Q])&&(g.setPosition(...$),B=$)},b.connect(se)},q=se=>X=>{X!==W[se]&&(W[se]=X,g.setOrientation(...W))},re=se=>X=>{X!==B[se]&&(B[se]=X,g.setPosition(...B))},Y=(se,X,Z)=>{const $=s(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:X});$.connect(b,0,se),$.start(),Object.defineProperty($.offset,"defaultValue",{get(){return X}});const G=o({context:p},I,$.offset,At,Vt);return d(G,"value",Q=>()=>Q.call(G),Q=>E=>{try{Q.call(G,E)}catch(z){if(z.code!==9)throw z}U(),I&&Z(E)}),G.cancelAndHoldAtTime=(Q=>I?()=>{throw a()}:(...E)=>{const z=Q.apply(G,E);return U(),z})(G.cancelAndHoldAtTime),G.cancelScheduledValues=(Q=>I?()=>{throw a()}:(...E)=>{const z=Q.apply(G,E);return U(),z})(G.cancelScheduledValues),G.exponentialRampToValueAtTime=(Q=>I?()=>{throw a()}:(...E)=>{const z=Q.apply(G,E);return U(),z})(G.exponentialRampToValueAtTime),G.linearRampToValueAtTime=(Q=>I?()=>{throw a()}:(...E)=>{const z=Q.apply(G,E);return U(),z})(G.linearRampToValueAtTime),G.setTargetAtTime=(Q=>I?()=>{throw a()}:(...E)=>{const z=Q.apply(G,E);return U(),z})(G.setTargetAtTime),G.setValueAtTime=(Q=>I?()=>{throw a()}:(...E)=>{const z=Q.apply(G,E);return U(),z})(G.setValueAtTime),G.setValueCurveAtTime=(Q=>I?()=>{throw a()}:(...E)=>{const z=Q.apply(G,E);return U(),z})(G.setValueCurveAtTime),G};return{forwardX:Y(0,0,q(0)),forwardY:Y(1,0,q(1)),forwardZ:Y(2,-1,q(2)),positionX:Y(6,0,re(0)),positionY:Y(7,0,re(1)),positionZ:Y(8,0,re(2)),upX:Y(3,0,q(3)),upY:Y(4,1,q(4)),upZ:Y(5,0,q(5))}},{forwardX:k,forwardY:_,forwardZ:w,positionX:S,positionY:T,positionZ:N,upX:j,upY:R,upZ:F}=g.forwardX===void 0?v():g;return{get forwardX(){return k},get forwardY(){return _},get forwardZ(){return w},get positionX(){return S},get positionY(){return T},get positionZ(){return N},get upX(){return j},get upY(){return R},get upZ(){return F}}},Ra=o=>"context"in o,ro=o=>Ra(o[0]),Js=(o,e,s,i)=>{for(const a of o)if(s(a)){if(i)return!1;throw Error("The set contains at least one similar element.")}return o.add(e),!0},ip=(o,e,[s,i],a)=>{Js(o,[e,s,i],u=>u[0]===e&&u[1]===s,a)},op=(o,[e,s,i],a)=>{const u=o.get(e);u===void 0?o.set(e,new Set([[s,i]])):Js(u,[s,i],h=>h[0]===s,a)},Ur=o=>"inputs"in o,Pa=(o,e,s,i)=>{if(Ur(e)){const a=e.inputs[i];return o.connect(a,s,0),[a,s,0]}return o.connect(e,s,i),[e,s,i]},Op=(o,e,s)=>{for(const i of o)if(i[0]===e&&i[1]===s)return o.delete(i),i;return null},gy=(o,e,s)=>il(o,i=>i[0]===e&&i[1]===s),Ip=(o,e)=>{if(!to(o).delete(e))throw new Error("Missing the expected event listener.")},Rp=(o,e,s)=>{const i=mn(o,e),a=il(i,u=>u[0]===s);return i.size===0&&o.delete(e),a},ja=(o,e,s,i)=>{Ur(e)?o.disconnect(e.inputs[i],s,0):o.disconnect(e,s,i)},$e=o=>mn(Ec,o),Vi=o=>mn(Ac,o),Gs=o=>vc.has(o),Ma=o=>!Ir.has(o),ap=(o,e)=>new Promise(s=>{if(e!==null)s(!0);else{const i=o.createScriptProcessor(256,1,1),a=o.createGain(),u=o.createBuffer(1,2,44100),h=u.getChannelData(0);h[0]=1,h[1]=1;const d=o.createBufferSource();d.buffer=u,d.loop=!0,d.connect(i).connect(o.destination),d.connect(a),d.disconnect(a),i.onaudioprocess=p=>{const m=p.inputBuffer.getChannelData(0);Array.prototype.some.call(m,g=>g===1)?s(!0):s(!1),d.stop(),i.onaudioprocess=null,d.disconnect(i),i.disconnect(o.destination)},d.start()}}),cc=(o,e)=>{const s=new Map;for(const i of o)for(const a of i){const u=s.get(a);s.set(a,u===void 0?1:u+1)}s.forEach((i,a)=>e(a,i))},Va=o=>"context"in o,vy=o=>{const e=new Map;o.connect=(s=>(i,a=0,u=0)=>{const h=Va(i)?s(i,a,u):s(i,a),d=e.get(i);return d===void 0?e.set(i,[{input:u,output:a}]):d.every(p=>p.input!==u||p.output!==a)&&d.push({input:u,output:a}),h})(o.connect.bind(o)),o.disconnect=(s=>(i,a,u)=>{if(s.apply(o),i===void 0)e.clear();else if(typeof i=="number")for(const[h,d]of e){const p=d.filter(m=>m.output!==i);p.length===0?e.delete(h):e.set(h,p)}else if(e.has(i))if(a===void 0)e.delete(i);else{const h=e.get(i);if(h!==void 0){const d=h.filter(p=>p.output!==a&&(p.input!==u||u===void 0));d.length===0?e.delete(i):e.set(i,d)}}for(const[h,d]of e)d.forEach(p=>{Va(h)?o.connect(h,p.output,p.input):o.connect(h,p.output)})})(o.disconnect)},yy=(o,e,s,i)=>{const{activeInputs:a,passiveInputs:u}=so(e),{outputs:h}=Mt(o),d=to(o),p=m=>{const g=$e(o),v=Vi(e);if(m){const k=Rp(u,o,s);ip(a,o,k,!1),!i&&!Gs(o)&&g.connect(v,s)}else{const k=gy(a,o,s);op(u,k,!1),!i&&!Gs(o)&&g.disconnect(v,s)}};return Js(h,[e,s],m=>m[0]===e&&m[1]===s,!0)?(d.add(p),Hn(o)?ip(a,o,[s,p],!0):op(u,[o,s,p],!0),!0):!1},_y=(o,e,s,i)=>{const{activeInputs:a,passiveInputs:u}=Mt(e),h=Op(a[i],o,s);return h===null?[Ap(u,o,s,i)[2],!1]:[h[2],!0]},wy=(o,e,s)=>{const{activeInputs:i,passiveInputs:a}=so(e),u=Op(i,o,s);return u===null?[Rp(a,o,s)[1],!1]:[u[2],!0]},Dc=(o,e,s,i,a)=>{const[u,h]=_y(o,s,i,a);if(u!==null&&(Ip(o,u),h&&!e&&!Gs(o)&&ja($e(o),$e(s),i,a)),Hn(s)){const{activeInputs:d}=Mt(s);wc(s,d)}},bc=(o,e,s,i)=>{const[a,u]=wy(o,s,i);a!==null&&(Ip(o,a),u&&!e&&!Gs(o)&&$e(o).disconnect(Vi(s),i))},ky=(o,e)=>{const s=Mt(o),i=[];for(const a of s.outputs)ro(a)?Dc(o,e,...a):bc(o,e,...a),i.push(a[0]);return s.outputs.clear(),i},xy=(o,e,s)=>{const i=Mt(o),a=[];for(const u of i.outputs)u[1]===s&&(ro(u)?Dc(o,e,...u):bc(o,e,...u),a.push(u[0]),i.outputs.delete(u));return a},Sy=(o,e,s,i,a)=>{const u=Mt(o);return Array.from(u.outputs).filter(h=>h[0]===s&&(i===void 0||h[1]===i)&&(a===void 0||h[2]===a)).map(h=>(ro(h)?Dc(o,e,...h):bc(o,e,...h),u.outputs.delete(h),h[0]))},Ty=(o,e,s,i,a,u,h,d,p,m,g,v,k,_,w,S)=>class extends m{constructor(N,j,R,F){super(R),this._context=N,this._nativeAudioNode=R;const A=g(N);v(A)&&s(ap,()=>ap(A,S))!==!0&&vy(R),Ec.set(this,R),Np.set(this,new Set),N.state!=="closed"&&j&&Rr(this),o(this,F,R)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(N){this._nativeAudioNode.channelCount=N}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(N){this._nativeAudioNode.channelCountMode=N}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(N){this._nativeAudioNode.channelInterpretation=N}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(N,j=0,R=0){if(j<0||j>=this._nativeAudioNode.numberOfOutputs)throw a();const F=g(this._context),A=w(F);if(k(N)||_(N))throw u();if(Ra(N)){const D=$e(N);try{const B=Pa(this._nativeAudioNode,D,j,R),U=Ma(this);(A||U)&&this._nativeAudioNode.disconnect(...B),this.context.state!=="closed"&&!U&&Ma(N)&&Rr(N)}catch(B){throw B.code===12?u():B}if(e(this,N,j,R,A)){const B=p([this],N);cc(B,i(A))}return N}const b=Vi(N);if(b.name==="playbackRate"&&b.maxValue===1024)throw h();try{this._nativeAudioNode.connect(b,j),(A||Ma(this))&&this._nativeAudioNode.disconnect(b,j)}catch(D){throw D.code===12?u():D}if(yy(this,N,j,A)){const D=p([this],N);cc(D,i(A))}}disconnect(N,j,R){let F;const A=g(this._context),b=w(A);if(N===void 0)F=ky(this,b);else if(typeof N=="number"){if(N<0||N>=this.numberOfOutputs)throw a();F=xy(this,b,N)}else{if(j!==void 0&&(j<0||j>=this.numberOfOutputs)||Ra(N)&&R!==void 0&&(R<0||R>=N.numberOfInputs))throw a();if(F=Sy(this,b,N,j,R),F.length===0)throw u()}for(const I of F){const D=p([this],I);cc(D,d)}}},Cy=(o,e,s,i,a,u,h,d,p,m,g,v,k)=>(_,w,S,T=null,N=null)=>{const j=S.value,R=new Pv(j),F=w?i(R):null,A={get defaultValue(){return j},get maxValue(){return T===null?S.maxValue:T},get minValue(){return N===null?S.minValue:N},get value(){return S.value},set value(b){S.value=b,A.setValueAtTime(b,_.context.currentTime)},cancelAndHoldAtTime(b){if(typeof S.cancelAndHoldAtTime=="function")F===null&&R.flush(_.context.currentTime),R.add(a(b)),S.cancelAndHoldAtTime(b);else{const I=Array.from(R).pop();F===null&&R.flush(_.context.currentTime),R.add(a(b));const D=Array.from(R).pop();S.cancelScheduledValues(b),I!==D&&D!==void 0&&(D.type==="exponentialRampToValue"?S.exponentialRampToValueAtTime(D.value,D.endTime):D.type==="linearRampToValue"?S.linearRampToValueAtTime(D.value,D.endTime):D.type==="setValue"?S.setValueAtTime(D.value,D.startTime):D.type==="setValueCurve"&&S.setValueCurveAtTime(D.values,D.startTime,D.duration))}return A},cancelScheduledValues(b){return F===null&&R.flush(_.context.currentTime),R.add(u(b)),S.cancelScheduledValues(b),A},exponentialRampToValueAtTime(b,I){if(b===0)throw new RangeError;if(!Number.isFinite(I)||I<0)throw new RangeError;const D=_.context.currentTime;return F===null&&R.flush(D),Array.from(R).length===0&&(R.add(m(j,D)),S.setValueAtTime(j,D)),R.add(h(b,I)),S.exponentialRampToValueAtTime(b,I),A},linearRampToValueAtTime(b,I){const D=_.context.currentTime;return F===null&&R.flush(D),Array.from(R).length===0&&(R.add(m(j,D)),S.setValueAtTime(j,D)),R.add(d(b,I)),S.linearRampToValueAtTime(b,I),A},setTargetAtTime(b,I,D){return F===null&&R.flush(_.context.currentTime),R.add(p(b,I,D)),S.setTargetAtTime(b,I,D),A},setValueAtTime(b,I){return F===null&&R.flush(_.context.currentTime),R.add(m(b,I)),S.setValueAtTime(b,I),A},setValueCurveAtTime(b,I,D){const W=b instanceof Float32Array?b:new Float32Array(b);if(v!==null&&v.name==="webkitAudioContext"){const B=I+D,U=_.context.sampleRate,q=Math.ceil(I*U),re=Math.floor(B*U),Y=re-q,se=new Float32Array(Y);for(let Z=0;Z<Y;Z+=1){const $=(W.length-1)/D*((q+Z)/U-I),G=Math.floor($),Q=Math.ceil($);se[Z]=G===Q?W[G]:(1-($-G))*W[G]+(1-(Q-$))*W[Q]}F===null&&R.flush(_.context.currentTime),R.add(g(se,I,D)),S.setValueCurveAtTime(se,I,D);const X=re/U;X<B&&k(A,se[se.length-1],X),k(A,W[W.length-1],B)}else F===null&&R.flush(_.context.currentTime),R.add(g(W,I,D)),S.setValueCurveAtTime(W,I,D);return A}};return s.set(A,S),e.set(A,_),o(A,F),A},Ny=o=>({replay(e){for(const s of o)if(s.type==="exponentialRampToValue"){const{endTime:i,value:a}=s;e.exponentialRampToValueAtTime(a,i)}else if(s.type==="linearRampToValue"){const{endTime:i,value:a}=s;e.linearRampToValueAtTime(a,i)}else if(s.type==="setTarget"){const{startTime:i,target:a,timeConstant:u}=s;e.setTargetAtTime(a,i,u)}else if(s.type==="setValue"){const{startTime:i,value:a}=s;e.setValueAtTime(a,i)}else if(s.type==="setValueCurve"){const{duration:i,startTime:a,values:u}=s;e.setValueCurveAtTime(u,a,i)}else throw new Error("Can't apply an unknown automation.")}});class Pp{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,s=null){return this._map.forEach((i,a)=>e.call(s,i,a,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const Ey={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Ay=(o,e,s,i,a,u,h,d,p,m,g,v,k,_)=>class extends e{constructor(S,T,N){var j;const R=d(S),F=p(R),A=g({...Ey,...N});k(A);const b=yc.get(R),I=b==null?void 0:b.get(T),D=F||R.state!=="closed"?R:(j=h(R))!==null&&j!==void 0?j:R,W=a(D,F?null:S.baseLatency,m,T,I,A),B=F?i(T,A,I):null;super(S,!0,W,B);const U=[];W.parameters.forEach((re,Y)=>{const se=s(this,F,re);U.push([Y,se])}),this._nativeAudioWorkletNode=W,this._onprocessorerror=null,this._parameters=new Pp(U),F&&o(R,this);const{activeInputs:q}=u(this);v(W,q)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(S){const T=typeof S=="function"?_(this,S):null;this._nativeAudioWorkletNode.onprocessorerror=T;const N=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=N!==null&&N===T?S:N}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Fa(o,e,s,i,a){if(typeof o.copyFromChannel=="function")e[s].byteLength===0&&(e[s]=new Float32Array(128)),o.copyFromChannel(e[s],i,a);else{const u=o.getChannelData(i);if(e[s].byteLength===0)e[s]=u.slice(a,a+128);else{const h=new Float32Array(u.buffer,a*Float32Array.BYTES_PER_ELEMENT,128);e[s].set(h)}}}const jp=(o,e,s,i,a)=>{typeof o.copyToChannel=="function"?e[s].byteLength!==0&&o.copyToChannel(e[s],i,a):e[s].byteLength!==0&&o.getChannelData(i).set(e[s],a)},La=(o,e)=>{const s=[];for(let i=0;i<o;i+=1){const a=[],u=typeof e=="number"?e:e[i];for(let h=0;h<u;h+=1)a.push(new Float32Array(128));s.push(a)}return s},My=(o,e)=>{const s=mn(_c,o),i=$e(e);return mn(s,i)},Dy=async(o,e,s,i,a,u,h)=>{const d=e===null?Math.ceil(o.context.length/128)*128:e.length,p=i.channelCount*i.numberOfInputs,m=a.reduce((T,N)=>T+N,0),g=m===0?null:s.createBuffer(m,d,s.sampleRate);if(u===void 0)throw new Error("Missing the processor constructor.");const v=Mt(o),k=await My(s,o),_=La(i.numberOfInputs,i.channelCount),w=La(i.numberOfOutputs,a),S=Array.from(o.parameters.keys()).reduce((T,N)=>({...T,[N]:new Float32Array(128)}),{});for(let T=0;T<d;T+=128){if(i.numberOfInputs>0&&e!==null)for(let N=0;N<i.numberOfInputs;N+=1)for(let j=0;j<i.channelCount;j+=1)Fa(e,_[N],j,j,T);u.parameterDescriptors!==void 0&&e!==null&&u.parameterDescriptors.forEach(({name:N},j)=>{Fa(e,S,N,p+j,T)});for(let N=0;N<i.numberOfInputs;N+=1)for(let j=0;j<a[N];j+=1)w[N][j].byteLength===0&&(w[N][j]=new Float32Array(128));try{const N=_.map((R,F)=>v.activeInputs[F].size===0?[]:R),j=h(T/s.sampleRate,s.sampleRate,()=>k.process(N,w,S));if(g!==null)for(let R=0,F=0;R<i.numberOfOutputs;R+=1){for(let A=0;A<a[R];A+=1)jp(g,w[R],A,F+A,T);F+=a[R]}if(!j)break}catch(N){o.dispatchEvent(new ErrorEvent("processorerror",{colno:N.colno,filename:N.filename,lineno:N.lineno,message:N.message}));break}}return g},by=(o,e,s,i,a,u,h,d,p,m,g,v,k,_,w,S)=>(T,N,j)=>{const R=new WeakMap;let F=null;const A=async(b,I)=>{let D=g(b),W=null;const B=Ct(D,I),U=Array.isArray(N.outputChannelCount)?N.outputChannelCount:Array.from(N.outputChannelCount);if(v===null){const q=U.reduce((X,Z)=>X+Z,0),re=a(I,{channelCount:Math.max(1,q),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,q)}),Y=[];for(let X=0;X<b.numberOfOutputs;X+=1)Y.push(i(I,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:U[X]}));const se=h(I,{channelCount:N.channelCount,channelCountMode:N.channelCountMode,channelInterpretation:N.channelInterpretation,gain:1});se.connect=e.bind(null,Y),se.disconnect=p.bind(null,Y),W=[re,Y,se]}else B||(D=new v(I,T));if(R.set(I,W===null?D:W[2]),W!==null){if(F===null){if(j===void 0)throw new Error("Missing the processor constructor.");if(k===null)throw new Error("Missing the native OfflineAudioContext constructor.");const Z=b.channelCount*b.numberOfInputs,$=j.parameterDescriptors===void 0?0:j.parameterDescriptors.length,G=Z+$;F=Dy(b,G===0?null:await(async()=>{const E=new k(G,Math.ceil(b.context.length/128)*128,I.sampleRate),z=[],me=[];for(let ue=0;ue<N.numberOfInputs;ue+=1)z.push(h(E,{channelCount:N.channelCount,channelCountMode:N.channelCountMode,channelInterpretation:N.channelInterpretation,gain:1})),me.push(a(E,{channelCount:N.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:N.channelCount}));const ge=await Promise.all(Array.from(b.parameters.values()).map(async ue=>{const _e=u(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ue.value});return await _(E,ue,_e.offset),_e})),te=i(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,Z+$)});for(let ue=0;ue<N.numberOfInputs;ue+=1){z[ue].connect(me[ue]);for(let _e=0;_e<N.channelCount;_e+=1)me[ue].connect(te,_e,ue*N.channelCount+_e)}for(const[ue,_e]of ge.entries())_e.connect(te,0,Z+ue),_e.start(0);return te.connect(E.destination),await Promise.all(z.map(ue=>w(b,E,ue))),S(E)})(),I,N,U,j,m)}const q=await F,re=s(I,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[Y,se,X]=W;q!==null&&(re.buffer=q,re.start(0)),re.connect(Y);for(let Z=0,$=0;Z<b.numberOfOutputs;Z+=1){const G=se[Z];for(let Q=0;Q<U[Z];Q+=1)Y.connect(G,$+Q,Q);$+=U[Z]}return X}if(B)for(const[q,re]of b.parameters.entries())await o(I,re,D.parameters.get(q));else for(const[q,re]of b.parameters.entries())await _(I,re,D.parameters.get(q));return await w(b,I,D),D};return{render(b,I){d(I,b);const D=R.get(I);return D!==void 0?Promise.resolve(D):A(b,I)}}},Oy=(o,e,s,i,a,u,h,d,p,m,g,v,k,_,w,S,T,N,j,R)=>class extends w{constructor(A,b){super(A,b),this._nativeContext=A,this._audioWorklet=o===void 0?void 0:{addModule:(I,D)=>o(this,I,D)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new a(this)}createBuffer(A,b,I){return new s({length:b,numberOfChannels:A,sampleRate:I})}createBufferSource(){return new i(this)}createChannelMerger(A=6){return new u(this,{numberOfInputs:A})}createChannelSplitter(A=6){return new h(this,{numberOfOutputs:A})}createConstantSource(){return new d(this)}createConvolver(){return new p(this)}createDelay(A=1){return new g(this,{maxDelayTime:A})}createDynamicsCompressor(){return new v(this)}createGain(){return new k(this)}createIIRFilter(A,b){return new _(this,{feedback:b,feedforward:A})}createOscillator(){return new S(this)}createPanner(){return new T(this)}createPeriodicWave(A,b,I={disableNormalization:!1}){return new N(this,{...I,imag:b,real:A})}createStereoPanner(){return new j(this)}createWaveShaper(){return new R(this)}decodeAudioData(A,b,I){return m(this._nativeContext,A).then(D=>(typeof b=="function"&&b(D),D),D=>{throw typeof I=="function"&&I(D),D})}},Iy={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Ry=(o,e,s,i,a,u,h,d)=>class extends o{constructor(m,g){const v=u(m),k={...Iy,...g},_=a(v,k),w=h(v),S=w?s():null;super(m,!1,_,S),this._Q=e(this,w,_.Q,At,Vt),this._detune=e(this,w,_.detune,1200*Math.log2(At),-1200*Math.log2(At)),this._frequency=e(this,w,_.frequency,m.sampleRate/2,0),this._gain=e(this,w,_.gain,40*Math.log10(At),Vt),this._nativeBiquadFilterNode=_,d(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(m){this._nativeBiquadFilterNode.type=m}getFrequencyResponse(m,g,v){try{this._nativeBiquadFilterNode.getFrequencyResponse(m,g,v)}catch(k){throw k.code===11?i():k}if(m.length!==g.length||g.length!==v.length)throw i()}},Py=(o,e,s,i,a)=>()=>{const u=new WeakMap,h=async(d,p)=>{let m=s(d);const g=Ct(m,p);if(!g){const v={Q:m.Q.value,channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,detune:m.detune.value,frequency:m.frequency.value,gain:m.gain.value,type:m.type};m=e(p,v)}return u.set(p,m),g?(await o(p,d.Q,m.Q),await o(p,d.detune,m.detune),await o(p,d.frequency,m.frequency),await o(p,d.gain,m.gain)):(await i(p,d.Q,m.Q),await i(p,d.detune,m.detune),await i(p,d.frequency,m.frequency),await i(p,d.gain,m.gain)),await a(d,p,m),m};return{render(d,p){const m=u.get(p);return m!==void 0?Promise.resolve(m):h(d,p)}}},jy=(o,e)=>(s,i)=>{const a=e.get(s);if(a!==void 0)return a;const u=o.get(s);if(u!==void 0)return u;try{const h=i();return h instanceof Promise?(o.set(s,h),h.catch(()=>!1).then(d=>(o.delete(s),e.set(s,d),d))):(e.set(s,h),h)}catch{return e.set(s,!1),!1}},Vy={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Fy=(o,e,s,i,a)=>class extends o{constructor(h,d){const p=i(h),m={...Vy,...d},g=s(p,m),v=a(p)?e():null;super(h,!1,g,v)}},Ly=(o,e,s)=>()=>{const i=new WeakMap,a=async(u,h)=>{let d=e(u);if(!Ct(d,h)){const m={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,numberOfInputs:d.numberOfInputs};d=o(h,m)}return i.set(h,d),await s(u,h,d),d};return{render(u,h){const d=i.get(h);return d!==void 0?Promise.resolve(d):a(u,h)}}},qy={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},zy=(o,e,s,i,a,u)=>class extends o{constructor(d,p){const m=i(d),g=u({...qy,...p}),v=s(m,g),k=a(m)?e():null;super(d,!1,v,k)}},Wy=(o,e,s)=>()=>{const i=new WeakMap,a=async(u,h)=>{let d=e(u);if(!Ct(d,h)){const m={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,numberOfOutputs:d.numberOfOutputs};d=o(h,m)}return i.set(h,d),await s(u,h,d),d};return{render(u,h){const d=i.get(h);return d!==void 0?Promise.resolve(d):a(u,h)}}},By=o=>(e,s,i)=>o(s,e,i),Uy=o=>(e,s,i=0,a=0)=>{const u=e[i];if(u===void 0)throw o();return Va(s)?u.connect(s,0,a):u.connect(s,0)},$y=o=>(e,s)=>{const i=o(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),a=e.createBuffer(1,2,44100);return i.buffer=a,i.loop=!0,i.connect(s),i.start(),()=>{i.stop(),i.disconnect(s)}},Hy={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Gy=(o,e,s,i,a,u,h)=>class extends o{constructor(p,m){const g=a(p),v={...Hy,...m},k=i(g,v),_=u(g),w=_?s():null;super(p,!1,k,w),this._constantSourceNodeRenderer=w,this._nativeConstantSourceNode=k,this._offset=e(this,_,k.offset,At,Vt),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(p){const m=typeof p=="function"?h(this,p):null;this._nativeConstantSourceNode.onended=m;const g=this._nativeConstantSourceNode.onended;this._onended=g!==null&&g===m?p:g}start(p=0){if(this._nativeConstantSourceNode.start(p),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=p),this.context.state!=="closed"){Rr(this);const m=()=>{this._nativeConstantSourceNode.removeEventListener("ended",m),Hn(this)&&no(this)};this._nativeConstantSourceNode.addEventListener("ended",m)}}stop(p=0){this._nativeConstantSourceNode.stop(p),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=p)}},Qy=(o,e,s,i,a)=>()=>{const u=new WeakMap;let h=null,d=null;const p=async(m,g)=>{let v=s(m);const k=Ct(v,g);if(!k){const _={channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,offset:v.offset.value};v=e(g,_),h!==null&&v.start(h),d!==null&&v.stop(d)}return u.set(g,v),k?await o(g,m.offset,v.offset):await i(g,m.offset,v.offset),await a(m,g,v),v};return{set start(m){h=m},set stop(m){d=m},render(m,g){const v=u.get(g);return v!==void 0?Promise.resolve(v):p(m,g)}}},Yy=o=>e=>(o[0]=e,o[0]),Xy={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Zy=(o,e,s,i,a,u)=>class extends o{constructor(d,p){const m=i(d),g={...Xy,...p},v=s(m,g),_=a(m)?e():null;super(d,!1,v,_),this._isBufferNullified=!1,this._nativeConvolverNode=v,g.buffer!==null&&u(this,g.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(d){if(this._nativeConvolverNode.buffer=d,d===null&&this._nativeConvolverNode.buffer!==null){const p=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=p.createBuffer(1,1,p.sampleRate),this._isBufferNullified=!0,u(this,0)}else this._isBufferNullified=!1,u(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(d){this._nativeConvolverNode.normalize=d}},Ky=(o,e,s)=>()=>{const i=new WeakMap,a=async(u,h)=>{let d=e(u);if(!Ct(d,h)){const m={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,disableNormalization:!d.normalize};d=o(h,m)}return i.set(h,d),Ur(d)?await s(u,h,d.inputs[0]):await s(u,h,d),d};return{render(u,h){const d=i.get(h);return d!==void 0?Promise.resolve(d):a(u,h)}}},Jy=(o,e)=>(s,i,a)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(s,i,a)}catch(u){throw u.name==="SyntaxError"?o():u}},e_=()=>new DOMException("","DataCloneError"),lp=o=>{const{port1:e,port2:s}=new MessageChannel;return new Promise(i=>{const a=()=>{s.onmessage=null,e.close(),s.close(),i()};s.onmessage=()=>a();try{e.postMessage(o,[o])}catch{}finally{a()}})},t_=(o,e,s,i,a,u,h,d,p,m,g)=>(v,k)=>{const _=h(v)?v:u(v);if(a.has(k)){const w=s();return Promise.reject(w)}try{a.add(k)}catch{}return e(p,()=>p(_))?_.decodeAudioData(k).then(w=>(lp(k).catch(()=>{}),e(d,()=>d(w))||g(w),o.add(w),w)):new Promise((w,S)=>{const T=async()=>{try{await lp(k)}catch{}},N=j=>{S(j),T()};try{_.decodeAudioData(k,j=>{typeof j.copyFromChannel!="function"&&(m(j),Mc(j)),o.add(j),T().then(()=>w(j))},j=>{N(j===null?i():j)})}catch(j){N(j)}})},n_=(o,e,s,i,a,u,h,d)=>(p,m)=>{const g=e.get(p);if(g===void 0)throw new Error("Missing the expected cycle count.");const v=u(p.context),k=d(v);if(g===m){if(e.delete(p),!k&&h(p)){const _=i(p),{outputs:w}=s(p);for(const S of w)if(ro(S)){const T=i(S[0]);o(_,T,S[1],S[2])}else{const T=a(S[0]);_.connect(T,S[1])}}}else e.set(p,g-m)},s_={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},r_=(o,e,s,i,a,u,h)=>class extends o{constructor(p,m){const g=a(p),v={...s_,...m},k=i(g,v),_=u(g),w=_?s(v.maxDelayTime):null;super(p,!1,k,w),this._delayTime=e(this,_,k.delayTime),h(this,v.maxDelayTime)}get delayTime(){return this._delayTime}},i_=(o,e,s,i,a)=>u=>{const h=new WeakMap,d=async(p,m)=>{let g=s(p);const v=Ct(g,m);if(!v){const k={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,delayTime:g.delayTime.value,maxDelayTime:u};g=e(m,k)}return h.set(m,g),v?await o(m,p.delayTime,g.delayTime):await i(m,p.delayTime,g.delayTime),await a(p,m,g),g};return{render(p,m){const g=h.get(m);return g!==void 0?Promise.resolve(g):d(p,m)}}},o_=o=>(e,s,i,a)=>o(e[a],u=>u[0]===s&&u[1]===i),a_=o=>(e,s)=>{o(e).delete(s)},l_=o=>"delayTime"in o,u_=(o,e,s)=>function i(a,u){const h=Ra(u)?u:s(o,u);if(l_(h))return[];if(a[0]===h)return[a];if(a.includes(h))return[];const{outputs:d}=e(h);return Array.from(d).map(p=>i([...a,h],p[0])).reduce((p,m)=>p.concat(m),[])},Ca=(o,e,s)=>{const i=e[s];if(i===void 0)throw o();return i},c_=o=>(e,s=void 0,i=void 0,a=0)=>s===void 0?e.forEach(u=>u.disconnect()):typeof s=="number"?Ca(o,e,s).disconnect():Va(s)?i===void 0?e.forEach(u=>u.disconnect(s)):a===void 0?Ca(o,e,i).disconnect(s,0):Ca(o,e,i).disconnect(s,0,a):i===void 0?e.forEach(u=>u.disconnect(s)):Ca(o,e,i).disconnect(s,0),h_={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},d_=(o,e,s,i,a,u,h,d)=>class extends o{constructor(m,g){const v=u(m),k={...h_,...g},_=i(v,k),w=h(v),S=w?s():null;super(m,!1,_,S),this._attack=e(this,w,_.attack),this._knee=e(this,w,_.knee),this._nativeDynamicsCompressorNode=_,this._ratio=e(this,w,_.ratio),this._release=e(this,w,_.release),this._threshold=e(this,w,_.threshold),d(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(m){const g=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=m,m>2)throw this._nativeDynamicsCompressorNode.channelCount=g,a()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(m){const g=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=m,m==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=g,a()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},f_=(o,e,s,i,a)=>()=>{const u=new WeakMap,h=async(d,p)=>{let m=s(d);const g=Ct(m,p);if(!g){const v={attack:m.attack.value,channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,knee:m.knee.value,ratio:m.ratio.value,release:m.release.value,threshold:m.threshold.value};m=e(p,v)}return u.set(p,m),g?(await o(p,d.attack,m.attack),await o(p,d.knee,m.knee),await o(p,d.ratio,m.ratio),await o(p,d.release,m.release),await o(p,d.threshold,m.threshold)):(await i(p,d.attack,m.attack),await i(p,d.knee,m.knee),await i(p,d.ratio,m.ratio),await i(p,d.release,m.release),await i(p,d.threshold,m.threshold)),await a(d,p,m),m};return{render(d,p){const m=u.get(p);return m!==void 0?Promise.resolve(m):h(d,p)}}},p_=()=>new DOMException("","EncodingError"),m_=o=>e=>new Promise((s,i)=>{if(o===null){i(new SyntaxError);return}const a=o.document.head;if(a===null)i(new SyntaxError);else{const u=o.document.createElement("script"),h=new Blob([e],{type:"application/javascript"}),d=URL.createObjectURL(h),p=o.onerror,m=()=>{o.onerror=p,URL.revokeObjectURL(d)};o.onerror=(g,v,k,_,w)=>{if(v===d||v===o.location.href&&k===1&&_===1)return m(),i(w),!1;if(p!==null)return p(g,v,k,_,w)},u.onerror=()=>{m(),i(new SyntaxError)},u.onload=()=>{m(),s()},u.src=d,u.type="module",a.appendChild(u)}}),g_=o=>class{constructor(s){this._nativeEventTarget=s,this._listeners=new WeakMap}addEventListener(s,i,a){if(i!==null){let u=this._listeners.get(i);u===void 0&&(u=o(this,i),typeof i=="function"&&this._listeners.set(i,u)),this._nativeEventTarget.addEventListener(s,u,a)}}dispatchEvent(s){return this._nativeEventTarget.dispatchEvent(s)}removeEventListener(s,i,a){const u=i===null?void 0:this._listeners.get(i);this._nativeEventTarget.removeEventListener(s,u===void 0?null:u,a)}},v_=o=>(e,s,i)=>{Object.defineProperties(o,{currentFrame:{configurable:!0,get(){return Math.round(e*s)}},currentTime:{configurable:!0,get(){return e}}});try{return i()}finally{o!==null&&(delete o.currentFrame,delete o.currentTime)}},y_=o=>async e=>{try{const s=await fetch(e);if(s.ok)return[await s.text(),s.url]}catch{}throw o()},__={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},w_=(o,e,s,i,a,u)=>class extends o{constructor(d,p){const m=a(d),g={...__,...p},v=i(m,g),k=u(m),_=k?s():null;super(d,!1,v,_),this._gain=e(this,k,v.gain,At,Vt)}get gain(){return this._gain}},k_=(o,e,s,i,a)=>()=>{const u=new WeakMap,h=async(d,p)=>{let m=s(d);const g=Ct(m,p);if(!g){const v={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,gain:m.gain.value};m=e(p,v)}return u.set(p,m),g?await o(p,d.gain,m.gain):await i(p,d.gain,m.gain),await a(d,p,m),m};return{render(d,p){const m=u.get(p);return m!==void 0?Promise.resolve(m):h(d,p)}}},x_=(o,e)=>s=>e(o,s),S_=o=>e=>{const s=o(e);if(s.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return s.renderer},T_=o=>e=>{var s;return(s=o.get(e))!==null&&s!==void 0?s:0},C_=o=>e=>{const s=o(e);if(s.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return s.renderer},N_=o=>e=>o.get(e),gt=()=>new DOMException("","InvalidStateError"),E_=o=>e=>{const s=o.get(e);if(s===void 0)throw gt();return s},A_=(o,e)=>s=>{let i=o.get(s);if(i!==void 0)return i;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return i=new e(1,1,44100),o.set(s,i),i},M_=o=>e=>{const s=o.get(e);if(s===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return s},ol=()=>new DOMException("","InvalidAccessError"),D_=o=>{o.getFrequencyResponse=(e=>(s,i,a)=>{if(s.length!==i.length||i.length!==a.length)throw ol();return e.call(o,s,i,a)})(o.getFrequencyResponse)},b_={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},O_=(o,e,s,i,a,u)=>class extends o{constructor(d,p){const m=i(d),g=a(m),v={...b_,...p},k=e(m,g?null:d.baseLatency,v),_=g?s(v.feedback,v.feedforward):null;super(d,!1,k,_),D_(k),this._nativeIIRFilterNode=k,u(this,1)}getFrequencyResponse(d,p,m){return this._nativeIIRFilterNode.getFrequencyResponse(d,p,m)}},Vp=(o,e,s,i,a,u,h,d,p,m,g)=>{const v=m.length;let k=d;for(let _=0;_<v;_+=1){let w=s[0]*m[_];for(let S=1;S<a;S+=1){const T=k-S&p-1;w+=s[S]*u[T],w-=o[S]*h[T]}for(let S=a;S<i;S+=1)w+=s[S]*u[k-S&p-1];for(let S=a;S<e;S+=1)w-=o[S]*h[k-S&p-1];u[k]=m[_],h[k]=w,k=k+1&p-1,g[_]=w}return k},I_=(o,e,s,i)=>{const a=s instanceof Float64Array?s:new Float64Array(s),u=i instanceof Float64Array?i:new Float64Array(i),h=a.length,d=u.length,p=Math.min(h,d);if(a[0]!==1){for(let w=0;w<h;w+=1)u[w]/=a[0];for(let w=1;w<d;w+=1)a[w]/=a[0]}const m=32,g=new Float32Array(m),v=new Float32Array(m),k=e.createBuffer(o.numberOfChannels,o.length,o.sampleRate),_=o.numberOfChannels;for(let w=0;w<_;w+=1){const S=o.getChannelData(w),T=k.getChannelData(w);g.fill(0),v.fill(0),Vp(a,h,u,d,p,g,v,0,m,S,T)}return k},R_=(o,e,s,i,a)=>(u,h)=>{const d=new WeakMap;let p=null;const m=async(g,v)=>{let k=null,_=e(g);const w=Ct(_,v);if(v.createIIRFilter===void 0?k=o(v,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):w||(_=v.createIIRFilter(h,u)),d.set(v,k===null?_:k),k!==null){if(p===null){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const T=new s(g.context.destination.channelCount,g.context.length,v.sampleRate);p=(async()=>{await i(g,T,T.destination);const N=await a(T);return I_(N,v,u,h)})()}const S=await p;return k.buffer=S,k.start(0),k}return await i(g,v,_),_};return{render(g,v){const k=d.get(v);return k!==void 0?Promise.resolve(k):m(g,v)}}},P_=(o,e,s,i,a,u)=>h=>(d,p)=>{const m=o.get(d);if(m===void 0){if(!h&&u(d)){const g=i(d),{outputs:v}=s(d);for(const k of v)if(ro(k)){const _=i(k[0]);e(g,_,k[1],k[2])}else{const _=a(k[0]);g.disconnect(_,k[1])}}o.set(d,p)}else o.set(d,m+p)},j_=(o,e)=>s=>{const i=o.get(s);return e(i)||e(s)},V_=(o,e)=>s=>o.has(s)||e(s),F_=(o,e)=>s=>o.has(s)||e(s),L_=(o,e)=>s=>{const i=o.get(s);return e(i)||e(s)},q_=o=>e=>o!==null&&e instanceof o,z_=o=>e=>o!==null&&typeof o.AudioNode=="function"&&e instanceof o.AudioNode,W_=o=>e=>o!==null&&typeof o.AudioParam=="function"&&e instanceof o.AudioParam,B_=(o,e)=>s=>o(s)||e(s),U_=o=>e=>o!==null&&e instanceof o,$_=o=>o!==null&&o.isSecureContext,H_=(o,e,s,i)=>class extends o{constructor(u,h){const d=s(u),p=e(d,h);if(i(d))throw TypeError();super(u,!0,p,null),this._nativeMediaElementAudioSourceNode=p}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},G_={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Q_=(o,e,s,i)=>class extends o{constructor(u,h){const d=s(u);if(i(d))throw new TypeError;const p={...G_,...h},m=e(d,p);super(u,!1,m,null),this._nativeMediaStreamAudioDestinationNode=m}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},Y_=(o,e,s,i)=>class extends o{constructor(u,h){const d=s(u),p=e(d,h);if(i(d))throw new TypeError;super(u,!0,p,null),this._nativeMediaStreamAudioSourceNode=p}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},X_=(o,e,s)=>class extends o{constructor(a,u){const h=s(a),d=e(h,u);super(a,!0,d,null)}},Z_=(o,e,s,i,a,u)=>class extends s{constructor(d,p){super(d),this._nativeContext=d,rl.set(this,d),i(d)&&a.set(d,new Set),this._destination=new o(this,p),this._listener=e(this,d),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(d){const p=typeof d=="function"?u(this,d):null;this._nativeContext.onstatechange=p;const m=this._nativeContext.onstatechange;this._onstatechange=m!==null&&m===p?d:m}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Fi=o=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const s=o.decodeAudioData(e.buffer,()=>{});return s===void 0?!1:(s.catch(()=>{}),!0)}catch{}return!1},K_=(o,e)=>(s,i,a)=>{const u=new Set;return s.connect=(h=>(d,p=0,m=0)=>{const g=u.size===0;if(e(d))return h.call(s,d,p,m),o(u,[d,p,m],v=>v[0]===d&&v[1]===p&&v[2]===m,!0),g&&i(),d;h.call(s,d,p),o(u,[d,p],v=>v[0]===d&&v[1]===p,!0),g&&i()})(s.connect),s.disconnect=(h=>(d,p,m)=>{const g=u.size>0;if(d===void 0)h.apply(s),u.clear();else if(typeof d=="number"){h.call(s,d);for(const k of u)k[1]===d&&u.delete(k)}else{e(d)?h.call(s,d,p,m):h.call(s,d,p);for(const k of u)k[0]===d&&(p===void 0||k[1]===p)&&(m===void 0||k[2]===m)&&u.delete(k)}const v=u.size===0;g&&v&&a()})(s.disconnect),s},Qe=(o,e,s)=>{const i=e[s];i!==void 0&&i!==o[s]&&(o[s]=i)},ht=(o,e)=>{Qe(o,e,"channelCount"),Qe(o,e,"channelCountMode"),Qe(o,e,"channelInterpretation")},up=o=>typeof o.getFloatTimeDomainData=="function",J_=o=>{o.getFloatTimeDomainData=e=>{const s=new Uint8Array(e.length);o.getByteTimeDomainData(s);const i=Math.max(s.length,o.fftSize);for(let a=0;a<i;a+=1)e[a]=(s[a]-128)*.0078125;return e}},e0=(o,e)=>(s,i)=>{const a=s.createAnalyser();if(ht(a,i),!(i.maxDecibels>i.minDecibels))throw e();return Qe(a,i,"fftSize"),Qe(a,i,"maxDecibels"),Qe(a,i,"minDecibels"),Qe(a,i,"smoothingTimeConstant"),o(up,()=>up(a))||J_(a),a},t0=o=>o===null?null:o.hasOwnProperty("AudioBuffer")?o.AudioBuffer:null,et=(o,e,s)=>{const i=e[s];i!==void 0&&i!==o[s].value&&(o[s].value=i)},n0=o=>{o.start=(e=>{let s=!1;return(i=0,a=0,u)=>{if(s)throw gt();e.call(o,i,a,u),s=!0}})(o.start)},Oc=o=>{o.start=(e=>(s=0,i=0,a)=>{if(typeof a=="number"&&a<0||i<0||s<0)throw new RangeError("The parameters can't be negative.");e.call(o,s,i,a)})(o.start)},Ic=o=>{o.stop=(e=>(s=0)=>{if(s<0)throw new RangeError("The parameter can't be negative.");e.call(o,s)})(o.stop)},s0=(o,e,s,i,a,u,h,d,p,m,g)=>(v,k)=>{const _=v.createBufferSource();return ht(_,k),et(_,k,"playbackRate"),Qe(_,k,"buffer"),Qe(_,k,"loop"),Qe(_,k,"loopEnd"),Qe(_,k,"loopStart"),e(s,()=>s(v))||n0(_),e(i,()=>i(v))||p(_),e(a,()=>a(v))||m(_,v),e(u,()=>u(v))||Oc(_),e(h,()=>h(v))||g(_,v),e(d,()=>d(v))||Ic(_),o(v,_),_},r0=o=>o===null?null:o.hasOwnProperty("AudioContext")?o.AudioContext:o.hasOwnProperty("webkitAudioContext")?o.webkitAudioContext:null,i0=(o,e)=>(s,i,a)=>{const u=s.destination;if(u.channelCount!==i)try{u.channelCount=i}catch{}a&&u.channelCountMode!=="explicit"&&(u.channelCountMode="explicit"),u.maxChannelCount===0&&Object.defineProperty(u,"maxChannelCount",{value:i});const h=o(s,{channelCount:i,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:1});return e(h,"channelCount",d=>()=>d.call(h),d=>p=>{d.call(h,p);try{u.channelCount=p}catch(m){if(p>u.maxChannelCount)throw m}}),e(h,"channelCountMode",d=>()=>d.call(h),d=>p=>{d.call(h,p),u.channelCountMode=p}),e(h,"channelInterpretation",d=>()=>d.call(h),d=>p=>{d.call(h,p),u.channelInterpretation=p}),Object.defineProperty(h,"maxChannelCount",{get:()=>u.maxChannelCount}),h.connect(u),h},o0=o=>o===null?null:o.hasOwnProperty("AudioWorkletNode")?o.AudioWorkletNode:null,a0=o=>{const{port1:e}=new MessageChannel;try{e.postMessage(o)}finally{e.close()}},l0=(o,e,s,i,a)=>(u,h,d,p,m,g)=>{if(d!==null)try{const v=new d(u,p,g),k=new Map;let _=null;if(Object.defineProperties(v,{channelCount:{get:()=>g.channelCount,set:()=>{throw o()}},channelCountMode:{get:()=>"explicit",set:()=>{throw o()}},onprocessorerror:{get:()=>_,set:w=>{typeof _=="function"&&v.removeEventListener("processorerror",_),_=typeof w=="function"?w:null,typeof _=="function"&&v.addEventListener("processorerror",_)}}}),v.addEventListener=(w=>(...S)=>{if(S[0]==="processorerror"){const T=typeof S[1]=="function"?S[1]:typeof S[1]=="object"&&S[1]!==null&&typeof S[1].handleEvent=="function"?S[1].handleEvent:null;if(T!==null){const N=k.get(S[1]);N!==void 0?S[1]=N:(S[1]=j=>{j.type==="error"?(Object.defineProperties(j,{type:{value:"processorerror"}}),T(j)):T(new ErrorEvent(S[0],{...j}))},k.set(T,S[1]))}}return w.call(v,"error",S[1],S[2]),w.call(v,...S)})(v.addEventListener),v.removeEventListener=(w=>(...S)=>{if(S[0]==="processorerror"){const T=k.get(S[1]);T!==void 0&&(k.delete(S[1]),S[1]=T)}return w.call(v,"error",S[1],S[2]),w.call(v,S[0],S[1],S[2])})(v.removeEventListener),g.numberOfOutputs!==0){const w=s(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return v.connect(w).connect(u.destination),a(v,()=>w.disconnect(),()=>w.connect(u.destination))}return v}catch(v){throw v.code===11?i():v}if(m===void 0)throw i();return a0(g),e(u,h,m,g)},Fp=(o,e)=>o===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(o*e))))),u0=o=>new Promise((e,s)=>{const{port1:i,port2:a}=new MessageChannel;i.onmessage=({data:u})=>{i.close(),a.close(),e(u)},i.onmessageerror=({data:u})=>{i.close(),a.close(),s(u)},a.postMessage(o)}),c0=async(o,e)=>{const s=await u0(e);return new o(s)},h0=(o,e,s,i)=>{let a=_c.get(o);a===void 0&&(a=new WeakMap,_c.set(o,a));const u=c0(s,i);return a.set(e,u),u},d0=(o,e,s,i,a,u,h,d,p,m,g,v,k)=>(_,w,S,T)=>{if(T.numberOfInputs===0&&T.numberOfOutputs===0)throw p();const N=Array.isArray(T.outputChannelCount)?T.outputChannelCount:Array.from(T.outputChannelCount);if(N.some(ae=>ae<1))throw p();if(N.length!==T.numberOfOutputs)throw e();if(T.channelCountMode!=="explicit")throw p();const j=T.channelCount*T.numberOfInputs,R=N.reduce((ae,we)=>ae+we,0),F=S.parameterDescriptors===void 0?0:S.parameterDescriptors.length;if(j+F>6||R>6)throw p();const A=new MessageChannel,b=[],I=[];for(let ae=0;ae<T.numberOfInputs;ae+=1)b.push(h(_,{channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,gain:1})),I.push(a(_,{channelCount:T.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:T.channelCount}));const D=[];if(S.parameterDescriptors!==void 0)for(const{defaultValue:ae,maxValue:we,minValue:Ye,name:Le}of S.parameterDescriptors){const Me=u(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:T.parameterData[Le]!==void 0?T.parameterData[Le]:ae===void 0?0:ae});Object.defineProperties(Me.offset,{defaultValue:{get:()=>ae===void 0?0:ae},maxValue:{get:()=>we===void 0?At:we},minValue:{get:()=>Ye===void 0?Vt:Ye}}),D.push(Me)}const W=i(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,j+F)}),B=Fp(w,_.sampleRate),U=d(_,B,j+F,Math.max(1,R)),q=a(_,{channelCount:Math.max(1,R),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,R)}),re=[];for(let ae=0;ae<T.numberOfOutputs;ae+=1)re.push(i(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:N[ae]}));for(let ae=0;ae<T.numberOfInputs;ae+=1){b[ae].connect(I[ae]);for(let we=0;we<T.channelCount;we+=1)I[ae].connect(W,we,ae*T.channelCount+we)}const Y=new Pp(S.parameterDescriptors===void 0?[]:S.parameterDescriptors.map(({name:ae},we)=>{const Ye=D[we];return Ye.connect(W,0,j+we),Ye.start(0),[ae,Ye.offset]}));W.connect(U);let se=T.channelInterpretation,X=null;const Z=T.numberOfOutputs===0?[U]:re,$={get bufferSize(){return B},get channelCount(){return T.channelCount},set channelCount(ae){throw s()},get channelCountMode(){return T.channelCountMode},set channelCountMode(ae){throw s()},get channelInterpretation(){return se},set channelInterpretation(ae){for(const we of b)we.channelInterpretation=ae;se=ae},get context(){return U.context},get inputs(){return b},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},get onprocessorerror(){return X},set onprocessorerror(ae){typeof X=="function"&&$.removeEventListener("processorerror",X),X=typeof ae=="function"?ae:null,typeof X=="function"&&$.addEventListener("processorerror",X)},get parameters(){return Y},get port(){return A.port2},addEventListener(...ae){return U.addEventListener(ae[0],ae[1],ae[2])},connect:o.bind(null,Z),disconnect:m.bind(null,Z),dispatchEvent(...ae){return U.dispatchEvent(ae[0])},removeEventListener(...ae){return U.removeEventListener(ae[0],ae[1],ae[2])}},G=new Map;A.port1.addEventListener=(ae=>(...we)=>{if(we[0]==="message"){const Ye=typeof we[1]=="function"?we[1]:typeof we[1]=="object"&&we[1]!==null&&typeof we[1].handleEvent=="function"?we[1].handleEvent:null;if(Ye!==null){const Le=G.get(we[1]);Le!==void 0?we[1]=Le:(we[1]=Me=>{g(_.currentTime,_.sampleRate,()=>Ye(Me))},G.set(Ye,we[1]))}}return ae.call(A.port1,we[0],we[1],we[2])})(A.port1.addEventListener),A.port1.removeEventListener=(ae=>(...we)=>{if(we[0]==="message"){const Ye=G.get(we[1]);Ye!==void 0&&(G.delete(we[1]),we[1]=Ye)}return ae.call(A.port1,we[0],we[1],we[2])})(A.port1.removeEventListener);let Q=null;Object.defineProperty(A.port1,"onmessage",{get:()=>Q,set:ae=>{typeof Q=="function"&&A.port1.removeEventListener("message",Q),Q=typeof ae=="function"?ae:null,typeof Q=="function"&&(A.port1.addEventListener("message",Q),A.port1.start())}}),S.prototype.port=A.port1;let E=null;h0(_,$,S,T).then(ae=>E=ae);const me=La(T.numberOfInputs,T.channelCount),ge=La(T.numberOfOutputs,N),te=S.parameterDescriptors===void 0?[]:S.parameterDescriptors.reduce((ae,{name:we})=>({...ae,[we]:new Float32Array(128)}),{});let ue=!0;const _e=()=>{T.numberOfOutputs>0&&U.disconnect(q);for(let ae=0,we=0;ae<T.numberOfOutputs;ae+=1){const Ye=re[ae];for(let Le=0;Le<N[ae];Le+=1)q.disconnect(Ye,we+Le,Le);we+=N[ae]}},oe=new Map;U.onaudioprocess=({inputBuffer:ae,outputBuffer:we})=>{if(E!==null){const Ye=v($);for(let Le=0;Le<B;Le+=128){for(let Me=0;Me<T.numberOfInputs;Me+=1)for(let je=0;je<T.channelCount;je+=1)Fa(ae,me[Me],je,je,Le);S.parameterDescriptors!==void 0&&S.parameterDescriptors.forEach(({name:Me},je)=>{Fa(ae,te,Me,j+je,Le)});for(let Me=0;Me<T.numberOfInputs;Me+=1)for(let je=0;je<N[Me];je+=1)ge[Me][je].byteLength===0&&(ge[Me][je]=new Float32Array(128));try{const Me=me.map((lt,Yt)=>{if(Ye[Yt].size>0)return oe.set(Yt,B/128),lt;const sr=oe.get(Yt);return sr===void 0?[]:(lt.every(fo=>fo.every(po=>po===0))&&(sr===1?oe.delete(Yt):oe.set(Yt,sr-1)),lt)});ue=g(_.currentTime+Le/_.sampleRate,_.sampleRate,()=>E.process(Me,ge,te));for(let lt=0,Yt=0;lt<T.numberOfOutputs;lt+=1){for(let Jn=0;Jn<N[lt];Jn+=1)jp(we,ge[lt],Jn,Yt+Jn,Le);Yt+=N[lt]}}catch(Me){ue=!1,$.dispatchEvent(new ErrorEvent("processorerror",{colno:Me.colno,filename:Me.filename,lineno:Me.lineno,message:Me.message}))}if(!ue){for(let Me=0;Me<T.numberOfInputs;Me+=1){b[Me].disconnect(I[Me]);for(let je=0;je<T.channelCount;je+=1)I[Le].disconnect(W,je,Me*T.channelCount+je)}if(S.parameterDescriptors!==void 0){const Me=S.parameterDescriptors.length;for(let je=0;je<Me;je+=1){const lt=D[je];lt.disconnect(W,0,j+je),lt.stop()}}W.disconnect(U),U.onaudioprocess=null,Oe?_e():In();break}}}};let Oe=!1;const tt=h(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),rn=()=>U.connect(tt).connect(_.destination),In=()=>{U.disconnect(tt),tt.disconnect()},nr=()=>{if(ue){In(),T.numberOfOutputs>0&&U.connect(q);for(let ae=0,we=0;ae<T.numberOfOutputs;ae+=1){const Ye=re[ae];for(let Le=0;Le<N[ae];Le+=1)q.connect(Ye,we+Le,Le);we+=N[ae]}}Oe=!0},Yr=()=>{ue&&(rn(),_e()),Oe=!1};return rn(),k($,nr,Yr)},Lp=(o,e)=>{const s=o.createBiquadFilter();return ht(s,e),et(s,e,"Q"),et(s,e,"detune"),et(s,e,"frequency"),et(s,e,"gain"),Qe(s,e,"type"),s},f0=(o,e)=>(s,i)=>{const a=s.createChannelMerger(i.numberOfInputs);return o!==null&&o.name==="webkitAudioContext"&&e(s,a),ht(a,i),a},p0=o=>{const e=o.numberOfOutputs;Object.defineProperty(o,"channelCount",{get:()=>e,set:s=>{if(s!==e)throw gt()}}),Object.defineProperty(o,"channelCountMode",{get:()=>"explicit",set:s=>{if(s!=="explicit")throw gt()}}),Object.defineProperty(o,"channelInterpretation",{get:()=>"discrete",set:s=>{if(s!=="discrete")throw gt()}})},io=(o,e)=>{const s=o.createChannelSplitter(e.numberOfOutputs);return ht(s,e),p0(s),s},m0=(o,e,s,i,a)=>(u,h)=>{if(u.createConstantSource===void 0)return s(u,h);const d=u.createConstantSource();return ht(d,h),et(d,h,"offset"),e(i,()=>i(u))||Oc(d),e(a,()=>a(u))||Ic(d),o(u,d),d},$r=(o,e)=>(o.connect=e.connect.bind(e),o.disconnect=e.disconnect.bind(e),o),g0=(o,e,s,i)=>(a,{offset:u,...h})=>{const d=a.createBuffer(1,2,44100),p=e(a,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),m=s(a,{...h,gain:u}),g=d.getChannelData(0);g[0]=1,g[1]=1,p.buffer=d,p.loop=!0;const v={get bufferSize(){},get channelCount(){return m.channelCount},set channelCount(w){m.channelCount=w},get channelCountMode(){return m.channelCountMode},set channelCountMode(w){m.channelCountMode=w},get channelInterpretation(){return m.channelInterpretation},set channelInterpretation(w){m.channelInterpretation=w},get context(){return m.context},get inputs(){return[]},get numberOfInputs(){return p.numberOfInputs},get numberOfOutputs(){return m.numberOfOutputs},get offset(){return m.gain},get onended(){return p.onended},set onended(w){p.onended=w},addEventListener(...w){return p.addEventListener(w[0],w[1],w[2])},dispatchEvent(...w){return p.dispatchEvent(w[0])},removeEventListener(...w){return p.removeEventListener(w[0],w[1],w[2])},start(w=0){p.start.call(p,w)},stop(w=0){p.stop.call(p,w)}},k=()=>p.connect(m),_=()=>p.disconnect(m);return o(a,p),i($r(v,m),k,_)},v0=(o,e)=>(s,i)=>{const a=s.createConvolver();if(ht(a,i),i.disableNormalization===a.normalize&&(a.normalize=!i.disableNormalization),Qe(a,i,"buffer"),i.channelCount>2||(e(a,"channelCount",u=>()=>u.call(a),u=>h=>{if(h>2)throw o();return u.call(a,h)}),i.channelCountMode==="max"))throw o();return e(a,"channelCountMode",u=>()=>u.call(a),u=>h=>{if(h==="max")throw o();return u.call(a,h)}),a},qp=(o,e)=>{const s=o.createDelay(e.maxDelayTime);return ht(s,e),et(s,e,"delayTime"),s},y0=o=>(e,s)=>{const i=e.createDynamicsCompressor();if(ht(i,s),s.channelCount>2||s.channelCountMode==="max")throw o();return et(i,s,"attack"),et(i,s,"knee"),et(i,s,"ratio"),et(i,s,"release"),et(i,s,"threshold"),i},zt=(o,e)=>{const s=o.createGain();return ht(s,e),et(s,e,"gain"),s},_0=o=>(e,s,i)=>{if(e.createIIRFilter===void 0)return o(e,s,i);const a=e.createIIRFilter(i.feedforward,i.feedback);return ht(a,i),a};function w0(o,e){const s=e[0]*e[0]+e[1]*e[1];return[(o[0]*e[0]+o[1]*e[1])/s,(o[1]*e[0]-o[0]*e[1])/s]}function k0(o,e){return[o[0]*e[0]-o[1]*e[1],o[0]*e[1]+o[1]*e[0]]}function cp(o,e){let s=[0,0];for(let i=o.length-1;i>=0;i-=1)s=k0(s,e),s[0]+=o[i];return s}const x0=(o,e,s,i)=>(a,u,{channelCount:h,channelCountMode:d,channelInterpretation:p,feedback:m,feedforward:g})=>{const v=Fp(u,a.sampleRate),k=m instanceof Float64Array?m:new Float64Array(m),_=g instanceof Float64Array?g:new Float64Array(g),w=k.length,S=_.length,T=Math.min(w,S);if(w===0||w>20)throw i();if(k[0]===0)throw e();if(S===0||S>20)throw i();if(_[0]===0)throw e();if(k[0]!==1){for(let D=0;D<S;D+=1)_[D]/=k[0];for(let D=1;D<w;D+=1)k[D]/=k[0]}const N=s(a,v,h,h);N.channelCount=h,N.channelCountMode=d,N.channelInterpretation=p;const j=32,R=[],F=[],A=[];for(let D=0;D<h;D+=1){R.push(0);const W=new Float32Array(j),B=new Float32Array(j);W.fill(0),B.fill(0),F.push(W),A.push(B)}N.onaudioprocess=D=>{const W=D.inputBuffer,B=D.outputBuffer,U=W.numberOfChannels;for(let q=0;q<U;q+=1){const re=W.getChannelData(q),Y=B.getChannelData(q);R[q]=Vp(k,w,_,S,T,F[q],A[q],R[q],j,re,Y)}};const b=a.sampleRate/2;return $r({get bufferSize(){return v},get channelCount(){return N.channelCount},set channelCount(D){N.channelCount=D},get channelCountMode(){return N.channelCountMode},set channelCountMode(D){N.channelCountMode=D},get channelInterpretation(){return N.channelInterpretation},set channelInterpretation(D){N.channelInterpretation=D},get context(){return N.context},get inputs(){return[N]},get numberOfInputs(){return N.numberOfInputs},get numberOfOutputs(){return N.numberOfOutputs},addEventListener(...D){return N.addEventListener(D[0],D[1],D[2])},dispatchEvent(...D){return N.dispatchEvent(D[0])},getFrequencyResponse(D,W,B){if(D.length!==W.length||W.length!==B.length)throw o();const U=D.length;for(let q=0;q<U;q+=1){const re=-Math.PI*(D[q]/b),Y=[Math.cos(re),Math.sin(re)],se=cp(_,Y),X=cp(k,Y),Z=w0(se,X);W[q]=Math.sqrt(Z[0]*Z[0]+Z[1]*Z[1]),B[q]=Math.atan2(Z[1],Z[0])}},removeEventListener(...D){return N.removeEventListener(D[0],D[1],D[2])}},N)},S0=(o,e)=>o.createMediaElementSource(e.mediaElement),T0=(o,e)=>{const s=o.createMediaStreamDestination();return ht(s,e),s.numberOfOutputs===1&&Object.defineProperty(s,"numberOfOutputs",{get:()=>0}),s},C0=(o,{mediaStream:e})=>{const s=e.getAudioTracks();s.sort((u,h)=>u.id<h.id?-1:u.id>h.id?1:0);const i=s.slice(0,1),a=o.createMediaStreamSource(new MediaStream(i));return Object.defineProperty(a,"mediaStream",{value:e}),a},N0=(o,e)=>(s,{mediaStreamTrack:i})=>{if(typeof s.createMediaStreamTrackSource=="function")return s.createMediaStreamTrackSource(i);const a=new MediaStream([i]),u=s.createMediaStreamSource(a);if(i.kind!=="audio")throw o();if(e(s))throw new TypeError;return u},E0=o=>o===null?null:o.hasOwnProperty("OfflineAudioContext")?o.OfflineAudioContext:o.hasOwnProperty("webkitOfflineAudioContext")?o.webkitOfflineAudioContext:null,A0=(o,e,s,i,a,u)=>(h,d)=>{const p=h.createOscillator();return ht(p,d),et(p,d,"detune"),et(p,d,"frequency"),d.periodicWave!==void 0?p.setPeriodicWave(d.periodicWave):Qe(p,d,"type"),e(s,()=>s(h))||Oc(p),e(i,()=>i(h))||u(p,h),e(a,()=>a(h))||Ic(p),o(h,p),p},M0=o=>(e,s)=>{const i=e.createPanner();return i.orientationX===void 0?o(e,s):(ht(i,s),et(i,s,"orientationX"),et(i,s,"orientationY"),et(i,s,"orientationZ"),et(i,s,"positionX"),et(i,s,"positionY"),et(i,s,"positionZ"),Qe(i,s,"coneInnerAngle"),Qe(i,s,"coneOuterAngle"),Qe(i,s,"coneOuterGain"),Qe(i,s,"distanceModel"),Qe(i,s,"maxDistance"),Qe(i,s,"panningModel"),Qe(i,s,"refDistance"),Qe(i,s,"rolloffFactor"),i)},D0=(o,e,s,i,a,u,h,d,p,m)=>(g,{coneInnerAngle:v,coneOuterAngle:k,coneOuterGain:_,distanceModel:w,maxDistance:S,orientationX:T,orientationY:N,orientationZ:j,panningModel:R,positionX:F,positionY:A,positionZ:b,refDistance:I,rolloffFactor:D,...W})=>{const B=g.createPanner();if(W.channelCount>2||W.channelCountMode==="max")throw h();ht(B,W);const U={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},q=s(g,{...U,channelInterpretation:"speakers",numberOfInputs:6}),re=i(g,{...W,gain:1}),Y=i(g,{...U,gain:1}),se=i(g,{...U,gain:0}),X=i(g,{...U,gain:0}),Z=i(g,{...U,gain:0}),$=i(g,{...U,gain:0}),G=i(g,{...U,gain:0}),Q=a(g,256,6,1),E=u(g,{...U,curve:new Float32Array([1,1]),oversample:"none"});let z=[T,N,j],me=[F,A,b];const ge=new Float32Array(1);Q.onaudioprocess=({inputBuffer:oe})=>{const Oe=[p(oe,ge,0),p(oe,ge,1),p(oe,ge,2)];Oe.some((rn,In)=>rn!==z[In])&&(B.setOrientation(...Oe),z=Oe);const tt=[p(oe,ge,3),p(oe,ge,4),p(oe,ge,5)];tt.some((rn,In)=>rn!==me[In])&&(B.setPosition(...tt),me=tt)},Object.defineProperty(se.gain,"defaultValue",{get:()=>0}),Object.defineProperty(X.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Z.gain,"defaultValue",{get:()=>0}),Object.defineProperty($.gain,"defaultValue",{get:()=>0}),Object.defineProperty(G.gain,"defaultValue",{get:()=>0});const te={get bufferSize(){},get channelCount(){return B.channelCount},set channelCount(oe){if(oe>2)throw h();re.channelCount=oe,B.channelCount=oe},get channelCountMode(){return B.channelCountMode},set channelCountMode(oe){if(oe==="max")throw h();re.channelCountMode=oe,B.channelCountMode=oe},get channelInterpretation(){return B.channelInterpretation},set channelInterpretation(oe){re.channelInterpretation=oe,B.channelInterpretation=oe},get coneInnerAngle(){return B.coneInnerAngle},set coneInnerAngle(oe){B.coneInnerAngle=oe},get coneOuterAngle(){return B.coneOuterAngle},set coneOuterAngle(oe){B.coneOuterAngle=oe},get coneOuterGain(){return B.coneOuterGain},set coneOuterGain(oe){if(oe<0||oe>1)throw e();B.coneOuterGain=oe},get context(){return B.context},get distanceModel(){return B.distanceModel},set distanceModel(oe){B.distanceModel=oe},get inputs(){return[re]},get maxDistance(){return B.maxDistance},set maxDistance(oe){if(oe<0)throw new RangeError;B.maxDistance=oe},get numberOfInputs(){return B.numberOfInputs},get numberOfOutputs(){return B.numberOfOutputs},get orientationX(){return Y.gain},get orientationY(){return se.gain},get orientationZ(){return X.gain},get panningModel(){return B.panningModel},set panningModel(oe){B.panningModel=oe},get positionX(){return Z.gain},get positionY(){return $.gain},get positionZ(){return G.gain},get refDistance(){return B.refDistance},set refDistance(oe){if(oe<0)throw new RangeError;B.refDistance=oe},get rolloffFactor(){return B.rolloffFactor},set rolloffFactor(oe){if(oe<0)throw new RangeError;B.rolloffFactor=oe},addEventListener(...oe){return re.addEventListener(oe[0],oe[1],oe[2])},dispatchEvent(...oe){return re.dispatchEvent(oe[0])},removeEventListener(...oe){return re.removeEventListener(oe[0],oe[1],oe[2])}};v!==te.coneInnerAngle&&(te.coneInnerAngle=v),k!==te.coneOuterAngle&&(te.coneOuterAngle=k),_!==te.coneOuterGain&&(te.coneOuterGain=_),w!==te.distanceModel&&(te.distanceModel=w),S!==te.maxDistance&&(te.maxDistance=S),T!==te.orientationX.value&&(te.orientationX.value=T),N!==te.orientationY.value&&(te.orientationY.value=N),j!==te.orientationZ.value&&(te.orientationZ.value=j),R!==te.panningModel&&(te.panningModel=R),F!==te.positionX.value&&(te.positionX.value=F),A!==te.positionY.value&&(te.positionY.value=A),b!==te.positionZ.value&&(te.positionZ.value=b),I!==te.refDistance&&(te.refDistance=I),D!==te.rolloffFactor&&(te.rolloffFactor=D),(z[0]!==1||z[1]!==0||z[2]!==0)&&B.setOrientation(...z),(me[0]!==0||me[1]!==0||me[2]!==0)&&B.setPosition(...me);const ue=()=>{re.connect(B),o(re,E,0,0),E.connect(Y).connect(q,0,0),E.connect(se).connect(q,0,1),E.connect(X).connect(q,0,2),E.connect(Z).connect(q,0,3),E.connect($).connect(q,0,4),E.connect(G).connect(q,0,5),q.connect(Q).connect(g.destination)},_e=()=>{re.disconnect(B),d(re,E,0,0),E.disconnect(Y),Y.disconnect(q),E.disconnect(se),se.disconnect(q),E.disconnect(X),X.disconnect(q),E.disconnect(Z),Z.disconnect(q),E.disconnect($),$.disconnect(q),E.disconnect(G),G.disconnect(q),q.disconnect(Q),Q.disconnect(g.destination)};return m($r(te,B),ue,_e)},b0=o=>(e,{disableNormalization:s,imag:i,real:a})=>{const u=i instanceof Float32Array?i:new Float32Array(i),h=a instanceof Float32Array?a:new Float32Array(a),d=e.createPeriodicWave(h,u,{disableNormalization:s});if(Array.from(i).length<2)throw o();return d},oo=(o,e,s,i)=>o.createScriptProcessor(e,s,i),O0=(o,e)=>(s,i)=>{const a=i.channelCountMode;if(a==="clamped-max")throw e();if(s.createStereoPanner===void 0)return o(s,i);const u=s.createStereoPanner();return ht(u,i),et(u,i,"pan"),Object.defineProperty(u,"channelCountMode",{get:()=>a,set:h=>{if(h!==a)throw e()}}),u},I0=(o,e,s,i,a,u)=>{const d=new Float32Array([1,1]),p=Math.PI/2,m={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},g={...m,oversample:"none"},v=(w,S,T,N)=>{const j=new Float32Array(16385),R=new Float32Array(16385);for(let W=0;W<16385;W+=1){const B=W/16384*p;j[W]=Math.cos(B),R[W]=Math.sin(B)}const F=s(w,{...m,gain:0}),A=i(w,{...g,curve:j}),b=i(w,{...g,curve:d}),I=s(w,{...m,gain:0}),D=i(w,{...g,curve:R});return{connectGraph(){S.connect(F),S.connect(b.inputs===void 0?b:b.inputs[0]),S.connect(I),b.connect(T),T.connect(A.inputs===void 0?A:A.inputs[0]),T.connect(D.inputs===void 0?D:D.inputs[0]),A.connect(F.gain),D.connect(I.gain),F.connect(N,0,0),I.connect(N,0,1)},disconnectGraph(){S.disconnect(F),S.disconnect(b.inputs===void 0?b:b.inputs[0]),S.disconnect(I),b.disconnect(T),T.disconnect(A.inputs===void 0?A:A.inputs[0]),T.disconnect(D.inputs===void 0?D:D.inputs[0]),A.disconnect(F.gain),D.disconnect(I.gain),F.disconnect(N,0,0),I.disconnect(N,0,1)}}},k=(w,S,T,N)=>{const j=new Float32Array(16385),R=new Float32Array(16385),F=new Float32Array(16385),A=new Float32Array(16385),b=Math.floor(16385/2);for(let Z=0;Z<16385;Z+=1)if(Z>b){const $=(Z-b)/(16384-b)*p;j[Z]=Math.cos($),R[Z]=Math.sin($),F[Z]=0,A[Z]=1}else{const $=Z/(16384-b)*p;j[Z]=1,R[Z]=0,F[Z]=Math.cos($),A[Z]=Math.sin($)}const I=e(w,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),D=s(w,{...m,gain:0}),W=i(w,{...g,curve:j}),B=s(w,{...m,gain:0}),U=i(w,{...g,curve:R}),q=i(w,{...g,curve:d}),re=s(w,{...m,gain:0}),Y=i(w,{...g,curve:F}),se=s(w,{...m,gain:0}),X=i(w,{...g,curve:A});return{connectGraph(){S.connect(I),S.connect(q.inputs===void 0?q:q.inputs[0]),I.connect(D,0),I.connect(B,0),I.connect(re,1),I.connect(se,1),q.connect(T),T.connect(W.inputs===void 0?W:W.inputs[0]),T.connect(U.inputs===void 0?U:U.inputs[0]),T.connect(Y.inputs===void 0?Y:Y.inputs[0]),T.connect(X.inputs===void 0?X:X.inputs[0]),W.connect(D.gain),U.connect(B.gain),Y.connect(re.gain),X.connect(se.gain),D.connect(N,0,0),re.connect(N,0,0),B.connect(N,0,1),se.connect(N,0,1)},disconnectGraph(){S.disconnect(I),S.disconnect(q.inputs===void 0?q:q.inputs[0]),I.disconnect(D,0),I.disconnect(B,0),I.disconnect(re,1),I.disconnect(se,1),q.disconnect(T),T.disconnect(W.inputs===void 0?W:W.inputs[0]),T.disconnect(U.inputs===void 0?U:U.inputs[0]),T.disconnect(Y.inputs===void 0?Y:Y.inputs[0]),T.disconnect(X.inputs===void 0?X:X.inputs[0]),W.disconnect(D.gain),U.disconnect(B.gain),Y.disconnect(re.gain),X.disconnect(se.gain),D.disconnect(N,0,0),re.disconnect(N,0,0),B.disconnect(N,0,1),se.disconnect(N,0,1)}}},_=(w,S,T,N,j)=>{if(S===1)return v(w,T,N,j);if(S===2)return k(w,T,N,j);throw a()};return(w,{channelCount:S,channelCountMode:T,pan:N,...j})=>{if(T==="max")throw a();const R=o(w,{...j,channelCount:1,channelCountMode:T,numberOfInputs:2}),F=s(w,{...j,channelCount:S,channelCountMode:T,gain:1}),A=s(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:N});let{connectGraph:b,disconnectGraph:I}=_(w,S,F,A,R);Object.defineProperty(A.gain,"defaultValue",{get:()=>0}),Object.defineProperty(A.gain,"maxValue",{get:()=>1}),Object.defineProperty(A.gain,"minValue",{get:()=>-1});const D={get bufferSize(){},get channelCount(){return F.channelCount},set channelCount(q){F.channelCount!==q&&(W&&I(),{connectGraph:b,disconnectGraph:I}=_(w,q,F,A,R),W&&b()),F.channelCount=q},get channelCountMode(){return F.channelCountMode},set channelCountMode(q){if(q==="clamped-max"||q==="max")throw a();F.channelCountMode=q},get channelInterpretation(){return F.channelInterpretation},set channelInterpretation(q){F.channelInterpretation=q},get context(){return F.context},get inputs(){return[F]},get numberOfInputs(){return F.numberOfInputs},get numberOfOutputs(){return F.numberOfOutputs},get pan(){return A.gain},addEventListener(...q){return F.addEventListener(q[0],q[1],q[2])},dispatchEvent(...q){return F.dispatchEvent(q[0])},removeEventListener(...q){return F.removeEventListener(q[0],q[1],q[2])}};let W=!1;const B=()=>{b(),W=!0},U=()=>{I(),W=!1};return u($r(D,R),B,U)}},R0=(o,e,s,i,a,u,h)=>(d,p)=>{const m=d.createWaveShaper();if(u!==null&&u.name==="webkitAudioContext"&&d.createGain().gain.automationRate===void 0)return s(d,p);ht(m,p);const g=p.curve===null||p.curve instanceof Float32Array?p.curve:new Float32Array(p.curve);if(g!==null&&g.length<2)throw e();Qe(m,{curve:g},"curve"),Qe(m,p,"oversample");let v=null,k=!1;return h(m,"curve",S=>()=>S.call(m),S=>T=>(S.call(m,T),k&&(i(T)&&v===null?v=o(d,m):!i(T)&&v!==null&&(v(),v=null)),T)),a(m,()=>{k=!0,i(m.curve)&&(v=o(d,m))},()=>{k=!1,v!==null&&(v(),v=null)})},P0=(o,e,s,i,a)=>(u,{curve:h,oversample:d,...p})=>{const m=u.createWaveShaper(),g=u.createWaveShaper();ht(m,p),ht(g,p);const v=s(u,{...p,gain:1}),k=s(u,{...p,gain:-1}),_=s(u,{...p,gain:1}),w=s(u,{...p,gain:-1});let S=null,T=!1,N=null;const j={get bufferSize(){},get channelCount(){return m.channelCount},set channelCount(A){v.channelCount=A,k.channelCount=A,m.channelCount=A,_.channelCount=A,g.channelCount=A,w.channelCount=A},get channelCountMode(){return m.channelCountMode},set channelCountMode(A){v.channelCountMode=A,k.channelCountMode=A,m.channelCountMode=A,_.channelCountMode=A,g.channelCountMode=A,w.channelCountMode=A},get channelInterpretation(){return m.channelInterpretation},set channelInterpretation(A){v.channelInterpretation=A,k.channelInterpretation=A,m.channelInterpretation=A,_.channelInterpretation=A,g.channelInterpretation=A,w.channelInterpretation=A},get context(){return m.context},get curve(){return N},set curve(A){if(A!==null&&A.length<2)throw e();if(A===null)m.curve=A,g.curve=A;else{const b=A.length,I=new Float32Array(b+2-b%2),D=new Float32Array(b+2-b%2);I[0]=A[0],D[0]=-A[b-1];const W=Math.ceil((b+1)/2),B=(b+1)/2-1;for(let U=1;U<W;U+=1){const q=U/W*B,re=Math.floor(q),Y=Math.ceil(q);I[U]=re===Y?A[re]:(1-(q-re))*A[re]+(1-(Y-q))*A[Y],D[U]=re===Y?-A[b-1-re]:-((1-(q-re))*A[b-1-re])-(1-(Y-q))*A[b-1-Y]}I[W]=b%2===1?A[W-1]:(A[W-2]+A[W-1])/2,m.curve=I,g.curve=D}N=A,T&&(i(N)&&S===null?S=o(u,v):S!==null&&(S(),S=null))},get inputs(){return[v]},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return m.numberOfOutputs},get oversample(){return m.oversample},set oversample(A){m.oversample=A,g.oversample=A},addEventListener(...A){return v.addEventListener(A[0],A[1],A[2])},dispatchEvent(...A){return v.dispatchEvent(A[0])},removeEventListener(...A){return v.removeEventListener(A[0],A[1],A[2])}};h!==null&&(j.curve=h instanceof Float32Array?h:new Float32Array(h)),d!==j.oversample&&(j.oversample=d);const R=()=>{v.connect(m).connect(_),v.connect(k).connect(g).connect(w).connect(_),T=!0,i(N)&&(S=o(u,v))},F=()=>{v.disconnect(m),m.disconnect(_),v.disconnect(k),k.disconnect(g),g.disconnect(w),w.disconnect(_),T=!1,S!==null&&(S(),S=null)};return a($r(j,_),R,F)},Dt=()=>new DOMException("","NotSupportedError"),j0={numberOfChannels:1},V0=(o,e,s,i,a)=>class extends o{constructor(h,d,p){let m;if(typeof h=="number"&&d!==void 0&&p!==void 0)m={length:d,numberOfChannels:h,sampleRate:p};else if(typeof h=="object")m=h;else throw new Error("The given parameters are not valid.");const{length:g,numberOfChannels:v,sampleRate:k}={...j0,...m},_=i(v,g,k);e(Fi,()=>Fi(_))||_.addEventListener("statechange",(()=>{let w=0;const S=T=>{this._state==="running"&&(w>0?(_.removeEventListener("statechange",S),T.stopImmediatePropagation(),this._waitForThePromiseToSettle(T)):w+=1)};return S})()),super(_,v),this._length=g,this._nativeOfflineAudioContext=_,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(s()):(this._state="running",a(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,bp(this)}))}_waitForThePromiseToSettle(h){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(h):setTimeout(()=>this._waitForThePromiseToSettle(h))}},F0={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},L0=(o,e,s,i,a,u,h)=>class extends o{constructor(p,m){const g=a(p),v={...F0,...m},k=s(g,v),_=u(g),w=_?i():null,S=p.sampleRate/2;super(p,!1,k,w),this._detune=e(this,_,k.detune,153600,-153600),this._frequency=e(this,_,k.frequency,S,-S),this._nativeOscillatorNode=k,this._onended=null,this._oscillatorNodeRenderer=w,this._oscillatorNodeRenderer!==null&&v.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=v.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(p){const m=typeof p=="function"?h(this,p):null;this._nativeOscillatorNode.onended=m;const g=this._nativeOscillatorNode.onended;this._onended=g!==null&&g===m?p:g}get type(){return this._nativeOscillatorNode.type}set type(p){this._nativeOscillatorNode.type=p,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(p){this._nativeOscillatorNode.setPeriodicWave(p),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=p)}start(p=0){if(this._nativeOscillatorNode.start(p),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=p),this.context.state!=="closed"){Rr(this);const m=()=>{this._nativeOscillatorNode.removeEventListener("ended",m),Hn(this)&&no(this)};this._nativeOscillatorNode.addEventListener("ended",m)}}stop(p=0){this._nativeOscillatorNode.stop(p),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=p)}},q0=(o,e,s,i,a)=>()=>{const u=new WeakMap;let h=null,d=null,p=null;const m=async(g,v)=>{let k=s(g);const _=Ct(k,v);if(!_){const w={channelCount:k.channelCount,channelCountMode:k.channelCountMode,channelInterpretation:k.channelInterpretation,detune:k.detune.value,frequency:k.frequency.value,periodicWave:h===null?void 0:h,type:k.type};k=e(v,w),d!==null&&k.start(d),p!==null&&k.stop(p)}return u.set(v,k),_?(await o(v,g.detune,k.detune),await o(v,g.frequency,k.frequency)):(await i(v,g.detune,k.detune),await i(v,g.frequency,k.frequency)),await a(g,v,k),k};return{set periodicWave(g){h=g},set start(g){d=g},set stop(g){p=g},render(g,v){const k=u.get(v);return k!==void 0?Promise.resolve(k):m(g,v)}}},z0={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},W0=(o,e,s,i,a,u,h)=>class extends o{constructor(p,m){const g=a(p),v={...z0,...m},k=s(g,v),_=u(g),w=_?i():null;super(p,!1,k,w),this._nativePannerNode=k,this._orientationX=e(this,_,k.orientationX,At,Vt),this._orientationY=e(this,_,k.orientationY,At,Vt),this._orientationZ=e(this,_,k.orientationZ,At,Vt),this._positionX=e(this,_,k.positionX,At,Vt),this._positionY=e(this,_,k.positionY,At,Vt),this._positionZ=e(this,_,k.positionZ,At,Vt),h(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(p){this._nativePannerNode.coneInnerAngle=p}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(p){this._nativePannerNode.coneOuterAngle=p}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(p){this._nativePannerNode.coneOuterGain=p}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(p){this._nativePannerNode.distanceModel=p}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(p){this._nativePannerNode.maxDistance=p}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(p){this._nativePannerNode.panningModel=p}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(p){this._nativePannerNode.refDistance=p}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(p){this._nativePannerNode.rolloffFactor=p}},B0=(o,e,s,i,a,u,h,d,p,m)=>()=>{const g=new WeakMap;let v=null;const k=async(_,w)=>{let S=null,T=u(_);const N={channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation},j={...N,coneInnerAngle:T.coneInnerAngle,coneOuterAngle:T.coneOuterAngle,coneOuterGain:T.coneOuterGain,distanceModel:T.distanceModel,maxDistance:T.maxDistance,panningModel:T.panningModel,refDistance:T.refDistance,rolloffFactor:T.rolloffFactor},R=Ct(T,w);if("bufferSize"in T)S=i(w,{...N,gain:1});else if(!R){const F={...j,orientationX:T.orientationX.value,orientationY:T.orientationY.value,orientationZ:T.orientationZ.value,positionX:T.positionX.value,positionY:T.positionY.value,positionZ:T.positionZ.value};T=a(w,F)}if(g.set(w,S===null?T:S),S!==null){if(v===null){if(h===null)throw new Error("Missing the native OfflineAudioContext constructor.");const U=new h(6,_.context.length,w.sampleRate),q=e(U,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});q.connect(U.destination),v=(async()=>{const re=await Promise.all([_.orientationX,_.orientationY,_.orientationZ,_.positionX,_.positionY,_.positionZ].map(async(Y,se)=>{const X=s(U,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:se===0?1:0});return await d(U,Y,X.offset),X}));for(let Y=0;Y<6;Y+=1)re[Y].connect(q,0,Y),re[Y].start(0);return m(U)})()}const F=await v,A=i(w,{...N,gain:1});await p(_,w,A);const b=[];for(let U=0;U<F.numberOfChannels;U+=1)b.push(F.getChannelData(U));let I=[b[0][0],b[1][0],b[2][0]],D=[b[3][0],b[4][0],b[5][0]],W=i(w,{...N,gain:1}),B=a(w,{...j,orientationX:I[0],orientationY:I[1],orientationZ:I[2],positionX:D[0],positionY:D[1],positionZ:D[2]});A.connect(W).connect(B.inputs[0]),B.connect(S);for(let U=128;U<F.length;U+=128){const q=[b[0][U],b[1][U],b[2][U]],re=[b[3][U],b[4][U],b[5][U]];if(q.some((Y,se)=>Y!==I[se])||re.some((Y,se)=>Y!==D[se])){I=q,D=re;const Y=U/w.sampleRate;W.gain.setValueAtTime(0,Y),W=i(w,{...N,gain:0}),B=a(w,{...j,orientationX:I[0],orientationY:I[1],orientationZ:I[2],positionX:D[0],positionY:D[1],positionZ:D[2]}),W.gain.setValueAtTime(1,Y),A.connect(W).connect(B.inputs[0]),B.connect(S)}}return S}return R?(await o(w,_.orientationX,T.orientationX),await o(w,_.orientationY,T.orientationY),await o(w,_.orientationZ,T.orientationZ),await o(w,_.positionX,T.positionX),await o(w,_.positionY,T.positionY),await o(w,_.positionZ,T.positionZ)):(await d(w,_.orientationX,T.orientationX),await d(w,_.orientationY,T.orientationY),await d(w,_.orientationZ,T.orientationZ),await d(w,_.positionX,T.positionX),await d(w,_.positionY,T.positionY),await d(w,_.positionZ,T.positionZ)),Ur(T)?await p(_,w,T.inputs[0]):await p(_,w,T),T};return{render(_,w){const S=g.get(w);return S!==void 0?Promise.resolve(S):k(_,w)}}},U0={disableNormalization:!1},$0=(o,e,s,i)=>class zp{constructor(u,h){const d=e(u),p=i({...U0,...h}),m=o(d,p);return s.add(m),m}static[Symbol.hasInstance](u){return u!==null&&typeof u=="object"&&Object.getPrototypeOf(u)===zp.prototype||s.has(u)}},H0=(o,e)=>(s,i,a)=>(o(i).replay(a),e(i,s,a)),G0=(o,e,s)=>async(i,a,u)=>{const h=o(i);await Promise.all(h.activeInputs.map((d,p)=>Array.from(d).map(async([m,g])=>{const k=await e(m).render(m,a),_=i.context.destination;!s(m)&&(i!==_||!s(i))&&k.connect(u,g,p)})).reduce((d,p)=>[...d,...p],[]))},Q0=(o,e,s)=>async(i,a,u)=>{const h=e(i);await Promise.all(Array.from(h.activeInputs).map(async([d,p])=>{const g=await o(d).render(d,a);s(d)||g.connect(u,p)}))},Y0=(o,e,s,i)=>a=>o(Fi,()=>Fi(a))?Promise.resolve(o(i,i)).then(u=>{if(!u){const h=s(a,512,0,1);a.oncomplete=()=>{h.onaudioprocess=null,h.disconnect()},h.onaudioprocess=()=>a.currentTime,h.connect(a.destination)}return a.startRendering()}):new Promise(u=>{const h=e(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});a.oncomplete=d=>{h.disconnect(),u(d.renderedBuffer)},h.connect(a.destination),a.startRendering()}),X0=o=>(e,s)=>{o.set(e,s)},Z0=o=>(e,s)=>o.set(e,s),K0=(o,e,s,i,a,u,h,d)=>(p,m)=>s(p).render(p,m).then(()=>Promise.all(Array.from(i(m)).map(g=>s(g).render(g,m)))).then(()=>a(m)).then(g=>(typeof g.copyFromChannel!="function"?(h(g),Mc(g)):e(u,()=>u(g))||d(g),o.add(g),g)),J0={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},e1=(o,e,s,i,a,u)=>class extends o{constructor(d,p){const m=a(d),g={...J0,...p},v=s(m,g),k=u(m),_=k?i():null;super(d,!1,v,_),this._pan=e(this,k,v.pan)}get pan(){return this._pan}},t1=(o,e,s,i,a)=>()=>{const u=new WeakMap,h=async(d,p)=>{let m=s(d);const g=Ct(m,p);if(!g){const v={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,pan:m.pan.value};m=e(p,v)}return u.set(p,m),g?await o(p,d.pan,m.pan):await i(p,d.pan,m.pan),Ur(m)?await a(d,p,m.inputs[0]):await a(d,p,m),m};return{render(d,p){const m=u.get(p);return m!==void 0?Promise.resolve(m):h(d,p)}}},n1=o=>()=>{if(o===null)return!1;try{new o({length:1,sampleRate:44100})}catch{return!1}return!0},s1=(o,e)=>async()=>{if(o===null)return!0;if(e===null)return!1;const s=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),i=new e(1,128,44100),a=URL.createObjectURL(s);let u=!1,h=!1;try{await i.audioWorklet.addModule(a);const d=new o(i,"a",{numberOfOutputs:0}),p=i.createOscillator();d.port.onmessage=()=>u=!0,d.onprocessorerror=()=>h=!0,p.connect(d),p.start(0),await i.startRendering(),await new Promise(m=>setTimeout(m))}catch{}finally{URL.revokeObjectURL(a)}return u&&!h},r1=(o,e)=>()=>{if(e===null)return Promise.resolve(!1);const s=new e(1,1,44100),i=o(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(a=>{s.oncomplete=()=>{i.disconnect(),a(s.currentTime!==0)},s.startRendering()})},i1=()=>new DOMException("","UnknownError"),o1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},a1=(o,e,s,i,a,u,h)=>class extends o{constructor(p,m){const g=a(p),v={...o1,...m},k=s(g,v),w=u(g)?i():null;super(p,!0,k,w),this._isCurveNullified=!1,this._nativeWaveShaperNode=k,h(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(p){if(p===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(p.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=p}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(p){this._nativeWaveShaperNode.oversample=p}},l1=(o,e,s)=>()=>{const i=new WeakMap,a=async(u,h)=>{let d=e(u);if(!Ct(d,h)){const m={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,curve:d.curve,oversample:d.oversample};d=o(h,m)}return i.set(h,d),Ur(d)?await s(u,h,d.inputs[0]):await s(u,h,d),d};return{render(u,h){const d=i.get(h);return d!==void 0?Promise.resolve(d):a(u,h)}}},u1=()=>typeof window>"u"?null:window,c1=(o,e)=>s=>{s.copyFromChannel=(i,a,u=0)=>{const h=o(u),d=o(a);if(d>=s.numberOfChannels)throw e();const p=s.length,m=s.getChannelData(d),g=i.length;for(let v=h<0?-h:0;v+h<p&&v<g;v+=1)i[v]=m[v+h]},s.copyToChannel=(i,a,u=0)=>{const h=o(u),d=o(a);if(d>=s.numberOfChannels)throw e();const p=s.length,m=s.getChannelData(d),g=i.length;for(let v=h<0?-h:0;v+h<p&&v<g;v+=1)m[v+h]=i[v]}},h1=o=>e=>{e.copyFromChannel=(s=>(i,a,u=0)=>{const h=o(u),d=o(a);if(h<e.length)return s.call(e,i,d,h)})(e.copyFromChannel),e.copyToChannel=(s=>(i,a,u=0)=>{const h=o(u),d=o(a);if(h<e.length)return s.call(e,i,d,h)})(e.copyToChannel)},d1=o=>(e,s)=>{const i=s.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=i),o(e,"buffer",a=>()=>{const u=a.call(e);return u===i?null:u},a=>u=>a.call(e,u===null?i:u))},f1=(o,e)=>(s,i)=>{i.channelCount=1,i.channelCountMode="explicit",Object.defineProperty(i,"channelCount",{get:()=>1,set:()=>{throw o()}}),Object.defineProperty(i,"channelCountMode",{get:()=>"explicit",set:()=>{throw o()}});const a=s.createBufferSource();e(i,()=>{const d=i.numberOfInputs;for(let p=0;p<d;p+=1)a.connect(i,0,p)},()=>a.disconnect(i))},Wp=(o,e,s)=>o.copyFromChannel===void 0?o.getChannelData(s)[0]:(o.copyFromChannel(e,s),e[0]),Bp=o=>{if(o===null)return!1;const e=o.length;return e%2!==0?o[Math.floor(e/2)]!==0:o[e/2-1]+o[e/2]!==0},ao=(o,e,s,i)=>{let a=o;for(;!a.hasOwnProperty(e);)a=Object.getPrototypeOf(a);const{get:u,set:h}=Object.getOwnPropertyDescriptor(a,e);Object.defineProperty(o,e,{get:s(u),set:i(h)})},p1=o=>({...o,outputChannelCount:o.outputChannelCount!==void 0?o.outputChannelCount:o.numberOfInputs===1&&o.numberOfOutputs===1?[o.channelCount]:Array.from({length:o.numberOfOutputs},()=>1)}),m1=o=>({...o,channelCount:o.numberOfOutputs}),g1=o=>{const{imag:e,real:s}=o;return e===void 0?s===void 0?{...o,imag:[0,0],real:[0,0]}:{...o,imag:Array.from(s,()=>0),real:s}:s===void 0?{...o,imag:e,real:Array.from(e,()=>0)}:{...o,imag:e,real:s}},Up=(o,e,s)=>{try{o.setValueAtTime(e,s)}catch(i){if(i.code!==9)throw i;Up(o,e,s+1e-7)}},v1=o=>{const e=o.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},y1=o=>{const e=o.createBufferSource(),s=o.createBuffer(1,1,44100);e.buffer=s;try{e.start(0,1)}catch{return!1}return!0},_1=o=>{const e=o.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},Rc=o=>{const e=o.createOscillator();try{e.start(-1)}catch(s){return s instanceof RangeError}return!1},$p=o=>{const e=o.createBuffer(1,1,44100),s=o.createBufferSource();s.buffer=e,s.start(),s.stop();try{return s.stop(),!0}catch{return!1}},Pc=o=>{const e=o.createOscillator();try{e.stop(-1)}catch(s){return s instanceof RangeError}return!1},w1=o=>{const{port1:e,port2:s}=new MessageChannel;try{e.postMessage(o)}finally{e.close(),s.close()}},k1=o=>{o.start=(e=>(s=0,i=0,a)=>{const u=o.buffer,h=u===null?i:Math.min(u.duration,i);u!==null&&h>u.duration-.5/o.context.sampleRate?e.call(o,s,0,0):e.call(o,s,h,a)})(o.start)},Hp=(o,e)=>{const s=e.createGain();o.connect(s);const i=(a=>()=>{a.call(o,s),o.removeEventListener("ended",i)})(o.disconnect);o.addEventListener("ended",i),$r(o,s),o.stop=(a=>{let u=!1;return(h=0)=>{if(u)try{a.call(o,h)}catch{s.gain.setValueAtTime(0,h)}else a.call(o,h),u=!0}})(o.stop)},Hr=(o,e)=>s=>{const i={value:o};return Object.defineProperties(s,{currentTarget:i,target:i}),typeof e=="function"?e.call(o,s):e.handleEvent.call(o,s)},x1=Wv(Js),S1=Qv(Js),T1=o_(il),Gp=new WeakMap,C1=T_(Gp),wn=jy(new Map,new WeakMap),An=u1(),Qp=e0(wn,Dn),jc=S_(Mt),wt=G0(Mt,jc,Gs),N1=Jv(Qp,$e,wt),ze=E_(rl),Xn=E0(An),Fe=U_(Xn),Yp=new WeakMap,Xp=g_(Hr),lo=r0(An),Vc=q_(lo),Fc=z_(An),Zp=W_(An),Li=o0(An),ot=Ty(Bv(Tp),Gv(x1,S1,Pa,T1,ja,Mt,C1,to,$e,Js,Hn,Gs,Ma),wn,P_(vc,ja,Mt,$e,Vi,Hn),Dn,ol,Dt,n_(Pa,vc,Mt,$e,Vi,ze,Hn,Fe),u_(Yp,Mt,mn),Xp,ze,Vc,Fc,Zp,Fe,Li),E1=Kv(ot,N1,Dn,Qp,ze,Fe),Lc=new WeakSet,hp=t0(An),Kp=Yy(new Uint32Array(1)),qc=c1(Kp,Dn),zc=h1(Kp),Jp=ty(Lc,wn,Dt,hp,Xn,n1(hp),qc,zc),al=Yv(zt),em=Q0(jc,so,Gs),bn=By(em),Gr=s0(al,wn,v1,y1,_1,Rc,$p,Pc,k1,d1(ao),Hp),On=H0(C_(so),em),A1=ry(bn,Gr,$e,On,wt),kn=Cy(Uv(Cp),Yp,Ac,Ny,jv,Vv,Fv,Lv,qv,pc,xp,lo,Up),M1=sy(ot,A1,kn,gt,Gr,ze,Fe,Hr),D1=fy(ot,py,Dn,gt,i0(zt,ao),ze,Fe,wt),b1=Py(bn,Lp,$e,On,wt),er=Z0(Gp),O1=Ry(ot,kn,b1,ol,Lp,ze,Fe,er),Ns=K_(Js,Fc),I1=f1(gt,Ns),Es=f0(lo,I1),R1=Ly(Es,$e,wt),P1=Fy(ot,R1,Es,ze,Fe),j1=Wy(io,$e,wt),V1=zy(ot,j1,io,ze,Fe,m1),F1=g0(al,Gr,zt,Ns),Qr=m0(al,wn,F1,Rc,Pc),L1=Qy(bn,Qr,$e,On,wt),q1=Gy(ot,kn,L1,Qr,ze,Fe,Hr),tm=v0(Dt,ao),z1=Ky(tm,$e,wt),W1=Zy(ot,z1,tm,ze,Fe,er),B1=i_(bn,qp,$e,On,wt),U1=r_(ot,kn,B1,qp,ze,Fe,er),nm=y0(Dt),$1=f_(bn,nm,$e,On,wt),H1=d_(ot,kn,$1,nm,Dt,ze,Fe,er),G1=k_(bn,zt,$e,On,wt),Q1=w_(ot,kn,G1,zt,ze,Fe),Y1=x0(ol,gt,oo,Dt),ll=Y0(wn,zt,oo,r1(zt,Xn)),X1=R_(Gr,$e,Xn,wt,ll),Z1=_0(Y1),K1=O_(ot,Z1,X1,ze,Fe,er),J1=my(kn,Es,Qr,oo,Dt,Wp,Fe,ao),sm=new WeakMap,ew=Z_(D1,J1,Xp,Fe,sm,Hr),rm=A0(al,wn,Rc,$p,Pc,Hp),tw=q0(bn,rm,$e,On,wt),nw=L0(ot,kn,rm,tw,ze,Fe,Hr),im=$y(Gr),sw=P0(im,gt,zt,Bp,Ns),ul=R0(im,gt,sw,Bp,Ns,lo,ao),rw=D0(Pa,gt,Es,zt,oo,ul,Dt,ja,Wp,Ns),om=M0(rw),iw=B0(bn,Es,Qr,zt,om,$e,Xn,On,wt,ll),ow=W0(ot,kn,om,iw,ze,Fe,er),aw=b0(Dn),lw=$0(aw,ze,new WeakSet,g1),uw=I0(Es,io,zt,ul,Dt,Ns),am=O0(uw,Dt),cw=t1(bn,am,$e,On,wt),hw=e1(ot,kn,am,cw,ze,Fe),dw=l1(ul,$e,wt),fw=a1(ot,gt,ul,dw,ze,Fe,er),lm=$_(An),Wc=v_(An),um=new WeakMap,pw=A_(um,Xn),mw=lm?Hv(wn,Dt,m_(An),Wc,y_(zv),ze,pw,Fe,Li,new WeakMap,new WeakMap,s1(Li,Xn),An):void 0,gw=B_(Vc,Fe),vw=t_(Lc,wn,e_,p_,new WeakSet,ze,gw,Ia,Fi,qc,zc),cm=Oy(mw,E1,Jp,M1,O1,P1,V1,q1,W1,vw,U1,H1,Q1,K1,ew,nw,ow,lw,hw,fw),yw=H_(ot,S0,ze,Fe),_w=Q_(ot,T0,ze,Fe),ww=Y_(ot,C0,ze,Fe),kw=N0(gt,Fe),xw=X_(ot,kw,ze),Sw=dy(cm,gt,Dt,i1,yw,_w,ww,xw,lo),Bc=M_(sm),Tw=Xv(Bc),hm=Uy(Dn),Cw=a_(Bc),dm=c_(Dn),fm=new WeakMap,Nw=x_(fm,mn),Ew=d0(hm,Dn,gt,Es,io,Qr,zt,oo,Dt,dm,Wc,Nw,Ns),Aw=l0(gt,Ew,zt,Dt,Ns),Mw=by(bn,hm,Gr,Es,io,Qr,zt,Cw,dm,Wc,$e,Li,Xn,On,wt,ll),Dw=N_(um),bw=X0(fm),dp=lm?Ay(Tw,ot,kn,Mw,Aw,Mt,Dw,ze,Fe,Li,p1,bw,w1,Hr):void 0,Ow=Jy(Dt,Xn),Iw=K0(Lc,wn,jc,Bc,ll,Ia,qc,zc),Rw=V0(cm,wn,gt,Ow,Iw),Pw=j_(rl,Vc),jw=V_(Ec,Fc),Vw=F_(Ac,Zp),Fw=L_(rl,Fe);function nn(o){return o===void 0}function Ee(o){return o!==void 0}function Lw(o){return typeof o=="function"}function Gn(o){return typeof o=="number"}function $s(o){return Object.prototype.toString.call(o)==="[object Object]"&&o.constructor===Object}function qw(o){return typeof o=="boolean"}function Qt(o){return Array.isArray(o)}function Qn(o){return typeof o=="string"}function Na(o){return Qn(o)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(o)}function ke(o,e){if(!o)throw new Error(e)}function gn(o,e,s=1/0){if(!(e<=o&&o<=s))throw new RangeError(`Value must be within [${e}, ${s}], got: ${o}`)}function pm(o){!o.isOffline&&o.state!=="running"&&cl('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let mm=!1,fp=!1;function pp(o){mm=o}function zw(o){nn(o)&&mm&&!fp&&(fp=!0,cl("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let gm=console;function Ww(...o){gm.log(...o)}function cl(...o){gm.warn(...o)}function Bw(o){return new Sw(o)}function Uw(o,e,s){return new Rw(o,e,s)}const Hs=typeof self=="object"?self:null,$w=Hs&&(Hs.hasOwnProperty("AudioContext")||Hs.hasOwnProperty("webkitAudioContext"));function Hw(o,e,s){return ke(Ee(dp),"This node only works in a secure context (https or localhost)"),new dp(o,e,s)}function xn(o,e,s,i){var a=arguments.length,u=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,s):i,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(o,e,s,i);else for(var d=o.length-1;d>=0;d--)(h=o[d])&&(u=(a<3?h(u):a>3?h(e,s,u):h(e,s))||u);return a>3&&u&&Object.defineProperty(e,s,u),u}function it(o,e,s,i){function a(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function d(g){try{m(i.next(g))}catch(v){h(v)}}function p(g){try{m(i.throw(g))}catch(v){h(v)}}function m(g){g.done?u(g.value):a(g.value).then(d,p)}m((i=i.apply(o,e||[])).next())})}class Gw{constructor(e,s,i,a){this._callback=e,this._type=s,this._minimumUpdateInterval=Math.max(128/(a||44100),.001),this.updateInterval=i,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),s=URL.createObjectURL(e),i=new Worker(s);i.onmessage=this._callback.bind(this),this._worker=i}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var s;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((s=this._worker)===null||s===void 0||s.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Qs(o){return Vw(o)}function ks(o){return jw(o)}function Da(o){return Fw(o)}function Mr(o){return Pw(o)}function Qw(o){return o instanceof Jp}function Yw(o,e){return o==="value"||Qs(e)||ks(e)||Qw(e)}function xs(o,...e){if(!e.length)return o;const s=e.shift();if($s(o)&&$s(s))for(const i in s)Yw(i,s[i])?o[i]=s[i]:$s(s[i])?(o[i]||Object.assign(o,{[i]:{}}),xs(o[i],s[i])):Object.assign(o,{[i]:s[i]});return xs(o,...e)}function Xw(o,e){return o.length===e.length&&o.every((s,i)=>e[i]===s)}function H(o,e,s=[],i){const a={},u=Array.from(e);if($s(u[0])&&i&&!Reflect.has(u[0],i)&&(Object.keys(u[0]).some(d=>Reflect.has(o,d))||(xs(a,{[i]:u[0]}),s.splice(s.indexOf(i),1),u.shift())),u.length===1&&$s(u[0]))xs(a,u[0]);else for(let h=0;h<s.length;h++)Ee(u[h])&&(a[s[h]]=u[h]);return xs(o,a)}function Zw(o){return o.constructor.getDefaults()}function Or(o,e){return nn(o)?e:o}function Ft(o,e){return e.forEach(s=>{Reflect.has(o,s)&&delete o[s]}),o}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class Zn{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||Hs&&this.toString()===Hs.TONE_DEBUG_CLASS)&&Ww(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Zn.version=kp;const Uc=1e-6;function Pr(o,e){return o>e+Uc}function xc(o,e){return Pr(o,e)||fn(o,e)}function qa(o,e){return o+Uc<e}function fn(o,e){return Math.abs(o-e)<Uc}function Kw(o,e,s){return Math.max(Math.min(o,s),e)}class sn extends Zn{constructor(){super(),this.name="Timeline",this._timeline=[];const e=H(sn.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(ke(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const s=this._timeline[this.length-1];ke(xc(e.time,s.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const s=this._search(e.time);this._timeline.splice(s+1,0,e)}if(this.length>this.memory){const s=this.length-this.memory;this._timeline.splice(0,s)}return this}remove(e){const s=this._timeline.indexOf(e);return s!==-1&&this._timeline.splice(s,1),this}get(e,s="time"){const i=this._search(e,s);return i!==-1?this._timeline[i]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,s="time"){const i=this._search(e,s);return i+1<this._timeline.length?this._timeline[i+1]:null}getBefore(e){const s=this._timeline.length;if(s>0&&this._timeline[s-1].time<e)return this._timeline[s-1];const i=this._search(e);return i-1>=0?this._timeline[i-1]:null}cancel(e){if(this._timeline.length>1){let s=this._search(e);if(s>=0)if(fn(this._timeline[s].time,e)){for(let i=s;i>=0&&fn(this._timeline[i].time,e);i--)s=i;this._timeline=this._timeline.slice(0,s)}else this._timeline=this._timeline.slice(0,s+1);else this._timeline=[]}else this._timeline.length===1&&xc(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const s=this._search(e);return s>=0&&(this._timeline=this._timeline.slice(s+1)),this}previousEvent(e){const s=this._timeline.indexOf(e);return s>0?this._timeline[s-1]:null}_search(e,s="time"){if(this._timeline.length===0)return-1;let i=0;const a=this._timeline.length;let u=a;if(a>0&&this._timeline[a-1][s]<=e)return a-1;for(;i<u;){let h=Math.floor(i+(u-i)/2);const d=this._timeline[h],p=this._timeline[h+1];if(fn(d[s],e)){for(let m=h;m<this._timeline.length;m++){const g=this._timeline[m];if(fn(g[s],e))h=m;else break}return h}else{if(qa(d[s],e)&&Pr(p[s],e))return h;Pr(d[s],e)?u=h:i=h+1}}return-1}_iterate(e,s=0,i=this._timeline.length-1){this._timeline.slice(s,i+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,s){const i=this._search(e);return i!==-1&&this._iterate(s,0,i),this}forEachAfter(e,s){const i=this._search(e);return this._iterate(s,i+1),this}forEachBetween(e,s,i){let a=this._search(e),u=this._search(s);return a!==-1&&u!==-1?(this._timeline[a].time!==e&&(a+=1),this._timeline[u].time===s&&(u-=1),this._iterate(i,a,u)):a===-1&&this._iterate(i,0,u),this}forEachFrom(e,s){let i=this._search(e);for(;i>=0&&this._timeline[i].time>=e;)i--;return this._iterate(s,i+1),this}forEachAtTime(e,s){const i=this._search(e);if(i!==-1&&fn(this._timeline[i].time,e)){let a=i;for(let u=i;u>=0&&fn(this._timeline[u].time,e);u--)a=u;this._iterate(u=>{s(u)},a,i)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const vm=[];function hl(o){vm.push(o)}function Jw(o){vm.forEach(e=>e(o))}const ym=[];function dl(o){ym.push(o)}function ek(o){ym.forEach(e=>e(o))}class uo extends Zn{constructor(){super(...arguments),this.name="Emitter"}on(e,s){return e.split(/\W+/).forEach(a=>{nn(this._events)&&(this._events={}),this._events.hasOwnProperty(a)||(this._events[a]=[]),this._events[a].push(s)}),this}once(e,s){const i=(...a)=>{s(...a),this.off(e,i)};return this.on(e,i),this}off(e,s){return e.split(/\W+/).forEach(a=>{if(nn(this._events)&&(this._events={}),this._events.hasOwnProperty(a))if(nn(s))this._events[a]=[];else{const u=this._events[a];for(let h=u.length-1;h>=0;h--)u[h]===s&&u.splice(h,1)}}),this}emit(e,...s){if(this._events&&this._events.hasOwnProperty(e)){const i=this._events[e].slice(0);for(let a=0,u=i.length;a<u;a++)i[a].apply(this,s)}return this}static mixin(e){["on","once","off","emit"].forEach(s=>{const i=Object.getOwnPropertyDescriptor(uo.prototype,s);Object.defineProperty(e.prototype,s,i)})}dispose(){return super.dispose(),this._events=void 0,this}}class _m extends uo{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class co extends _m{constructor(){var e,s;super(),this.name="Context",this._constants=new Map,this._timeouts=new sn,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const i=H(co.getDefaults(),arguments,["context"]);i.context?(this._context=i.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=Bw({latencyHint:i.latencyHint}),this._latencyHint=i.latencyHint),this._ticker=new Gw(this.emit.bind(this,"tick"),i.clockSource,i.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((s=arguments[0])===null||s===void 0)&&s.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=i.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(Jw(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,s,i){return this._context.createBuffer(e,s,i)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,s){return this._context.createIIRFilter(e,s)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,s,i){return this._context.createPeriodicWave(e,s,i)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return ke(Mr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return ke(Mr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return ke(Mr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){ke(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){ke(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){ke(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){ke(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,s){return Hw(this.rawContext,e,s)}addAudioWorkletModule(e){return it(this,void 0,void 0,function*(){ke(Ee(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return it(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Mr(this._context)?this._context.resume():Promise.resolve()}close(){return it(this,void 0,void 0,function*(){Mr(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&ek(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const s=this._context.createBuffer(1,128,this._context.sampleRate),i=s.getChannelData(0);for(let u=0;u<i.length;u++)i[u]=e;const a=this._context.createBufferSource();return a.channelCount=1,a.channelCountMode="explicit",a.buffer=s,a.loop=!0,a.start(0),this._constants.set(e,a),a}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let s=this._timeouts.peek();for(;this._timeouts.length&&s&&s.time<=e;)s.callback(),this._timeouts.shift(),s=this._timeouts.peek()}setTimeout(e,s){this._timeoutIds++;const i=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:i+s}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(s=>{s.id===e&&this._timeouts.remove(s)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,s){const i=++this._timeoutIds,a=()=>{const u=this.now();this._timeouts.add({callback:()=>{e(),a()},id:i,time:u+s})};return a(),i}}class tk extends _m{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,s,i){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,s){return{}}createPanner(){return{}}createPeriodicWave(e,s,i){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,s){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return it(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,s){return 0}clearTimeout(e){return this}setInterval(e,s){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function Ae(o,e){Qt(e)?e.forEach(s=>Ae(o,s)):Object.defineProperty(o,e,{enumerable:!0,writable:!1})}function $c(o,e){Qt(e)?e.forEach(s=>$c(o,s)):Object.defineProperty(o,e,{writable:!0})}const Re=()=>{};class Ve extends Zn{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Re;const e=H(Ve.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,Qn(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:Re,onload:Re,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Gt().sampleRate}set(e){return e instanceof Ve?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return it(this,void 0,void 0,function*(){const s=Ve.load(e).then(i=>{this.set(i),this.onload(this)});Ve.downloads.push(s);try{yield s}finally{const i=Ve.downloads.indexOf(s);Ve.downloads.splice(i,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const s=Qt(e)&&e[0].length>0,i=s?e.length:1,a=s?e[0].length:e.length,u=Gt(),h=u.createBuffer(i,a,u.sampleRate),d=!s&&i===1?[e]:e;for(let p=0;p<i;p++)h.copyToChannel(d[p],p);return this._buffer=h,this}toMono(e){if(Gn(e))this.fromArray(this.toArray(e));else{let s=new Float32Array(this.length);const i=this.numberOfChannels;for(let a=0;a<i;a++){const u=this.toArray(a);for(let h=0;h<u.length;h++)s[h]+=u[h]}s=s.map(a=>a/i),this.fromArray(s)}return this}toArray(e){if(Gn(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const s=[];for(let i=0;i<this.numberOfChannels;i++)s[i]=this.getChannelData(i);return s}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,s=this.duration){ke(this.loaded,"Buffer is not loaded");const i=Math.floor(e*this.sampleRate),a=Math.floor(s*this.sampleRate);ke(i<a,"The start time must be less than the end time");const u=a-i,h=Gt().createBuffer(this.numberOfChannels,u,this.sampleRate);for(let d=0;d<this.numberOfChannels;d++)h.copyToChannel(this.getChannelData(d).subarray(i,a),d);return new Ve(h)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new Ve().fromArray(e)}static fromUrl(e){return it(this,void 0,void 0,function*(){return yield new Ve().load(e)})}static load(e){return it(this,void 0,void 0,function*(){const s=e.match(/\[([^\]\[]+\|.+)\]$/);if(s){const p=s[1].split("|");let m=p[0];for(const g of p)if(Ve.supportsType(g)){m=g;break}e=e.replace(s[0],m)}const i=Ve.baseUrl===""||Ve.baseUrl.endsWith("/")?Ve.baseUrl:Ve.baseUrl+"/",a=document.createElement("a");a.href=i+e,a.pathname=(a.pathname+a.hash).split("/").map(encodeURIComponent).join("/");const u=yield fetch(a.href);if(!u.ok)throw new Error(`could not load url: ${e}`);const h=yield u.arrayBuffer();return yield Gt().decodeAudioData(h)})}static supportsType(e){const s=e.split("."),i=s[s.length-1];return document.createElement("audio").canPlayType("audio/"+i)!==""}static loaded(){return it(this,void 0,void 0,function*(){for(yield Promise.resolve();Ve.downloads.length;)yield Ve.downloads[0]})}}Ve.baseUrl="";Ve.downloads=[];class fl extends co{constructor(){super({clockSource:"offline",context:Da(arguments[0])?arguments[0]:Uw(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:Da(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Da(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return it(this,void 0,void 0,function*(){let s=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,s++;const i=Math.floor(this.sampleRate/128);e&&s%i===0&&(yield new Promise(a=>setTimeout(a,1)))}})}render(e=!0){return it(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(e);const s=yield this._context.startRendering();return new Ve(s)})}close(){return Promise.resolve()}}const wm=new tk;let Bs=wm;function Gt(){return Bs===wm&&$w&&nk(new co),Bs}function nk(o,e=!1){e&&Bs.dispose(),Mr(o)?Bs=new co(o):Da(o)?Bs=new fl(o):Bs=o}function sk(){return Bs.resume()}if(Hs&&!Hs.TONE_SILENCE_LOGGING){const e=` * Tone.js v${kp} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function rk(o){return Math.pow(10,o/20)}function ik(o){return 20*(Math.log(o)/Math.LN10)}function km(o){return Math.pow(2,o/12)}let pl=440;function ok(){return pl}function ak(o){pl=o}function Us(o){return Math.round(xm(o))}function xm(o){return 69+12*Math.log2(o/pl)}function Sm(o){return pl*Math.pow(2,(o-69)/12)}class Hc extends Zn{constructor(e,s,i){super(),this.defaultUnits="s",this._val=s,this._units=i,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,s)=>{const i=parseInt(e,10),a=s==="."?1.5:1;return i===1?this._beatsToUnits(this._getTimeSignature())*a:this._beatsToUnits(4/i)*a},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const s=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(s)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,s,i)=>{let a=0;return e&&e!=="0"&&(a+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),s&&s!=="0"&&(a+=this._beatsToUnits(parseFloat(s))),i&&i!=="0"&&(a+=this._beatsToUnits(parseFloat(i)/4)),a},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Hc&&this.fromType(this._val),nn(this._val))return this._noArg();if(Qn(this._val)&&nn(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if($s(this._val)){let e=0;for(const s in this._val)if(Ee(this._val[s])){const i=this._val[s],a=new this.constructor(this.context,s).valueOf()*i;e+=a}return e}if(Ee(this._units)){const e=this._expressions[this._units],s=this._val.toString().trim().match(e.regexp);return s?e.method.apply(this,s.slice(1)):e.method.call(this,this._val)}else return Qn(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class pn extends Hc{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const s=new pn(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(s))},regexp:/^@(.+)/}})}quantize(e,s=1){const i=new this.constructor(this.context,e).valueOf(),a=this.valueOf(),d=Math.round(a/i)*i-a;return a+d*s}toNotation(){const e=this.toSeconds(),s=["1m"];for(let u=1;u<9;u++){const h=Math.pow(2,u);s.push(h+"n."),s.push(h+"n"),s.push(h+"t")}s.push("0");let i=s[0],a=new pn(this.context,s[0]).toSeconds();return s.forEach(u=>{const h=new pn(this.context,u).toSeconds();Math.abs(h-e)<Math.abs(a-e)&&(i=u,a=h)}),i}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let s=this.valueOf()/e;s=parseFloat(s.toFixed(4));const i=Math.floor(s/this._getTimeSignature());let a=s%1*4;s=Math.floor(s)%this._getTimeSignature();const u=a.toString();return u.length>3&&(a=parseFloat(parseFloat(u).toFixed(3))),[i,s,a].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Us(this.toFrequency())}_now(){return this.context.now()}}class Lt extends pn{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return ok()}static set A4(e){ak(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Lt.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,s){const a=lk[e.toLowerCase()]+(parseInt(s,10)+1)*12;return this.defaultUnits==="midi"?a:Lt.mtof(a)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,s,i){let a=1;return e&&e!=="0"&&(a*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),s&&s!=="0"&&(a*=this._beatsToUnits(parseFloat(s))),i&&i!=="0"&&(a*=this._beatsToUnits(parseFloat(i)/4)),a}}})}transpose(e){return new Lt(this.context,this.valueOf()*km(e))}harmonize(e){return e.map(s=>this.transpose(s))}toMidi(){return Us(this.valueOf())}toNote(){const e=this.toFrequency(),s=Math.log2(e/Lt.A4);let i=Math.round(12*s)+57;const a=Math.floor(i/12);return a<0&&(i+=-12*a),uk[i%12]+a.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),s=this.valueOf()/e;return Math.floor(s*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return Sm(e)}static ftom(e){return Us(e)}}const lk={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},uk=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function Wn(o,e){return new Lt(Gt(),o,e)}class ji extends pn{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class qt extends Zn{constructor(){super();const e=H(qt.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Gt()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return zw(e),new pn(this.context,e).toSeconds()}toFrequency(e){return new Lt(this.context,e).toFrequency()}toTicks(e){return new ji(this.context,e).toTicks()}_getPartialProperties(e){const s=this.get();return Object.keys(s).forEach(i=>{nn(e[i])&&delete s[i]}),s}get(){const e=Zw(this);return Object.keys(e).forEach(s=>{if(Reflect.has(this,s)){const i=this[s];Ee(i)&&Ee(i.value)&&Ee(i.setValueAtTime)?e[s]=i.value:i instanceof qt?e[s]=i._getPartialProperties(e[s]):Qt(i)||Gn(i)||Qn(i)||qw(i)?e[s]=i:delete e[s]}}),e}set(e){return Object.keys(e).forEach(s=>{Reflect.has(this,s)&&Ee(this[s])&&(this[s]&&Ee(this[s].value)&&Ee(this[s].setValueAtTime)?this[s].value!==e[s]&&(this[s].value=e[s]):this[s]instanceof qt?this[s].set(e[s]):this[s]=e[s])}),this}}class Gc extends sn{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const s=this.get(e);return s!==null?s.state:this._initial}setStateAtTime(e,s,i){return gn(s,0),this.add(Object.assign({},i,{state:e,time:s})),this}getLastState(e,s){const i=this._search(s);for(let a=i;a>=0;a--){const u=this._timeline[a];if(u.state===e)return u}}getNextState(e,s){const i=this._search(s);if(i!==-1)for(let a=i;a<this._timeline.length;a++){const u=this._timeline[a];if(u.state===e)return u}}}class Te extends qt{constructor(){super(H(Te.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const e=H(Te.getDefaults(),arguments,["param","units","convert"]);for(ke(Ee(e.param)&&(Qs(e.param)||e.param instanceof Te),"param must be an AudioParam");!Qs(e.param);)e.param=e.param._param;this._swappable=Ee(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new sn(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,Ee(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(qt.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return Ee(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Ee(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,s){return this.units===s}_assertRange(e){return Ee(this.maxValue)&&Ee(this.minValue)&&gn(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?rk(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?ik(e):e}setValueAtTime(e,s){const i=this.toSeconds(s),a=this._fromType(e);return ke(isFinite(a)&&isFinite(i),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(s)}`),this._assertRange(a),this.log(this.units,"setValueAtTime",e,i),this._events.add({time:i,type:"setValueAtTime",value:a}),this._param.setValueAtTime(a,i),this}getValueAtTime(e){const s=Math.max(this.toSeconds(e),0),i=this._events.getAfter(s),a=this._events.get(s);let u=this._initialValue;if(a===null)u=this._initialValue;else if(a.type==="setTargetAtTime"&&(i===null||i.type==="setValueAtTime")){const h=this._events.getBefore(a.time);let d;h===null?d=this._initialValue:d=h.value,a.type==="setTargetAtTime"&&(u=this._exponentialApproach(a.time,d,a.value,a.constant,s))}else if(i===null)u=a.value;else if(i.type==="linearRampToValueAtTime"||i.type==="exponentialRampToValueAtTime"){let h=a.value;if(a.type==="setTargetAtTime"){const d=this._events.getBefore(a.time);d===null?h=this._initialValue:h=d.value}i.type==="linearRampToValueAtTime"?u=this._linearInterpolate(a.time,h,i.time,i.value,s):u=this._exponentialInterpolate(a.time,h,i.time,i.value,s)}else u=a.value;return this._toType(u)}setRampPoint(e){e=this.toSeconds(e);let s=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(s)===0&&(s=this._toType(this._minOutput)),this.setValueAtTime(s,e),this}linearRampToValueAtTime(e,s){const i=this._fromType(e),a=this.toSeconds(s);return ke(isFinite(i)&&isFinite(a),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(s)}`),this._assertRange(i),this._events.add({time:a,type:"linearRampToValueAtTime",value:i}),this.log(this.units,"linearRampToValueAtTime",e,a),this._param.linearRampToValueAtTime(i,a),this}exponentialRampToValueAtTime(e,s){let i=this._fromType(e);i=fn(i,0)?this._minOutput:i,this._assertRange(i);const a=this.toSeconds(s);return ke(isFinite(i)&&isFinite(a),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(s)}`),this._events.add({time:a,type:"exponentialRampToValueAtTime",value:i}),this.log(this.units,"exponentialRampToValueAtTime",e,a),this._param.exponentialRampToValueAtTime(i,a),this}exponentialRampTo(e,s,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialRampToValueAtTime(e,i+this.toSeconds(s)),this}linearRampTo(e,s,i){return i=this.toSeconds(i),this.setRampPoint(i),this.linearRampToValueAtTime(e,i+this.toSeconds(s)),this}targetRampTo(e,s,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialApproachValueAtTime(e,i,s),this}exponentialApproachValueAtTime(e,s,i){s=this.toSeconds(s),i=this.toSeconds(i);const a=Math.log(i+1)/Math.log(200);return this.setTargetAtTime(e,s,a),this.cancelAndHoldAtTime(s+i*.9),this.linearRampToValueAtTime(e,s+i),this}setTargetAtTime(e,s,i){const a=this._fromType(e);ke(isFinite(i)&&i>0,"timeConstant must be a number greater than 0");const u=this.toSeconds(s);return this._assertRange(a),ke(isFinite(a)&&isFinite(u),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(s)}`),this._events.add({constant:i,time:u,type:"setTargetAtTime",value:a}),this.log(this.units,"setTargetAtTime",e,u,i),this._param.setTargetAtTime(a,u,i),this}setValueCurveAtTime(e,s,i,a=1){i=this.toSeconds(i),s=this.toSeconds(s);const u=this._fromType(e[0])*a;this.setValueAtTime(this._toType(u),s);const h=i/(e.length-1);for(let d=1;d<e.length;d++){const p=this._fromType(e[d])*a;this.linearRampToValueAtTime(this._toType(p),s+d*h)}return this}cancelScheduledValues(e){const s=this.toSeconds(e);return ke(isFinite(s),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(s),this._param.cancelScheduledValues(s),this.log(this.units,"cancelScheduledValues",s),this}cancelAndHoldAtTime(e){const s=this.toSeconds(e),i=this._fromType(this.getValueAtTime(s));ke(isFinite(s),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",s,"value="+i);const a=this._events.get(s),u=this._events.getAfter(s);return a&&fn(a.time,s)?u?(this._param.cancelScheduledValues(u.time),this._events.cancel(u.time)):(this._param.cancelAndHoldAtTime(s),this._events.cancel(s+this.sampleTime)):u&&(this._param.cancelScheduledValues(u.time),this._events.cancel(u.time),u.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(i),s):u.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(i),s)),this._events.add({time:s,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,s),this}rampTo(e,s=.1,i){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,s,i):this.linearRampTo(e,s,i),this}apply(e){const s=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(s),s);const i=this._events.get(s);if(i&&i.type==="setTargetAtTime"){const a=this._events.getAfter(i.time),u=a?a.time:s+2,h=(u-s)/10;for(let d=s;d<u;d+=h)e.linearRampToValueAtTime(this.getValueAtTime(d),d)}return this._events.forEachAfter(this.context.currentTime,a=>{a.type==="cancelScheduledValues"?e.cancelScheduledValues(a.time):a.type==="setTargetAtTime"?e.setTargetAtTime(a.value,a.time,a.constant):e[a.type](a.value,a.time)}),this}setParam(e){ke(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const s=this.input;return s.disconnect(this._param),this.apply(e),this._param=e,s.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,s,i,a,u){return i+(s-i)*Math.exp(-(u-e)/a)}_linearInterpolate(e,s,i,a,u){return s+(a-s)*((u-e)/(i-e))}_exponentialInterpolate(e,s,i,a,u){return s*Math.pow(a/s,(u-e)/(i-e))}}class he extends qt{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Ee(this.input)?Qs(this.input)||this.input instanceof Te?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Ee(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return Ee(e)&&(e instanceof he||ks(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(i=>{i.channelCount=e.channelCount,i.channelCountMode=e.channelCountMode,i.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();ke(e.length>0,"ToneAudioNode does not have any internal nodes");const s=e[0];return{channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelInterpretation:e}))}connect(e,s=0,i=0){return vn(this,e,s,i),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return cl("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,s=0,i=0){return Tm(this,e,s,i),this}chain(...e){return Ys(this,...e),this}fan(...e){return e.forEach(s=>this.connect(s)),this}dispose(){return super.dispose(),Ee(this.input)&&(this.input instanceof he?this.input.dispose():ks(this.input)&&this.input.disconnect()),Ee(this.output)&&(this.output instanceof he?this.output.dispose():ks(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Ys(...o){const e=o.shift();o.reduce((s,i)=>(s instanceof he?s.connect(i):ks(s)&&vn(s,i),i),e)}function vn(o,e,s=0,i=0){for(ke(Ee(o),"Cannot connect from undefined node"),ke(Ee(e),"Cannot connect to undefined node"),(e instanceof he||ks(e))&&ke(e.numberOfInputs>0,"Cannot connect to node with no inputs"),ke(o.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof he||e instanceof Te;)Ee(e.input)&&(e=e.input);for(;o instanceof he;)Ee(o.output)&&(o=o.output);Qs(e)?o.connect(e,s):o.connect(e,s,i)}function Tm(o,e,s=0,i=0){if(Ee(e))for(;e instanceof he;)e=e.input;for(;!ks(o);)Ee(o.output)&&(o=o.output);Qs(e)?o.disconnect(e,s):ks(e)?o.disconnect(e,s,i):o.disconnect()}class Ce extends he{constructor(){super(H(Ce.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const e=H(Ce.getDefaults(),arguments,["gain","units"]);this.gain=new Te({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Ae(this,"gain")}static getDefaults(){return Object.assign(he.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class jr extends he{constructor(e){super(e),this.onended=Re,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Ce({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(s){const i=this.toSeconds(s);return this._startTime!==-1&&i>=this._startTime&&(this._stopTime===-1||i<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(he.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Re})}_startGain(e,s=1){ke(this._startTime===-1,"Source cannot be started more than once");const i=this.toSeconds(this._fadeIn);return this._startTime=e+i,this._startTime=Math.max(this._startTime,this.context.currentTime),i>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(s,e+i):this._gainNode.gain.exponentialApproachValueAtTime(s,e,i)):this._gainNode.gain.setValueAtTime(s,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){ke(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const s=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+s,this._stopTime=Math.max(this._stopTime,this.now()),s>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,s,e):this._gainNode.gain.targetRampTo(0,s,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const i=this._curve==="exponential"?s*2:0;this._stopSource(this.now()+i),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Re&&(this.onended(this),this.onended=Re,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),ke(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Re,this}}class za extends jr{constructor(){super(H(za.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const e=H(za.getDefaults(),arguments,["offset"]);vn(this._source,this._gainNode),this.offset=new Te({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(jr.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const s=this.toSeconds(e);return this.log("start",s),this._startGain(s),this._source.start(s),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class De extends he{constructor(){super(H(De.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const e=H(De.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new za({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(he.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,s=0,i=0){return ml(this,e,s,i),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,s){return this._param.setValueAtTime(e,s),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,s){return this._param.linearRampToValueAtTime(e,s),this}exponentialRampToValueAtTime(e,s){return this._param.exponentialRampToValueAtTime(e,s),this}exponentialRampTo(e,s,i){return this._param.exponentialRampTo(e,s,i),this}linearRampTo(e,s,i){return this._param.linearRampTo(e,s,i),this}targetRampTo(e,s,i){return this._param.targetRampTo(e,s,i),this}exponentialApproachValueAtTime(e,s,i){return this._param.exponentialApproachValueAtTime(e,s,i),this}setTargetAtTime(e,s,i){return this._param.setTargetAtTime(e,s,i),this}setValueCurveAtTime(e,s,i,a){return this._param.setValueCurveAtTime(e,s,i,a),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,s,i){return this._param.rampTo(e,s,i),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function ml(o,e,s,i){(e instanceof Te||Qs(e)||e instanceof De&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof De&&(e.overridden=!0)),vn(o,e,s,i)}class Wa extends Te{constructor(){super(H(Wa.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new sn(1/0),this._multiplier=1;const e=H(Wa.getDefaults(),arguments,["value"]);this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Te.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,s,i){s=this.toSeconds(s),this.setRampPoint(s);const a=this._fromType(e),u=this._events.get(s),h=Math.round(Math.max(1/i,1));for(let d=0;d<=h;d++){const p=i*d+s,m=this._exponentialApproach(u.time,u.value,a,i,p);this.linearRampToValueAtTime(this._toType(m),p)}return this}setValueAtTime(e,s){const i=this.toSeconds(s);super.setValueAtTime(e,s);const a=this._events.get(i),u=this._events.previousEvent(a),h=this._getTicksUntilEvent(u,i);return a.ticks=Math.max(h,0),this}linearRampToValueAtTime(e,s){const i=this.toSeconds(s);super.linearRampToValueAtTime(e,s);const a=this._events.get(i),u=this._events.previousEvent(a),h=this._getTicksUntilEvent(u,i);return a.ticks=Math.max(h,0),this}exponentialRampToValueAtTime(e,s){s=this.toSeconds(s);const i=this._fromType(e),a=this._events.get(s),u=Math.round(Math.max((s-a.time)*10,1)),h=(s-a.time)/u;for(let d=0;d<=u;d++){const p=h*d+a.time,m=this._exponentialInterpolate(a.time,a.value,s,i,p);this.linearRampToValueAtTime(this._toType(m),p)}return this}_getTicksUntilEvent(e,s){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(nn(e.ticks)){const h=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(h,e.time)}const i=this._fromType(this.getValueAtTime(e.time));let a=this._fromType(this.getValueAtTime(s));const u=this._events.get(s);return u&&u.time===s&&u.type==="setValueAtTime"&&(a=this._fromType(this.getValueAtTime(s-this.sampleTime))),.5*(s-e.time)*(i+a)+e.ticks}getTicksAtTime(e){const s=this.toSeconds(e),i=this._events.get(s);return Math.max(this._getTicksUntilEvent(i,s),0)}getDurationOfTicks(e,s){const i=this.toSeconds(s),a=this.getTicksAtTime(s);return this.getTimeOfTick(a+e)-i}getTimeOfTick(e){const s=this._events.get(e,"ticks"),i=this._events.getAfter(e,"ticks");if(s&&s.ticks===e)return s.time;if(s&&i&&i.type==="linearRampToValueAtTime"&&s.value!==i.value){const a=this._fromType(this.getValueAtTime(s.time)),h=(this._fromType(this.getValueAtTime(i.time))-a)/(i.time-s.time),d=Math.sqrt(Math.pow(a,2)-2*h*(s.ticks-e)),p=(-a+d)/h,m=(-a-d)/h;return(p>0?p:m)+s.time}else return s?s.value===0?1/0:s.time+(e-s.ticks)/s.value:e/this._initialValue}ticksToTime(e,s){return this.getDurationOfTicks(e,s)}timeToTicks(e,s){const i=this.toSeconds(s),a=this.toSeconds(e),u=this.getTicksAtTime(i);return this.getTicksAtTime(i+a)-u}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const s=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(s,0)}}class Ba extends De{constructor(){super(H(Ba.getDefaults(),arguments,["value"])),this.name="TickSignal";const e=H(Ba.getDefaults(),arguments,["value"]);this.input=this._param=new Wa({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(De.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,s){return this._param.ticksToTime(e,s)}timeToTicks(e,s){return this._param.timeToTicks(e,s)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,s){return this._param.getDurationOfTicks(e,s)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Ua extends qt{constructor(){super(H(Ua.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new Gc,this._tickOffset=new sn,this._ticksAtTime=new sn,this._secondsAtTime=new sn;const e=H(Ua.getDefaults(),arguments,["frequency"]);this.frequency=new Ba({context:this.context,units:e.units,value:e.frequency}),Ae(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},qt.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,s){const i=this.toSeconds(e);return this._state.getValueAtTime(i)!=="started"&&(this._state.setStateAtTime("started",i),Ee(s)&&this.setTicksAtTime(s,i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i)),this}stop(e){const s=this.toSeconds(e);if(this._state.getValueAtTime(s)==="stopped"){const i=this._state.get(s);i&&i.time>0&&(this._tickOffset.cancel(i.time),this._state.cancel(i.time))}return this._state.cancel(s),this._state.setStateAtTime("stopped",s),this.setTicksAtTime(0,s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s),this}pause(e){const s=this.toSeconds(e);return this._state.getValueAtTime(s)==="started"&&(this._state.setStateAtTime("paused",s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const s=this.toSeconds(e),i=this._state.getLastState("stopped",s),a=this._ticksAtTime.get(s),u={state:"paused",time:s};this._state.add(u);let h=a||i,d=a?a.ticks:0,p=null;return this._state.forEachBetween(h.time,s+this.sampleTime,m=>{let g=h.time;const v=this._tickOffset.get(m.time);v&&v.time>=h.time&&(d=v.ticks,g=v.time),h.state==="started"&&m.state!=="started"&&(d+=this.frequency.getTicksAtTime(m.time)-this.frequency.getTicksAtTime(g),m.time!==u.time&&(p={state:m.state,time:m.time,ticks:d})),h=m}),this._state.remove(u),p&&this._ticksAtTime.add(p),d}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const s=this.now(),i=this.frequency.timeToTicks(e,s);this.setTicksAtTime(i,s)}getSecondsAtTime(e){e=this.toSeconds(e);const s=this._state.getLastState("stopped",e),i={state:"paused",time:e};this._state.add(i);const a=this._secondsAtTime.get(e);let u=a||s,h=a?a.seconds:0,d=null;return this._state.forEachBetween(u.time,e+this.sampleTime,p=>{let m=u.time;const g=this._tickOffset.get(p.time);g&&g.time>=u.time&&(h=g.seconds,m=g.time),u.state==="started"&&p.state!=="started"&&(h+=p.time-m,p.time!==i.time&&(d={state:p.state,time:p.time,seconds:h})),u=p}),this._state.remove(i),d&&this._secondsAtTime.add(d),h}setTicksAtTime(e,s){return s=this.toSeconds(s),this._tickOffset.cancel(s),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,s),ticks:e,time:s}),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,s=this.now()){const i=this._tickOffset.get(s),a=this._state.get(s),u=Math.max(i.time,a.time),h=this.frequency.getTicksAtTime(u)+e-i.ticks;return this.frequency.getTimeOfTick(h)}forEachTickBetween(e,s,i){let a=this._state.get(e);this._state.forEachBetween(e,s,h=>{a&&a.state==="started"&&h.state!=="started"&&this.forEachTickBetween(Math.max(a.time,e),h.time-this.sampleTime,i),a=h});let u=null;if(a&&a.state==="started"){const h=Math.max(a.time,e),d=this.frequency.getTicksAtTime(h),p=this.frequency.getTicksAtTime(a.time),m=d-p;let g=Math.ceil(m)-m;g=fn(g,1)?0:g;let v=this.frequency.getTimeOfTick(d+g);for(;v<s;){try{i(v,Math.round(this.getTicksAtTime(v)))}catch(k){u=k;break}v+=this.frequency.getDurationOfTicks(1,v)}}if(u)throw u;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class qi extends qt{constructor(){super(H(qi.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=Re,this._lastUpdate=0,this._state=new Gc("stopped"),this._boundLoop=this._loop.bind(this);const e=H(qi.getDefaults(),arguments,["callback","frequency"]);this.callback=e.callback,this._tickSource=new Ua({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Ae(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(qt.getDefaults(),{callback:Re,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,s){pm(this.context);const i=this.toSeconds(e);return this.log("start",i),this._state.getValueAtTime(i)!=="started"&&(this._state.setStateAtTime("started",i),this._tickSource.start(i,s),i<this._lastUpdate&&this.emit("start",i,s)),this}stop(e){const s=this.toSeconds(e);return this.log("stop",s),this._state.cancel(s),this._state.setStateAtTime("stopped",s),this._tickSource.stop(s),s<this._lastUpdate&&this.emit("stop",s),this}pause(e){const s=this.toSeconds(e);return this._state.getValueAtTime(s)==="started"&&(this._state.setStateAtTime("paused",s),this._tickSource.pause(s),s<this._lastUpdate&&this.emit("pause",s)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,s){return this._tickSource.setTicksAtTime(e,s),this}getTimeOfTick(e,s=this.now()){return this._tickSource.getTimeOfTick(e,s)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,s){const i=this.toSeconds(s),a=this.getTicksAtTime(i);return this._tickSource.getTimeOfTick(a+e,i)}_loop(){const e=this._lastUpdate,s=this.now();this._lastUpdate=s,this.log("loop",e,s),e!==s&&(this._state.forEachBetween(e,s,i=>{switch(i.state){case"started":const a=this._tickSource.getTicksAtTime(i.time);this.emit("start",i.time,a);break;case"stopped":i.time!==0&&this.emit("stop",i.time);break;case"paused":this.emit("pause",i.time);break}}),this._tickSource.forEachTickBetween(e,s,(i,a)=>{this.callback(i,a)}))}getStateAtTime(e){const s=this.toSeconds(e);return this._state.getValueAtTime(s)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}uo.mixin(qi);class Ss extends he{constructor(){super(H(Ss.getDefaults(),arguments,["delayTime","maxDelay"])),this.name="Delay";const e=H(Ss.getDefaults(),arguments,["delayTime","maxDelay"]),s=this.toSeconds(e.maxDelay);this._maxDelay=Math.max(s,this.toSeconds(e.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(s),this.delayTime=new Te({context:this.context,param:this._delayNode.delayTime,units:"time",value:e.delayTime,minValue:0,maxValue:this.maxDelay}),Ae(this,"delayTime")}static getDefaults(){return Object.assign(he.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}class Qc extends Zn{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=H(Qc.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(s=>{this._loadingCount++;const i=e.urls[s];this.add(s,i,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Re,onload:Re,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return ke(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,s])=>s.loaded)}add(e,s,i=Re,a=Re){return Qn(s)?(this.baseUrl&&s.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new Ve(this.baseUrl+s,i,a))):this._buffers.set(e.toString(),new Ve(s,i,a)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class $a extends Lt{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return Us(super._frequencyToUnits(e))}_ticksToUnits(e){return Us(super._ticksToUnits(e))}_beatsToUnits(e){return Us(super._beatsToUnits(e))}_secondsToUnits(e){return Us(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return Sm(this.toMidi())}transpose(e){return new $a(this.context,this.toMidi()+e)}}class br extends ji{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class ck extends qt{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new sn,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,s){return this._events.add({callback:e,time:this.toSeconds(s)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const s=this._events.shift();s&&e-s.time<=this.expiration&&s.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}hl(o=>{o.draw=new ck({context:o})});dl(o=>{o.draw.dispose()});class hk extends Zn{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){ke(Ee(e.time),"Events must have a time property"),ke(Ee(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let s=new dk(e.time,e.time+e.duration,e);for(this._root===null?this._root=s:this._root.insert(s),this._length++;s!==null;)s.updateHeight(),s.updateMax(),this._rebalance(s),s=s.parent;return this}remove(e){if(this._root!==null){const s=[];this._root.search(e.time,s);for(const i of s)if(i.event===e){this._removeNode(i),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,s=>this.remove(s)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,s){e.parent!==null?(e.isLeftChild()?e.parent.left=s:e.parent.right=s,this._rebalance(e.parent)):this._setRoot(s)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const s=e.getBalance();let i,a=null;if(s>0)if(e.left.right===null)i=e.left,i.right=e.right,a=i;else{for(i=e.left.right;i.right!==null;)i=i.right;i.parent&&(i.parent.right=i.left,a=i.parent,i.left=e.left,i.right=e.right)}else if(e.right.left===null)i=e.right,i.left=e.left,a=i;else{for(i=e.right.left;i.left!==null;)i=i.left;i.parent&&(i.parent.left=i.right,a=i.parent,i.left=e.left,i.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=i:e.parent.right=i:this._setRoot(i),a&&this._rebalance(a)}e.dispose()}_rotateLeft(e){const s=e.parent,i=e.isLeftChild(),a=e.right;a&&(e.right=a.left,a.left=e),s!==null?i?s.left=a:s.right=a:this._setRoot(a)}_rotateRight(e){const s=e.parent,i=e.isLeftChild(),a=e.left;a&&(e.left=a.right,a.right=e),s!==null?i?s.left=a:s.right=a:this._setRoot(a)}_rebalance(e){const s=e.getBalance();s>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):s<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const s=[];if(this._root.search(e,s),s.length>0){let i=s[0];for(let a=1;a<s.length;a++)s[a].low>i.low&&(i=s[a]);return i.event}}return null}forEach(e){if(this._root!==null){const s=[];this._root.traverse(i=>s.push(i)),s.forEach(i=>{i.event&&e(i.event)})}return this}forEachAtTime(e,s){if(this._root!==null){const i=[];this._root.search(e,i),i.forEach(a=>{a.event&&s(a.event)})}return this}forEachFrom(e,s){if(this._root!==null){const i=[];this._root.searchAfter(e,i),i.forEach(a=>{a.event&&s(a.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class dk{constructor(e,s,i){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=i,this.low=e,this.high=s,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,s){e>this.max||(this.left!==null&&this.left.search(e,s),this.low<=e&&this.high>e&&s.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,s))}searchAfter(e,s){this.low>=e&&(s.push(this),this.left!==null&&this.left.searchAfter(e,s)),this.right!==null&&this.right.searchAfter(e,s)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Xs extends he{constructor(){super(H(Xs.getDefaults(),arguments,["volume"])),this.name="Volume";const e=H(Xs.getDefaults(),arguments,["volume"]);this.input=this.output=new Ce({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Ae(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(he.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Ha extends he{constructor(){super(H(Ha.getDefaults(),arguments)),this.name="Destination",this.input=new Xs({context:this.context}),this.output=new Ce({context:this.context}),this.volume=this.input.volume;const e=H(Ha.getDefaults(),arguments);Ys(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(he.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Ys(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}hl(o=>{o.destination=new Ha({context:o})});dl(o=>{o.destination.dispose()});class fk extends Zn{constructor(e){super(),this.name="TimelineValue",this._timeline=new sn({memory:10}),this._initialValue=e}set(e,s){return this._timeline.add({value:e,time:s}),this}get(e){const s=this._timeline.get(e);return s?s.value:this._initialValue}}class Mn extends he{constructor(){super(Object.assign(H(Mn.getDefaults(),arguments,["context"])))}connect(e,s=0,i=0){return ml(this,e,s,i),this}}class Ts extends Mn{constructor(){super(Object.assign(H(Ts.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const e=H(Ts.getDefaults(),arguments,["mapping","length"]);Qt(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):Lw(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(De.getDefaults(),{length:1024})}setMap(e,s=1024){const i=new Float32Array(s);for(let a=0,u=s;a<u;a++){const h=a/(u-1)*2-1;i[a]=e(h,a)}return this.curve=i,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const s=["none","2x","4x"].some(i=>i.includes(e));ke(s,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class zi extends Mn{constructor(){super(Object.assign(H(zi.getDefaults(),arguments,["value"]))),this.name="Pow";const e=H(zi.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new Ts({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Mn.getDefaults(),{value:1})}_expFunc(e){return s=>Math.pow(Math.abs(s),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Cs{constructor(e,s){this.id=Cs._eventId++,this._remainderTime=0;const i=Object.assign(Cs.getDefaults(),s);this.transport=e,this.callback=i.callback,this._once=i.once,this.time=Math.floor(i.time),this._remainderTime=i.time-this.time}static getDefaults(){return{callback:Re,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const s=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*s),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Cs._eventId=0;class Yc extends Cs{constructor(e,s){super(e,s),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const i=Object.assign(Yc.getDefaults(),s);this.duration=i.duration,this._interval=i.interval,this._nextTick=i.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Cs.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return qa(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new br(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){qa(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new br(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const s=this.transport.getTicksAtTime(e);Pr(s,this.time)&&(this._nextTick=this.floatTime+Math.ceil((s-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Wi extends qt{constructor(){super(H(Wi.getDefaults(),arguments)),this.name="Transport",this._loop=new fk(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new sn,this._repeatedEvents=new hk,this._syncedSignals=[],this._swingAmount=0;const e=H(Wi.getDefaults(),arguments);this._ppq=e.ppq,this._clock=new qi({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Ae(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(qt.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,s){if(this._loop.get(e)&&s>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),s=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&s%this._ppq!==0&&s%(this._swingTicks*2)!==0){const i=s%(this._swingTicks*2)/(this._swingTicks*2),a=Math.sin(i*Math.PI)*this._swingAmount;e+=new br(this.context,this._swingTicks*2/3).toSeconds()*a}pp(!0),this._timeline.forEachAtTime(s,i=>i.invoke(e)),pp(!1)}schedule(e,s){const i=new Cs(this,{callback:e,time:new ji(this.context,s).toTicks()});return this._addEvent(i,this._timeline)}scheduleRepeat(e,s,i,a=1/0){const u=new Yc(this,{callback:e,duration:new pn(this.context,a).toTicks(),interval:new pn(this.context,s).toTicks(),time:new ji(this.context,i).toTicks()});return this._addEvent(u,this._repeatedEvents)}scheduleOnce(e,s){const i=new Cs(this,{callback:e,once:!0,time:new ji(this.context,s).toTicks()});return this._addEvent(i,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const s=this._scheduledEvents[e.toString()];s.timeline.remove(s.event),s.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,s){return this._scheduledEvents[e.id.toString()]={event:e,timeline:s},s.add(e),e.id}cancel(e=0){const s=this.toTicks(e);return this._timeline.forEachFrom(s,i=>this.clear(i.id)),this._repeatedEvents.forEachFrom(s,i=>this.clear(i.id)),this}_bindClockEvents(){this._clock.on("start",(e,s)=>{s=new br(this.context,s).toSeconds(),this.emit("start",e,s)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,s){this.context.resume();let i;return Ee(s)&&(i=this.toTicks(s)),this._clock.start(e,i),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Qt(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new pn(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new pn(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,s){return this.loopStart=e,this.loopEnd=s,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new br(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),s=this._clock.getTicksAtTime(e);return new br(this.context,s).toBarsBeatsSixteenths()}set position(e){const s=this.toTicks(e);this.ticks=s}get seconds(){return this._clock.seconds}set seconds(e){const s=this.now(),i=this._clock.frequency.timeToTicks(e,s);this.ticks=i}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const s=this.now();if(this.state==="started"){const i=this._clock.getTicksAtTime(s),a=this._clock.frequency.getDurationOfTicks(Math.ceil(i)-i,s),u=s+a;this.emit("stop",u),this._clock.setTicksAtTime(e,u),this.emit("start",u,this._clock.getSecondsAtTime(u))}else this.emit("ticks",s),this._clock.setTicksAtTime(e,s)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const s=this.now(),i=this.getTicksAtTime(s),a=e-i%e;return this._clock.nextTickTime(a,s)}}syncSignal(e,s){const i=this.now();let a=this.bpm,u=1/(60/a.getValueAtTime(i)/this.PPQ),h=[];if(e.units==="time"){const p=.015625/u,m=new Ce(p),g=new zi(-1),v=new Ce(p);a.chain(m,g,v),a=v,u=1/u,h=[m,g,v]}s||(e.getValueAtTime(i)!==0?s=e.getValueAtTime(i)/u:s=0);const d=new Ce(s);return a.connect(d),d.connect(e._param),h.push(d),this._syncedSignals.push({initial:e.value,nodes:h,signal:e}),e.value=0,this}unsyncSignal(e){for(let s=this._syncedSignals.length-1;s>=0;s--){const i=this._syncedSignals[s];i.signal===e&&(i.nodes.forEach(a=>a.dispose()),i.signal.value=i.initial,this._syncedSignals.splice(s,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),$c(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}uo.mixin(Wi);hl(o=>{o.transport=new Wi({context:o})});dl(o=>{o.transport.dispose()});class dt extends he{constructor(e){super(e),this.input=void 0,this._state=new Gc("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Re,this._syncedStop=Re,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Xs({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Ae(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(he.getDefaults(),{mute:!1,onstop:Re,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,s,i){let a=nn(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(a=this._clampToCurrentTime(a),!this._synced&&this._state.getValueAtTime(a)==="started")ke(Pr(a,this._state.get(a).time),"Start time must be strictly greater than previous start time"),this._state.cancel(a),this._state.setStateAtTime("started",a),this.log("restart",a),this.restart(a,s,i);else if(this.log("start",a),this._state.setStateAtTime("started",a),this._synced){const u=this._state.get(a);u&&(u.offset=this.toSeconds(Or(s,0)),u.duration=i?this.toSeconds(i):void 0);const h=this.context.transport.schedule(d=>{this._start(d,s,i)},a);this._scheduled.push(h),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>a&&this._syncedStart(this.now(),this.context.transport.seconds)}else pm(this.context),this._start(a,s,i);return this}stop(e){let s=nn(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(s=this._clampToCurrentTime(s),this._state.getValueAtTime(s)==="started"||Ee(this._state.getNextState("started",s))){if(this.log("stop",s),!this._synced)this._stop(s);else{const i=this.context.transport.schedule(this._stop.bind(this),s);this._scheduled.push(i)}this._state.cancel(s),this._state.setStateAtTime("stopped",s)}return this}restart(e,s,i){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,s,i)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,s)=>{if(Pr(s,0)){const i=this._state.get(s);if(i&&i.state==="started"&&i.time!==s){const a=s-this.toSeconds(i.time);let u;i.duration&&(u=this.toSeconds(i.duration)-a),this._start(e,this.toSeconds(i.offset)+a,u)}}},this._syncedStop=e=>{const s=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(s)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Re,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Vr extends jr{constructor(){super(H(Vr.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const e=H(Vr.getDefaults(),arguments,["url","onload"]);vn(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Te({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new Ve(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(jr.getDefaults(),{url:new Ve,loop:!1,loopEnd:0,loopStart:0,onload:Re,onerror:Re,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,s,i,a=1){ke(this.buffer.loaded,"buffer is either not set or not loaded");const u=this.toSeconds(e);this._startGain(u,a),this.loop?s=Or(s,this.loopStart):s=Or(s,0);let h=Math.max(this.toSeconds(s),0);if(this.loop){const d=this.toSeconds(this.loopEnd)||this.buffer.duration,p=this.toSeconds(this.loopStart),m=d-p;xc(h,d)&&(h=(h-p)%m+p),fn(h,this.buffer.duration)&&(h=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,qa(h,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(u,h)),Ee(i)){let d=this.toSeconds(i);d=Math.max(d,0),this.stop(u+d)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class Zs extends dt{constructor(){super(H(Zs.getDefaults(),arguments,["type"])),this.name="Noise",this._source=null;const e=H(Zs.getDefaults(),arguments,["type"]);this._playbackRate=e.playbackRate,this.type=e.type,this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut}static getDefaults(){return Object.assign(dt.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(e){if(ke(e in mp,"Noise: invalid type: "+e),this._type!==e&&(this._type=e,this.state==="started")){const s=this.now();this._stop(s),this._start(s)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._source&&(this._source.playbackRate.value=e)}_start(e){const s=mp[this._type];this._source=new Vr({url:s,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(e),Math.random()*(s.duration-.001))}_stop(e){this._source&&(this._source.stop(this.toSeconds(e)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(e){this._stop(e),this._start(e)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const Ar=44100*5,hc=2,Bn={brown:null,pink:null,white:null},mp={get brown(){if(!Bn.brown){const o=[];for(let e=0;e<hc;e++){const s=new Float32Array(Ar);o[e]=s;let i=0;for(let a=0;a<Ar;a++){const u=Math.random()*2-1;s[a]=(i+.02*u)/1.02,i=s[a],s[a]*=3.5}}Bn.brown=new Ve().fromArray(o)}return Bn.brown},get pink(){if(!Bn.pink){const o=[];for(let e=0;e<hc;e++){const s=new Float32Array(Ar);o[e]=s;let i,a,u,h,d,p,m;i=a=u=h=d=p=m=0;for(let g=0;g<Ar;g++){const v=Math.random()*2-1;i=.99886*i+v*.0555179,a=.99332*a+v*.0750759,u=.969*u+v*.153852,h=.8665*h+v*.3104856,d=.55*d+v*.5329522,p=-.7616*p-v*.016898,s[g]=i+a+u+h+d+p+m+v*.5362,s[g]*=.11,m=v*.115926}}Bn.pink=new Ve().fromArray(o)}return Bn.pink},get white(){if(!Bn.white){const o=[];for(let e=0;e<hc;e++){const s=new Float32Array(Ar);o[e]=s;for(let i=0;i<Ar;i++)s[i]=Math.random()*2-1}Bn.white=new Ve().fromArray(o)}return Bn.white}};function tr(o,e){return it(this,void 0,void 0,function*(){const s=e/o.context.sampleRate,i=new fl(1,s,o.context.sampleRate);return new o.constructor(Object.assign(o.get(),{frequency:2/s,detune:0,context:i})).toDestination().start(0),(yield i.render()).getChannelData(0)})}class Ga extends jr{constructor(){super(H(Ga.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const e=H(Ga.getDefaults(),arguments,["frequency","type"]);vn(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new Te({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new Te({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Ae(this,["frequency","detune"])}static getDefaults(){return Object.assign(jr.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const s=this.toSeconds(e);return this.log("start",s),this._startGain(s),this._oscillator.start(s),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Ke extends dt{constructor(){super(H(Ke.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const e=H(Ke.getDefaults(),arguments,["frequency","type"]);this.frequency=new De({context:this.context,units:"frequency",value:e.frequency}),Ae(this,"frequency"),this.detune=new De({context:this.context,units:"cents",value:e.detune}),Ae(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(dt.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const s=this.toSeconds(e),i=new Ga({context:this.context,onended:()=>this.onstop(this)});this._oscillator=i,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(s)}_stop(e){const s=this.toSeconds(e);this._oscillator&&this._oscillator.stop(s)}_restart(e){const s=this.toSeconds(e);return this.log("restart",s),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(s),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Ke._periodicWaveCache.find(s=>s.phase===this._phase&&Xw(s.partials,this._partials));{const e=Ke._periodicWaveCache.find(s=>s.type===this._type&&s.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const s=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&s)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const i=this._getCachedPeriodicWave();if(Ee(i)){const{partials:a,wave:u}=i;this._wave=u,this._partials=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[a,u]=this._getRealImaginary(e,this._phase),h=this.context.createPeriodicWave(a,u);this._wave=h,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Ke._periodicWaveCache.push({imag:u,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:a,type:this._type,wave:this._wave}),Ke._periodicWaveCache.length>100&&Ke._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){gn(e,0);let s=this._type;const i=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(i&&(s=i[1]),this._type!=="custom")e===0?this.type=s:this.type=s+e.toString();else{const a=new Float32Array(e);this._partials.forEach((u,h)=>a[h]=u),this._partials=Array.from(a),this.type=this._type}}_getRealImaginary(e,s){let a=2048;const u=new Float32Array(a),h=new Float32Array(a);let d=1;if(e==="custom"){if(d=this._partials.length+1,this._partialCount=this._partials.length,a=d,this._partials.length===0)return[u,h]}else{const p=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);p?(d=parseInt(p[2],10)+1,this._partialCount=parseInt(p[2],10),e=p[1],d=Math.max(d,2),a=d):this._partialCount=0,this._partials=[]}for(let p=1;p<a;++p){const m=2/(p*Math.PI);let g;switch(e){case"sine":g=p<=d?1:0,this._partials[p-1]=g;break;case"square":g=p&1?2*m:0,this._partials[p-1]=g;break;case"sawtooth":g=m*(p&1?1:-1),this._partials[p-1]=g;break;case"triangle":p&1?g=2*(m*m)*(p-1>>1&1?-1:1):g=0,this._partials[p-1]=g;break;case"custom":g=this._partials[p-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}g!==0?(u[p]=-g*Math.sin(s*p),h[p]=g*Math.cos(s*p)):(u[p]=0,h[p]=0)}return[u,h]}_inverseFFT(e,s,i){let a=0;const u=e.length;for(let h=0;h<u;h++)a+=e[h]*Math.cos(h*i)+s[h]*Math.sin(h*i);return a}getInitialValue(){const[e,s]=this._getRealImaginary(this._type,0);let i=0;const a=Math.PI*2,u=32;for(let h=0;h<u;h++)i=Math.max(this._inverseFFT(e,s,h/u*a),i);return Kw(-this._inverseFFT(e,s,this._phase)/i,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(e=1024){return it(this,void 0,void 0,function*(){return tr(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Ke._periodicWaveCache=[];class Xc extends Mn{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Ts({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class yn extends De{constructor(){super(Object.assign(H(yn.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const e=H(yn.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new Ce({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(De.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Bi extends dt{constructor(){super(H(Bi.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new Xc({context:this.context}),this._modulationNode=new Ce({context:this.context});const e=H(Bi.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Ke({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Ke({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new yn({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Ae(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Ke.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return it(this,void 0,void 0,function*(){return tr(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Fr extends dt{constructor(){super(H(Fr.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new Ce({context:this.context,gain:0});const e=H(Fr.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Ke({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new De({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Ke({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new yn({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new yn({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Ae(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Ke.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return it(this,void 0,void 0,function*(){return tr(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Lr extends dt{constructor(){super(H(Lr.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new Ce({context:this.context,gain:0}),this._thresh=new Ts({context:this.context,mapping:s=>s<=0?-1:1});const e=H(Lr.getDefaults(),arguments,["frequency","width"]);this.width=new De({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Ke({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Ae(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(dt.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(e=1024){return it(this,void 0,void 0,function*(){return tr(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Ui extends dt{constructor(){super(H(Ui.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const e=H(Ui.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new De({context:this.context,units:"frequency",value:e.frequency}),this.detune=new De({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Ae(this,["frequency","detune"])}static getDefaults(){return Object.assign(Ke.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(s=>s.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(s=>s.stop(e))}_restart(e){this._forEach(s=>s.restart(e))}_forEach(e){for(let s=0;s<this._oscillators.length;s++)e(this._oscillators[s],s)}get type(){return this._type}set type(e){this._type=e,this._forEach(s=>s.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const s=-e/2,i=e/(this._oscillators.length-1);this._forEach((a,u)=>a.detune.value=s+i*u)}}get count(){return this._oscillators.length}set count(e){if(gn(e,1),this._oscillators.length!==e){this._forEach(s=>s.dispose()),this._oscillators=[];for(let s=0;s<e;s++){const i=new Ke({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+s/e*360,partialCount:this._partialCount,onstop:s===0?()=>this.onstop(this):Re});this.type==="custom"&&(i.partials=this._partials),this.frequency.connect(i.frequency),this.detune.connect(i.detune),i.detune.overridden=!1,i.connect(this.output),this._oscillators[s]=i}this.spread=this._spread,this.state==="started"&&this._forEach(s=>s.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((s,i)=>s.phase=this._phase+i/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(s=>s.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(s=>s.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(s=>s.partialCount=e),this._type=this._oscillators[0].type}asArray(e=1024){return it(this,void 0,void 0,function*(){return tr(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class $i extends dt{constructor(){super(H($i.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new yn({context:this.context,value:2});const e=H($i.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new Lr({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Ke({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Ae(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(dt.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(e=1024){return it(this,void 0,void 0,function*(){return tr(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const gp={am:Bi,fat:Ui,fm:Fr,oscillator:Ke,pulse:Lr,pwm:$i};class Yn extends dt{constructor(){super(H(Yn.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const e=H(Yn.getDefaults(),arguments,["frequency","type"]);this.frequency=new De({context:this.context,units:"frequency",value:e.frequency}),this.detune=new De({context:this.context,units:"cents",value:e.detune}),Ae(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Ke.getDefaults(),Fr.getDefaults(),Bi.getDefaults(),Ui.getDefaults(),Lr.getDefaults(),$i.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(s=>this._sourceType===s)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const s=gp[e],i=this.now();if(this._oscillator){const a=this._oscillator;a.stop(i),this.context.setTimeout(()=>a.dispose(),this.blockTime)}this._oscillator=new s({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(i)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let s="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(s=this._oscillator.type),e==="fm"?this.type="fm"+s:e==="am"?this.type="am"+s:e==="fat"?this.type="fat"+s:e==="oscillator"?this.type=s:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,s){return e instanceof gp[s]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&Gn(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&Gn(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Qn(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(e=1024){return it(this,void 0,void 0,function*(){return tr(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Zc extends De{constructor(){super(Object.assign(H(Zc.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new Ce({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Ys(this._constantSource,this._sum)}static getDefaults(){return Object.assign(De.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class qr extends Mn{constructor(){super(Object.assign(H(qr.getDefaults(),arguments,["min","max"]))),this.name="Scale";const e=H(qr.getDefaults(),arguments,["min","max"]);this._mult=this.input=new yn({context:this.context,value:e.max-e.min}),this._add=this.output=new Zc({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(Mn.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class Kc extends Mn{constructor(){super(Object.assign(H(Kc.getDefaults(),arguments))),this.name="Zero",this._gain=new Ce({context:this.context}),this.output=this._gain,this.input=void 0,vn(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),Tm(this.context.getConstant(0),this._gain),this}}class Hi extends he{constructor(){super(H(Hi.getDefaults(),arguments,["frequency","min","max"])),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=Te.prototype._fromType,this._toType=Te.prototype._toType,this._is=Te.prototype._is,this._clampValue=Te.prototype._clampValue;const e=H(Hi.getDefaults(),arguments,["frequency","min","max"]);this._oscillator=new Ke(e),this.frequency=this._oscillator.frequency,this._amplitudeGain=new Ce({context:this.context,gain:e.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new De({context:this.context,units:"audioRange",value:0}),this._zeros=new Kc({context:this.context}),this._a2g=new Xc({context:this.context}),this._scaler=this.output=new qr({context:this.context,max:e.max,min:e.min}),this.units=e.units,this.min=e.min,this.max=e.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),Ae(this,["amplitude","frequency"]),this.phase=e.phase}static getDefaults(){return Object.assign(Ke.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(0,e),this._oscillator.start(e),this}stop(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(this._stoppedValue,e),this._oscillator.stop(e),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(e){e=this._fromType(e),this._scaler.min=e}get max(){return this._toType(this._scaler.max)}set max(e){e=this._fromType(e),this._scaler.max=e}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(e){this._oscillator.partials=e,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e,this._setStoppedValue()}get units(){return this._units}set units(e){const s=this.min,i=this.max;this._units=e,this.min=s,this.max=i}get state(){return this._oscillator.state}connect(e,s,i){return(e instanceof Te||e instanceof De)&&(this.convert=e.convert,this.units=e.units),ml(this,e,s,i),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function Cm(o,e=1/0){const s=new WeakMap;return function(i,a){Reflect.defineProperty(i,a,{configurable:!0,enumerable:!0,get:function(){return s.get(this)},set:function(u){gn(u,o,e),s.set(this,u)}})}}function Kn(o,e=1/0){const s=new WeakMap;return function(i,a){Reflect.defineProperty(i,a,{configurable:!0,enumerable:!0,get:function(){return s.get(this)},set:function(u){gn(this.toSeconds(u),o,e),s.set(this,u)}})}}class Gi extends dt{constructor(){super(H(Gi.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const e=H(Gi.getDefaults(),arguments,["url","onload"]);this._buffer=new Ve({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(dt.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Re,onerror:Re,playbackRate:1,reverse:!1})}load(e){return it(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=Re){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,s,i){return super.start(e,s,i),this}_start(e,s,i){this._loop?s=Or(s,this._loopStart):s=Or(s,0);const a=this.toSeconds(s),u=i;i=Or(i,Math.max(this._buffer.duration-a,0));let h=this.toSeconds(i);h=h/this._playbackRate,e=this.toSeconds(e);const d=new Vr({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+h),this._state.setStateAtTime("stopped",e+h,{implicitEnd:!0})),this._activeSources.add(d),this._loop&&nn(u)?d.start(e,a):d.start(e,a,h-this.toSeconds(this.fadeOut))}_stop(e){const s=this.toSeconds(e);this._activeSources.forEach(i=>i.stop(s))}restart(e,s,i){return super.restart(e,s,i),this}_restart(e,s,i){var a;(a=[...this._activeSources].pop())===null||a===void 0||a.stop(e),this._start(e,s,i)}seek(e,s){const i=this.toSeconds(s);if(this._state.getValueAtTime(i)==="started"){const a=this.toSeconds(e);this._stop(i),this._start(i,a)}return this}setLoopPoints(e,s){return this.loopStart=e,this.loopEnd=s,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&gn(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(s=>{s.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&gn(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(s=>{s.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(s=>{s.loop=e}),e)){const s=this._state.getNextState("stopped",this.now());s&&this._state.cancel(s.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const s=this.now(),i=this._state.getNextState("stopped",s);i&&i.implicitEnd&&(this._state.cancel(i.time),this._activeSources.forEach(a=>a.cancelStop())),this._activeSources.forEach(a=>{a.playbackRate.setValueAtTime(e,s)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}xn([Kn(0)],Gi.prototype,"fadeIn",void 0);xn([Kn(0)],Gi.prototype,"fadeOut",void 0);class pk extends Mn{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new Ts({context:this.context,mapping:e=>Math.abs(e)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class _t extends he{constructor(){super(H(_t.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new De({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const e=H(_t.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(he.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,s){if(Qn(e))return e;{let i;for(i in Ea)if(Ea[i][s]===e)return i;return e}}_setCurve(e,s,i){if(Qn(i)&&Reflect.has(Ea,i)){const a=Ea[i];$s(a)?e!=="_decayCurve"&&(this[e]=a[s]):this[e]=a}else if(Qt(i)&&e!=="_decayCurve")this[e]=i;else throw new Error("Envelope: invalid curve: "+i)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,s=1){this.log("triggerAttack",e,s),e=this.toSeconds(e);let a=this.toSeconds(this.attack);const u=this.toSeconds(this.decay),h=this.getValueAtTime(e);if(h>0){const d=1/a;a=(1-h)/d}if(a<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(s,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(s,a,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(s,a,e);else{this._sig.cancelAndHoldAtTime(e);let d=this._attackCurve;for(let p=1;p<d.length;p++)if(d[p-1]<=h&&h<=d[p]){d=this._attackCurve.slice(p),d[0]=h;break}this._sig.setValueCurveAtTime(d,e,a,s)}if(u&&this.sustain<1){const d=s*this.sustain,p=e+a;this.log("decay",p),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(d,u+p):this._sig.exponentialApproachValueAtTime(d,p,u)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const s=this.getValueAtTime(e);if(s>0){const i=this.toSeconds(this.release);i<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,i,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,i,e):(ke(Qt(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,i,s))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,s,i=1){return s=this.toSeconds(s),this.triggerAttack(s,i),this.triggerRelease(s+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,s=0,i=0){return ml(this,e,s,i),this}asArray(e=1024){return it(this,void 0,void 0,function*(){const s=e/this.context.sampleRate,i=new fl(1,s,this.context.sampleRate),a=this.toSeconds(this.attack)+this.toSeconds(this.decay),u=a+this.toSeconds(this.release),h=u*.1,d=u+h,p=new this.constructor(Object.assign(this.get(),{attack:s*this.toSeconds(this.attack)/d,decay:s*this.toSeconds(this.decay)/d,release:s*this.toSeconds(this.release)/d,context:i}));return p._sig.toDestination(),p.triggerAttackRelease(s*(a+h)/d,0),(yield i.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}xn([Kn(0)],_t.prototype,"attack",void 0);xn([Kn(0)],_t.prototype,"decay",void 0);xn([Cm(0,1)],_t.prototype,"sustain",void 0);xn([Kn(0)],_t.prototype,"release",void 0);const Ea=(()=>{let e,s;const i=[];for(e=0;e<128;e++)i[e]=Math.sin(e/127*(Math.PI/2));const a=[],u=6.4;for(e=0;e<127;e++){s=e/127;const k=Math.sin(s*(Math.PI*2)*u-Math.PI/2)+1;a[e]=k/10+s*.83}a[127]=1;const h=[],d=5;for(e=0;e<128;e++)h[e]=Math.ceil(e/127*d)/d;const p=[];for(e=0;e<128;e++)s=e/127,p[e]=.5*(1-Math.cos(Math.PI*s));const m=[];for(e=0;e<128;e++){s=e/127;const k=Math.pow(s,3)*4+.2,_=Math.cos(k*Math.PI*2*s);m[e]=Math.abs(_*(1-s))}function g(k){const _=new Array(k.length);for(let w=0;w<k.length;w++)_[w]=1-k[w];return _}function v(k){return k.slice(0).reverse()}return{bounce:{In:g(m),Out:m},cosine:{In:i,Out:v(i)},exponential:"exponential",linear:"linear",ripple:{In:a,Out:g(a)},sine:{In:p,Out:g(p)},step:{In:h,Out:g(h)}}})();class _n extends he{constructor(){super(H(_n.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=s=>this._original_triggerRelease(s);const e=H(_n.getDefaults(),arguments);this._volume=this.output=new Xs({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Ae(this,"volume")}static getDefaults(){return Object.assign(he.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,s){const i=this["_original_"+e]=this[e];this[e]=(...a)=>{const u=a[s],h=this.context.transport.schedule(d=>{a[s]=d,i.apply(this,a)},u);this._scheduledEvents.push(h)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,s,i,a){const u=this.toSeconds(i),h=this.toSeconds(s);return this.triggerAttack(e,u,a),this.triggerRelease(u+h),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Wt extends _n{constructor(){super(H(Wt.getDefaults(),arguments));const e=H(Wt.getDefaults(),arguments);this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(_n.getDefaults(),{detune:0,onsilence:Re,portamento:0})}triggerAttack(e,s,i=1){this.log("triggerAttack",e,s,i);const a=this.toSeconds(s);return this._triggerEnvelopeAttack(a,i),this.setNote(e,a),this}triggerRelease(e){this.log("triggerRelease",e);const s=this.toSeconds(e);return this._triggerEnvelopeRelease(s),this}setNote(e,s){const i=this.toSeconds(s),a=e instanceof Lt?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(i)>.05){const u=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(a,u,i)}else this.frequency.setValueAtTime(a,i);return this}}xn([Kn(0)],Wt.prototype,"portamento",void 0);class ho extends _t{constructor(){super(H(ho.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Ce({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Ue extends Wt{constructor(){super(H(Ue.getDefaults(),arguments)),this.name="Synth";const e=H(Ue.getDefaults(),arguments);this.oscillator=new Yn(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new ho(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Ae(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Wt.getDefaults(),{envelope:Object.assign(Ft(_t.getDefaults(),Object.keys(he.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Ft(Yn.getDefaults(),[...Object.keys(dt.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,s){if(this.envelope.triggerAttack(e,s),this.oscillator.start(e),this.envelope.sustain===0){const i=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+i+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class zr extends Wt{constructor(){super(H(zr.getDefaults(),arguments)),this.name="ModulationSynth";const e=H(zr.getDefaults(),arguments);this._carrier=new Ue({context:this.context,oscillator:e.oscillator,envelope:e.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new Ue({context:this.context,oscillator:e.modulation,envelope:e.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new De({context:this.context,units:"frequency"}),this.detune=new De({context:this.context,value:e.detune,units:"cents"}),this.harmonicity=new yn({context:this.context,value:e.harmonicity,minValue:0}),this._modulationNode=new Ce({context:this.context,gain:0}),Ae(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(Wt.getDefaults(),{harmonicity:3,oscillator:Object.assign(Ft(Yn.getDefaults(),[...Object.keys(dt.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(Ft(_t.getDefaults(),Object.keys(he.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(Ft(Yn.getDefaults(),[...Object.keys(dt.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(Ft(_t.getDefaults(),Object.keys(he.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(e,s){this._carrier._triggerEnvelopeAttack(e,s),this._modulator._triggerEnvelopeAttack(e,s)}_triggerEnvelopeRelease(e){return this._carrier._triggerEnvelopeRelease(e),this._modulator._triggerEnvelopeRelease(e),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class $n extends zr{constructor(){super(H($n.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new Xc({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class Qi extends he{constructor(){super(H(Qi.getDefaults(),arguments,["frequency","type"])),this.name="BiquadFilter";const e=H(Qi.getDefaults(),arguments,["frequency","type"]);this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Te({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new Te({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new Te({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new Te({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(he.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){ke(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const s=new Float32Array(e);for(let h=0;h<e;h++){const p=Math.pow(h/e,2)*19980+20;s[h]=p}const i=new Float32Array(e),a=new Float32Array(e),u=this.context.createBiquadFilter();return u.type=this.type,u.Q.value=this.Q.value,u.frequency.value=this.frequency.value,u.gain.value=this.gain.value,u.getFrequencyResponse(s,i,a),i}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class Ks extends he{constructor(){super(H(Ks.getDefaults(),arguments,["frequency","type","rolloff"])),this.name="Filter",this.input=new Ce({context:this.context}),this.output=new Ce({context:this.context}),this._filters=[];const e=H(Ks.getDefaults(),arguments,["frequency","type","rolloff"]);this._filters=[],this.Q=new De({context:this.context,units:"positive",value:e.Q}),this.frequency=new De({context:this.context,units:"frequency",value:e.frequency}),this.detune=new De({context:this.context,units:"cents",value:e.detune}),this.gain=new De({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,Ae(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(he.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){ke(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(i=>i.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const s=Gn(e)?e:parseInt(e,10),i=[-12,-24,-48,-96];let a=i.indexOf(s);ke(a!==-1,`rolloff can only be ${i.join(", ")}`),a+=1,this._rolloff=s,this.input.disconnect(),this._filters.forEach(u=>u.disconnect()),this._filters=new Array(a);for(let u=0;u<a;u++){const h=new Qi({context:this.context});h.type=this._type,this.frequency.connect(h.frequency),this.detune.connect(h.detune),this.Q.connect(h.Q),this.gain.connect(h.gain),this._filters[u]=h}this._internalChannels=this._filters,Ys(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const s=new Qi({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),i=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{s.getFrequencyResponse(e).forEach((u,h)=>i[h]*=u)}),s.dispose(),i}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),$c(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class Yi extends _t{constructor(){super(H(Yi.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="FrequencyEnvelope";const e=H(Yi.getDefaults(),arguments,["attack","decay","sustain","release"]);this._octaves=e.octaves,this._baseFrequency=this.toFrequency(e.baseFrequency),this._exponent=this.input=new zi({context:this.context,value:e.exponent}),this._scale=this.output=new qr({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(_t.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){const s=this.toFrequency(e);gn(s,0),this._baseFrequency=s,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._scale.max=this._baseFrequency*Math.pow(2,e)}get exponent(){return this._exponent.value}set exponent(e){this._exponent.value=e}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class Qa extends Wt{constructor(){super(H(Qa.getDefaults(),arguments)),this.name="MonoSynth";const e=H(Qa.getDefaults(),arguments);this.oscillator=new Yn(Object.assign(e.oscillator,{context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new Ks(Object.assign(e.filter,{context:this.context})),this.filterEnvelope=new Yi(Object.assign(e.filterEnvelope,{context:this.context})),this.envelope=new ho(Object.assign(e.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),Ae(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(Wt.getDefaults(),{envelope:Object.assign(Ft(_t.getDefaults(),Object.keys(he.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(Ft(Ks.getDefaults(),Object.keys(he.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(Ft(Yi.getDefaults(),Object.keys(he.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(Ft(Yn.getDefaults(),Object.keys(dt.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(e,s=1){if(this.envelope.triggerAttack(e,s),this.filterEnvelope.triggerAttack(e),this.oscillator.start(e),this.envelope.sustain===0){const i=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+i+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.filterEnvelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class Ge extends zr{constructor(){super(H(Ge.getDefaults(),arguments)),this.name="FMSynth";const e=H(Ge.getDefaults(),arguments);this.modulationIndex=new yn({context:this.context,value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(zr.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}const vp=[1,1.483,1.932,2.546,2.63,3.897];class Xi extends Wt{constructor(){super(H(Xi.getDefaults(),arguments)),this.name="MetalSynth",this._oscillators=[],this._freqMultipliers=[];const e=H(Xi.getDefaults(),arguments);this.detune=new De({context:this.context,units:"cents",value:e.detune}),this.frequency=new De({context:this.context,units:"frequency"}),this._amplitude=new Ce({context:this.context,gain:0}).connect(this.output),this._highpass=new Ks({Q:0,context:this.context,type:"highpass"}).connect(this._amplitude);for(let s=0;s<vp.length;s++){const i=new Fr({context:this.context,harmonicity:e.harmonicity,modulationIndex:e.modulationIndex,modulationType:"square",onstop:s===0?()=>this.onsilence(this):Re,type:"square"});i.connect(this._highpass),this._oscillators[s]=i;const a=new yn({context:this.context,value:vp[s]});this._freqMultipliers[s]=a,this.frequency.chain(a,i.frequency),this.detune.connect(i.detune)}this._filterFreqScaler=new qr({context:this.context,max:7e3,min:this.toFrequency(e.resonance)}),this.envelope=new _t({attack:e.envelope.attack,attackCurve:"linear",context:this.context,decay:e.envelope.decay,release:e.envelope.release,sustain:0}),this.envelope.chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitude.gain),this._octaves=e.octaves,this.octaves=e.octaves}static getDefaults(){return xs(Wt.getDefaults(),{envelope:Object.assign(Ft(_t.getDefaults(),Object.keys(he.getDefaults())),{attack:.001,decay:1.4,release:.2}),harmonicity:5.1,modulationIndex:32,octaves:1.5,resonance:4e3})}_triggerEnvelopeAttack(e,s=1){return this.envelope.triggerAttack(e,s),this._oscillators.forEach(i=>i.start(e)),this.envelope.sustain===0&&this._oscillators.forEach(i=>{i.stop(e+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay))}),this}_triggerEnvelopeRelease(e){return this.envelope.triggerRelease(e),this._oscillators.forEach(s=>s.stop(e+this.toSeconds(this.envelope.release))),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}get modulationIndex(){return this._oscillators[0].modulationIndex.value}set modulationIndex(e){this._oscillators.forEach(s=>s.modulationIndex.value=e)}get harmonicity(){return this._oscillators[0].harmonicity.value}set harmonicity(e){this._oscillators.forEach(s=>s.harmonicity.value=e)}get resonance(){return this._filterFreqScaler.min}set resonance(e){this._filterFreqScaler.min=this.toFrequency(e),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,e)}dispose(){return super.dispose(),this._oscillators.forEach(e=>e.dispose()),this._freqMultipliers.forEach(e=>e.dispose()),this.frequency.dispose(),this.detune.dispose(),this._filterFreqScaler.dispose(),this._amplitude.dispose(),this.envelope.dispose(),this._highpass.dispose(),this}}class Wr extends Ue{constructor(){super(H(Wr.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const e=H(Wr.getDefaults(),arguments);this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Ae(this,["oscillator","envelope"])}static getDefaults(){return xs(Wt.getDefaults(),Ue.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,s){const i=this.toSeconds(s),a=this.toFrequency(e instanceof Lt?e.toFrequency():e),u=a*this.octaves;return this.oscillator.frequency.setValueAtTime(u,i),this.oscillator.frequency.exponentialRampToValueAtTime(a,i+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}xn([Cm(0)],Wr.prototype,"octaves",void 0);xn([Kn(0)],Wr.prototype,"pitchDecay",void 0);class Zi extends _n{constructor(){super(H(Zi.getDefaults(),arguments)),this.name="NoiseSynth";const e=H(Zi.getDefaults(),arguments);this.noise=new Zs(Object.assign({context:this.context},e.noise)),this.envelope=new ho(Object.assign({context:this.context},e.envelope)),this.noise.chain(this.envelope,this.output)}static getDefaults(){return Object.assign(_n.getDefaults(),{envelope:Object.assign(Ft(_t.getDefaults(),Object.keys(he.getDefaults())),{decay:.1,sustain:0}),noise:Object.assign(Ft(Zs.getDefaults(),Object.keys(dt.getDefaults())),{type:"white"})})}triggerAttack(e,s=1){return e=this.toSeconds(e),this.envelope.triggerAttack(e,s),this.noise.start(e),this.envelope.sustain===0&&this.noise.stop(e+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this}triggerRelease(e){return e=this.toSeconds(e),this.envelope.triggerRelease(e),this.noise.stop(e+this.toSeconds(this.envelope.release)),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0)),this}triggerAttackRelease(e,s,i=1){return s=this.toSeconds(s),e=this.toSeconds(e),this.triggerAttack(s,i),this.triggerRelease(s+e),this}dispose(){return super.dispose(),this.noise.dispose(),this.envelope.dispose(),this}}const Nm=new Set;function Jc(o){Nm.add(o)}function Em(o,e){const s=`registerProcessor("${o}", ${e})`;Nm.add(s)}const mk=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Jc(mk);const gk=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Jc(gk);const vk=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Jc(vk);const yk="feedback-comb-filter",_k=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;Em(yk,_k);class xe extends _n{constructor(){super(H(xe.getDefaults(),arguments,["voice","options"])),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=a=>this.releaseAll(a);const e=H(xe.getDefaults(),arguments,["voice","options"]);ke(!Gn(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const s=e.voice.getDefaults();this.options=Object.assign(s,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const i=this._voices.indexOf(this._dummyVoice);this._voices.splice(i,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(_n.getDefaults(),{maxPolyphony:32,options:{},voice:Ue})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const s=this._activeVoices.findIndex(i=>i.voice===e);this._activeVoices.splice(s,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return ke(e instanceof Wt,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else cl("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),s=this._voices.indexOf(e);this._voices.splice(s,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,s,i){e.forEach(a=>{const u=new $a(this.context,a).toMidi(),h=this._getNextAvailableVoice();h&&(h.triggerAttack(a,s,i),this._activeVoices.push({midi:u,voice:h,released:!1}),this.log("triggerAttack",a,s))})}_triggerRelease(e,s){e.forEach(i=>{const a=new $a(this.context,i).toMidi(),u=this._activeVoices.find(({midi:h,released:d})=>h===a&&!d);u&&(u.voice.triggerRelease(s),u.released=!0,this.log("triggerRelease",i,s))})}_scheduleEvent(e,s,i,a){ke(!this.disposed,"Synth was already disposed"),i<=this.now()?e==="attack"?this._triggerAttack(s,i,a):this._triggerRelease(s,i):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,s,i,a)},i-this.now())}triggerAttack(e,s,i){Array.isArray(e)||(e=[e]);const a=this.toSeconds(s);return this._scheduleEvent("attack",e,a,i),this}triggerRelease(e,s){Array.isArray(e)||(e=[e]);const i=this.toSeconds(s);return this._scheduleEvent("release",e,i),this}triggerAttackRelease(e,s,i,a){const u=this.toSeconds(i);if(this.triggerAttack(e,u,a),Qt(s)){ke(Qt(e),"If the duration is an array, the notes must also be an array"),e=e;for(let h=0;h<e.length;h++){const d=s[Math.min(h,s.length-1)],p=this.toSeconds(d);ke(p>0,"The duration must be greater than 0"),this.triggerRelease(e[h],u+p)}}else{const h=this.toSeconds(s);ke(h>0,"The duration must be greater than 0"),this.triggerRelease(e,u+h)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const s=Ft(e,["onsilence","context"]);return this.options=xs(this.options,s),this._voices.forEach(i=>i.set(s)),this._dummyVoice.set(s),this}get(){return this._dummyVoice.get()}releaseAll(e){const s=this.toSeconds(e);return this._activeVoices.forEach(({voice:i})=>{i.triggerRelease(s)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Ki extends _n{constructor(){super(H(Ki.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const e=H(Ki.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),s={};Object.keys(e.urls).forEach(i=>{const a=parseInt(i,10);if(ke(Na(i)||Gn(a)&&isFinite(a),`url key is neither a note or midi pitch: ${i}`),Na(i)){const u=new Lt(this.context,i).toMidi();s[u]=e.urls[i]}else Gn(a)&&isFinite(a)&&(s[a]=e.urls[a])}),this._buffers=new Qc({urls:s,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(_n.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Re,onerror:Re,release:.1,urls:{}})}_findClosest(e){let i=0;for(;i<96;){if(this._buffers.has(e+i))return-i;if(this._buffers.has(e-i))return i;i++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,s,i=1){return this.log("triggerAttack",e,s,i),Array.isArray(e)||(e=[e]),e.forEach(a=>{const u=xm(new Lt(this.context,a).toFrequency()),h=Math.round(u),d=u-h,p=this._findClosest(h),m=h-p,g=this._buffers.get(m),v=km(p+d),k=new Vr({url:g,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:v}).connect(this.output);k.start(s,0,g.duration/v,i),Qt(this._activeSources.get(h))||this._activeSources.set(h,[]),this._activeSources.get(h).push(k),k.onended=()=>{if(this._activeSources&&this._activeSources.has(h)){const _=this._activeSources.get(h),w=_.indexOf(k);w!==-1&&_.splice(w,1)}}}),this}triggerRelease(e,s){return this.log("triggerRelease",e,s),Array.isArray(e)||(e=[e]),e.forEach(i=>{const a=new Lt(this.context,i).toMidi();if(this._activeSources.has(a)&&this._activeSources.get(a).length){const u=this._activeSources.get(a);s=this.toSeconds(s),u.forEach(h=>{h.stop(s)}),this._activeSources.set(a,[])}}),this}releaseAll(e){const s=this.toSeconds(e);return this._activeSources.forEach(i=>{for(;i.length;)i.shift().stop(s)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,s,i,a=1){const u=this.toSeconds(i);return this.triggerAttack(e,u,a),Qt(s)?(ke(Qt(e),"notes must be an array when duration is array"),e.forEach((h,d)=>{const p=s[Math.min(d,s.length-1)];this.triggerRelease(h,u+this.toSeconds(p))})):this.triggerRelease(e,u+this.toSeconds(s)),this}add(e,s,i){if(ke(Na(e)||isFinite(e),`note must be a pitch or midi: ${e}`),Na(e)){const a=new Lt(this.context,e).toMidi();this._buffers.add(a,s,i)}else this._buffers.add(e,s,i);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(s=>s.dispose())}),this._activeSources.clear(),this}}xn([Kn(0)],Ki.prototype,"attack",void 0);xn([Kn(0)],Ki.prototype,"release",void 0);class Ji extends he{constructor(){super(Object.assign(H(Ji.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new pk({context:this.context}),this.a=new Ce({context:this.context,gain:0}),this.b=new Ce({context:this.context,gain:0}),this.output=new Ce({context:this.context}),this._internalChannels=[this.a,this.b];const e=H(Ji.getDefaults(),arguments,["fade"]);this.fade=new De({context:this.context,units:"normalRange",value:e.fade}),Ae(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",vn(this._split,this.a.gain,0),vn(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(he.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class Ya extends he{constructor(e){super(e),this.name="Effect",this._dryWet=new Ji({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new Ce({context:this.context}),this.effectReturn=new Ce({context:this.context}),this.input=new Ce({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(e.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],Ae(this,"wet")}static getDefaults(){return Object.assign(he.getDefaults(),{wet:1})}connectEffect(e){return this._internalChannels.push(e),this.effectSend.chain(e,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class Xa extends he{constructor(){super(Object.assign(H(Xa.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const e=H(Xa.getDefaults(),arguments,["pan"]);this.pan=new Te({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Ae(this,"pan")}static getDefaults(){return Object.assign(he.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const wk="bit-crusher",kk=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;Em(wk,kk);class eo extends he{constructor(){super(H(eo.getDefaults(),arguments,["channels"])),this.name="Split";const e=H(eo.getDefaults(),arguments,["channels"]);this._splitter=this.input=this.output=this.context.createChannelSplitter(e.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(he.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class Br extends he{constructor(){super(H(Br.getDefaults(),arguments,["channels"])),this.name="Merge";const e=H(Br.getDefaults(),arguments,["channels"]);this._merger=this.output=this.input=this.context.createChannelMerger(e.channels)}static getDefaults(){return Object.assign(he.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class yp extends he{constructor(e){super(e),this.name="StereoEffect",this.input=new Ce({context:this.context}),this.input.channelCount=2,this.input.channelCountMode="explicit",this._dryWet=this.output=new Ji({context:this.context,fade:e.wet}),this.wet=this._dryWet.fade,this._split=new eo({context:this.context,channels:2}),this._merge=new Br({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),Ae(this,["wet"])}connectEffectLeft(...e){this._split.connect(e[0],0,0),Ys(...e),vn(e[e.length-1],this._merge,0,0)}connectEffectRight(...e){this._split.connect(e[0],1,0),Ys(...e),vn(e[e.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(he.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class Sc extends yp{constructor(e){super(e),this.feedback=new De({context:this.context,value:e.feedback,units:"normalRange"}),this._feedbackL=new Ce({context:this.context}),this._feedbackR=new Ce({context:this.context}),this._feedbackSplit=new eo({context:this.context,channels:2}),this._feedbackMerge=new Br({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),Ae(this,["feedback"])}static getDefaults(){return Object.assign(yp.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class Za extends Sc{constructor(){super(H(Za.getDefaults(),arguments,["frequency","delayTime","depth"])),this.name="Chorus";const e=H(Za.getDefaults(),arguments,["frequency","delayTime","depth"]);this._depth=e.depth,this._delayTime=e.delayTime/1e3,this._lfoL=new Hi({context:this.context,frequency:e.frequency,min:0,max:1}),this._lfoR=new Hi({context:this.context,frequency:e.frequency,min:0,max:1,phase:180}),this._delayNodeL=new Ss({context:this.context}),this._delayNodeR=new Ss({context:this.context}),this.frequency=this._lfoL.frequency,Ae(this,["frequency"]),this._lfoL.frequency.connect(this._lfoR.frequency),this.connectEffectLeft(this._delayNodeL),this.connectEffectRight(this._delayNodeR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this.depth=this._depth,this.type=e.type,this.spread=e.spread}static getDefaults(){return Object.assign(Sc.getDefaults(),{frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180,feedback:0,wet:.5})}get depth(){return this._depth}set depth(e){this._depth=e;const s=this._delayTime*e;this._lfoL.min=Math.max(this._delayTime-s,0),this._lfoL.max=this._delayTime+s,this._lfoR.min=Math.max(this._delayTime-s,0),this._lfoR.max=this._delayTime+s}get delayTime(){return this._delayTime*1e3}set delayTime(e){this._delayTime=e/1e3,this.depth=this._depth}get type(){return this._lfoL.type}set type(e){this._lfoL.type=e,this._lfoR.type=e}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(e){this._lfoL.phase=90-e/2,this._lfoR.phase=e/2+90}start(e){return this._lfoL.start(e),this._lfoR.start(e),this}stop(e){return this._lfoL.stop(e),this._lfoR.stop(e),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._delayNodeL.dispose(),this._delayNodeR.dispose(),this.frequency.dispose(),this}}class Ka extends Ya{constructor(){super(H(Ka.getDefaults(),arguments,["distortion"])),this.name="Distortion";const e=H(Ka.getDefaults(),arguments,["distortion"]);this._shaper=new Ts({context:this.context,length:4096}),this._distortion=e.distortion,this.connectEffect(this._shaper),this.distortion=e.distortion,this.oversample=e.oversample}static getDefaults(){return Object.assign(Ya.getDefaults(),{distortion:.4,oversample:"none"})}get distortion(){return this._distortion}set distortion(e){this._distortion=e;const s=e*100,i=Math.PI/180;this._shaper.setMap(a=>Math.abs(a)<.001?0:(3+s)*a*20*i/(Math.PI+s*Math.abs(a)))}get oversample(){return this._shaper.oversample}set oversample(e){this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.dispose(),this}}class _p extends Sc{constructor(e){super(e),this._feedbackL.disconnect(),this._feedbackL.connect(this._feedbackMerge,0,1),this._feedbackR.disconnect(),this._feedbackR.connect(this._feedbackMerge,0,0),Ae(this,["feedback"])}}class Ja extends _p{constructor(){super(H(Ja.getDefaults(),arguments,["delayTime","feedback"])),this.name="PingPongDelay";const e=H(Ja.getDefaults(),arguments,["delayTime","feedback"]);this._leftDelay=new Ss({context:this.context,maxDelay:e.maxDelay}),this._rightDelay=new Ss({context:this.context,maxDelay:e.maxDelay}),this._rightPreDelay=new Ss({context:this.context,maxDelay:e.maxDelay}),this.delayTime=new De({context:this.context,units:"time",value:e.delayTime}),this.connectEffectLeft(this._leftDelay),this.connectEffectRight(this._rightPreDelay,this._rightDelay),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackL.disconnect(),this._feedbackL.connect(this._rightDelay),Ae(this,["delayTime"])}static getDefaults(){return Object.assign(_p.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._leftDelay.dispose(),this._rightDelay.dispose(),this._rightPreDelay.dispose(),this.delayTime.dispose(),this}}class el extends Ya{constructor(){super(H(el.getDefaults(),arguments,["decay"])),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();const e=H(el.getDefaults(),arguments,["decay"]);this._decay=e.decay,this._preDelay=e.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(Ya.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(e){e=this.toSeconds(e),gn(e,.001),this._decay=e,this.generate()}get preDelay(){return this._preDelay}set preDelay(e){e=this.toSeconds(e),gn(e,0),this._preDelay=e,this.generate()}generate(){return it(this,void 0,void 0,function*(){const e=this.ready,s=new fl(2,this._decay+this._preDelay,this.context.sampleRate),i=new Zs({context:s}),a=new Zs({context:s}),u=new Br({context:s});i.connect(u,0,0),a.connect(u,0,1);const h=new Ce({context:s}).toDestination();u.connect(h),i.start(0),a.start(0),h.gain.setValueAtTime(0,0),h.gain.setValueAtTime(1,this._preDelay),h.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const d=s.render();return this.ready=d.then(Re),yield e,this._convolver.buffer=(yield d).get(),this})}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class rt extends he{constructor(){super(H(rt.getDefaults(),arguments,["solo"])),this.name="Solo";const e=H(rt.getDefaults(),arguments,["solo"]);this.input=this.output=new Ce({context:this.context}),rt._allSolos.has(this.context)||rt._allSolos.set(this.context,new Set),rt._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(he.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),rt._allSolos.get(this.context).forEach(s=>s._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){rt._soloed.has(this.context)||rt._soloed.set(this.context,new Set),rt._soloed.get(this.context).add(this)}_removeSolo(){rt._soloed.has(this.context)&&rt._soloed.get(this.context).delete(this)}_isSoloed(){return rt._soloed.has(this.context)&&rt._soloed.get(this.context).has(this)}_noSolos(){return!rt._soloed.has(this.context)||rt._soloed.has(this.context)&&rt._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),rt._allSolos.get(this.context).delete(this),this._removeSolo(),this}}rt._allSolos=new Map;rt._soloed=new Map;class tl extends he{constructor(){super(H(tl.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const e=H(tl.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Xa({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Xs({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Ae(this,["pan","volume"])}static getDefaults(){return Object.assign(he.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Ws extends he{constructor(){super(H(Ws.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const e=H(Ws.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new rt({solo:e.solo,context:this.context}),this._panVol=this.output=new tl({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Ae(this,["pan","volume"])}static getDefaults(){return Object.assign(he.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Ws.buses.has(e)||Ws.buses.set(e,new Ce({context:this.context})),Ws.buses.get(e)}send(e,s=0){const i=this._getBus(e),a=new Ce({context:this.context,units:"decibels",gain:s});return this.connect(a),a.connect(i),a}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Ws.buses=new Map;class xk extends he{constructor(){super(...arguments),this.name="Listener",this.positionX=new Te({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Te({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Te({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Te({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Te({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Te({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Te({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Te({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Te({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(he.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}hl(o=>{o.listener=new xk({context:o})});dl(o=>{o.listener.dispose()});class nl extends he{constructor(){super(H(nl.getDefaults(),arguments,["threshold","ratio"])),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor;const e=H(nl.getDefaults(),arguments,["threshold","ratio"]);this.threshold=new Te({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:e.threshold}),this.attack=new Te({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:e.attack}),this.release=new Te({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:e.release}),this.knee=new Te({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:e.knee}),this.ratio=new Te({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:e.ratio}),Ae(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(he.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}class sl extends he{constructor(){super(Object.assign(H(sl.getDefaults(),arguments,["threshold"]))),this.name="Limiter";const e=H(sl.getDefaults(),arguments,["threshold"]);this._compressor=this.input=this.output=new nl({context:this.context,ratio:20,attack:.003,release:.01,threshold:e.threshold}),this.threshold=this._compressor.threshold,Ae(this,"threshold")}static getDefaults(){return Object.assign(he.getDefaults(),{threshold:-12})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.dispose(),this.threshold.dispose(),this}}function zs(){return Gt().now()}const dc=Gt().transport;Gt().destination;Gt().destination;Gt().listener;Gt().draw;Gt();const wp={grandPiano:()=>new xe(Ue,{oscillator:{type:"custom",partials:[1,.8,.3,.15,.08,.04]},envelope:{attack:.002,decay:2.5,sustain:.1,release:2.2}}),electricPiano:()=>new xe(Ge,{harmonicity:6,modulationIndex:12,envelope:{attack:.001,decay:.8,sustain:.02,release:1.2},modulation:{type:"sine"},modulationEnvelope:{attack:.001,decay:.3,sustain:.1,release:.8}}),rhodesWarm:()=>new xe(Ge,{harmonicity:1.5,modulationIndex:1.2,envelope:{attack:.015,decay:3,sustain:.3,release:2.5},modulation:{type:"triangle"},modulationEnvelope:{attack:.02,decay:1.5,sustain:.2,release:2}}),wurlitzer:()=>new xe($n,{harmonicity:3,envelope:{attack:.001,decay:.5,sustain:.15,release:.4},modulation:{type:"square"}}),clavinet:()=>new xe(Ue,{oscillator:{type:"pulse",width:.15},envelope:{attack:.001,decay:.08,sustain:.02,release:.05}}),harpsichord:()=>new xe(Ge,{harmonicity:4,modulationIndex:8,envelope:{attack:.001,decay:.6,sustain:0,release:.4},modulation:{type:"square"}}),celesta:()=>new xe(Ge,{harmonicity:8,modulationIndex:3,envelope:{attack:.001,decay:2,sustain:0,release:1.5}}),musicBox:()=>new xe(Ge,{harmonicity:14,modulationIndex:1.5,envelope:{attack:.001,decay:3,sustain:0,release:2}}),churchOrgan:()=>new xe(Ue,{oscillator:{type:"custom",partials:[1,0,.5,0,.33,0,.25,.2]},envelope:{attack:.08,decay:.1,sustain:1,release:.4}}),hammondB3:()=>new xe(Ue,{oscillator:{type:"custom",partials:[1,.8,.6,.4,.3,.2]},envelope:{attack:.005,decay:.1,sustain:.95,release:.08}}),percOrgan:()=>new xe(Ge,{harmonicity:2,modulationIndex:1,envelope:{attack:.001,decay:.3,sustain:.5,release:.2}}),rockOrgan:()=>new xe(Ue,{oscillator:{type:"fatsawtooth",spread:15,count:3},envelope:{attack:.005,decay:.15,sustain:.9,release:.15}}),sawLead:()=>new xe(Ue,{oscillator:{type:"fatsawtooth",spread:20,count:2},envelope:{attack:.01,decay:.2,sustain:.6,release:.5}}),squareLead:()=>new xe(Ue,{oscillator:{type:"fatsquare",spread:15,count:2},envelope:{attack:.01,decay:.15,sustain:.7,release:.3}}),syncLead:()=>new xe(Ge,{harmonicity:3.5,modulationIndex:18,envelope:{attack:.005,decay:.1,sustain:.6,release:.3}}),brightness:()=>new xe($n,{harmonicity:4,envelope:{attack:.005,decay:.2,sustain:.5,release:.6},modulation:{type:"sawtooth"}}),analogLead:()=>new xe(Ue,{oscillator:{type:"fatsawtooth",spread:35,count:3},envelope:{attack:.02,decay:.2,sustain:.7,release:.7}}),warmPad:()=>new xe(Ue,{oscillator:{type:"fatsawtooth",spread:50,count:5},envelope:{attack:.8,decay:.5,sustain:.9,release:3}}),polyPad:()=>new xe($n,{harmonicity:1.5,envelope:{attack:.5,decay:.4,sustain:.8,release:2.5},modulation:{type:"sine"}}),spacePad:()=>new xe(Ge,{harmonicity:1.5,modulationIndex:5,envelope:{attack:1.5,decay:1.2,sustain:.75,release:4}}),choirPad:()=>new xe(Ue,{oscillator:{type:"fatsine",spread:40,count:6},envelope:{attack:1.2,decay:.8,sustain:.8,release:3}}),bowedPad:()=>new xe($n,{harmonicity:1,envelope:{attack:1.5,decay:.5,sustain:.95,release:3},modulation:{type:"triangle"}}),metallicPad:()=>new xe(Ge,{harmonicity:7,modulationIndex:15,envelope:{attack:.8,decay:.8,sustain:.6,release:3}}),haloPad:()=>new xe(Ge,{harmonicity:2.5,modulationIndex:4,envelope:{attack:2.5,decay:2,sustain:.65,release:5}}),strings:()=>new xe(Ue,{oscillator:{type:"fatsawtooth",spread:20,count:5},envelope:{attack:.4,decay:.3,sustain:.9,release:2}}),slowStrings:()=>new xe(Ue,{oscillator:{type:"fatsawtooth",spread:30,count:6},envelope:{attack:2,decay:.6,sustain:.85,release:3.5}}),synthStrings:()=>new xe($n,{harmonicity:2.5,envelope:{attack:.3,decay:.3,sustain:.8,release:1.5},modulation:{type:"sawtooth"}}),orchestra:()=>new xe(Ue,{oscillator:{type:"fatsawtooth",spread:45,count:7},envelope:{attack:.5,decay:.5,sustain:.7,release:1}}),brass:()=>new xe(Ue,{oscillator:{type:"fatsawtooth",spread:15,count:3},envelope:{attack:.08,decay:.2,sustain:.7,release:.4}}),synthBrass:()=>new xe(Ge,{harmonicity:1,modulationIndex:6,envelope:{attack:.04,decay:.2,sustain:.75,release:.3}}),trumpets:()=>new xe($n,{harmonicity:4,envelope:{attack:.06,decay:.15,sustain:.6,release:.25},modulation:{type:"sawtooth"}}),synthBass:()=>new xe(Ue,{oscillator:{type:"fatsawtooth",spread:10,count:2},envelope:{attack:.005,decay:.2,sustain:.55,release:.3}}),reese:()=>new xe(Ue,{oscillator:{type:"fatsawtooth",spread:60,count:2},envelope:{attack:.01,decay:.4,sustain:.7,release:.8}}),rubberBass:()=>new xe(Ge,{harmonicity:.5,modulationIndex:12,envelope:{attack:.008,decay:.5,sustain:.3,release:.35}}),detunedBass:()=>new xe(Ue,{oscillator:{type:"fatsquare",spread:40,count:2},envelope:{attack:.008,decay:.3,sustain:.6,release:.45}}),pluck:()=>new xe(Ge,{harmonicity:5,modulationIndex:6,envelope:{attack:.001,decay:.8,sustain:0,release:.5}}),kalimba:()=>new xe(Ge,{harmonicity:10,modulationIndex:3,envelope:{attack:.001,decay:2.2,sustain:0,release:1}}),marimba:()=>new xe(Ge,{harmonicity:3.5,modulationIndex:1,envelope:{attack:.001,decay:1.5,sustain:0,release:.8}}),vibes:()=>new xe(Ge,{harmonicity:6,modulationIndex:2,envelope:{attack:.001,decay:3,sustain:.1,release:2.5}}),bells:()=>new xe(Ge,{harmonicity:13,modulationIndex:20,envelope:{attack:.001,decay:5,sustain:0,release:3}}),crystals:()=>new xe(Ge,{harmonicity:8,modulationIndex:22,envelope:{attack:.8,decay:1.5,sustain:.3,release:4}}),atmosphere:()=>new xe($n,{harmonicity:1.5,envelope:{attack:3,decay:2,sustain:.5,release:6},modulation:{type:"sine"}}),sweepPad:()=>new xe(Ge,{harmonicity:2.5,modulationIndex:8,envelope:{attack:2.5,decay:3,sustain:.4,release:5}}),iceRain:()=>new xe(Ge,{harmonicity:11,modulationIndex:30,envelope:{attack:.5,decay:2.5,sustain:.2,release:3.5}}),goblin:()=>new xe(Ge,{harmonicity:.2,modulationIndex:45,envelope:{attack:.2,decay:1.2,sustain:.4,release:2.5}})},Sk=[{name:"Keys",presets:[{value:"grandPiano",label:"Grand Piano"},{value:"electricPiano",label:"Electric Piano"},{value:"rhodesWarm",label:"Warm Rhodes"},{value:"wurlitzer",label:"Wurlitzer"},{value:"clavinet",label:"Clavinet"},{value:"harpsichord",label:"Harpsichord"},{value:"celesta",label:"Celesta"},{value:"musicBox",label:"Music Box"}]},{name:"Organ",presets:[{value:"churchOrgan",label:"Church Organ"},{value:"hammondB3",label:"Hammond B3"},{value:"percOrgan",label:"Perc Organ"},{value:"rockOrgan",label:"Rock Organ"}]},{name:"Synth Lead",presets:[{value:"sawLead",label:"Saw Lead"},{value:"squareLead",label:"Square Lead"},{value:"syncLead",label:"Sync Lead"},{value:"brightness",label:"Brightness"},{value:"analogLead",label:"Analog Lead"}]},{name:"Synth Pad",presets:[{value:"warmPad",label:"Warm Pad"},{value:"polyPad",label:"Poly Pad"},{value:"spacePad",label:"Space Pad"},{value:"choirPad",label:"Choir Pad"},{value:"bowedPad",label:"Bowed Pad"},{value:"metallicPad",label:"Metallic Pad"},{value:"haloPad",label:"Halo Pad"}]},{name:"Strings",presets:[{value:"strings",label:"Strings"},{value:"slowStrings",label:"Slow Strings"},{value:"synthStrings",label:"Synth Strings"},{value:"orchestra",label:"Orchestra Hit"}]},{name:"Brass",presets:[{value:"brass",label:"Brass Section"},{value:"synthBrass",label:"Synth Brass"},{value:"trumpets",label:"Trumpets"}]},{name:"Bass",presets:[{value:"synthBass",label:"Synth Bass"},{value:"reese",label:"Reese Bass"},{value:"rubberBass",label:"Rubber Bass"},{value:"detunedBass",label:"Detuned Bass"}]},{name:"Pluck",presets:[{value:"pluck",label:"Pluck"},{value:"kalimba",label:"Kalimba"},{value:"marimba",label:"Marimba"},{value:"vibes",label:"Vibraphone"},{value:"bells",label:"Bells"}]},{name:"Atmosphere",presets:[{value:"crystals",label:"Crystals"},{value:"atmosphere",label:"Atmosphere"},{value:"sweepPad",label:"Sweep Pad"},{value:"iceRain",label:"Ice Rain"},{value:"goblin",label:"Goblin"}]}],Tc=[{name:"Sub",config:{oscillator:{type:"sine"},envelope:{attack:.02,decay:.3,sustain:.6,release:.8},filterEnvelope:{attack:.01,decay:.1,sustain:.5,release:.5,baseFrequency:60,octaves:1}}},{name:"Round",config:{oscillator:{type:"triangle"},envelope:{attack:.02,decay:.4,sustain:.5,release:.6},filterEnvelope:{attack:.01,decay:.2,sustain:.4,release:.4,baseFrequency:80,octaves:2}}},{name:"Warm",config:{oscillator:{type:"sawtooth"},envelope:{attack:.02,decay:.3,sustain:.4,release:.8},filterEnvelope:{attack:.01,decay:.1,sustain:.3,release:.5,baseFrequency:100,octaves:2.5}}},{name:"Pluck",config:{oscillator:{type:"sawtooth"},envelope:{attack:.001,decay:.2,sustain:.1,release:.3},filterEnvelope:{attack:.001,decay:.15,sustain:.1,release:.2,baseFrequency:200,octaves:3}}},{name:"Growl",config:{oscillator:{type:"square"},envelope:{attack:.01,decay:.2,sustain:.5,release:.5},filterEnvelope:{attack:.02,decay:.3,sustain:.3,release:.4,baseFrequency:150,octaves:3}}},{name:"Wobble",config:{oscillator:{type:"sawtooth"},envelope:{attack:.01,decay:.1,sustain:.7,release:.4},filterEnvelope:{attack:.01,decay:.5,sustain:.2,release:.3,baseFrequency:80,octaves:4}}},{name:"Punch",config:{oscillator:{type:"square"},envelope:{attack:.001,decay:.15,sustain:.2,release:.2},filterEnvelope:{attack:.001,decay:.1,sustain:.2,release:.15,baseFrequency:120,octaves:2.5}}},{name:"Soft",config:{oscillator:{type:"sine"},envelope:{attack:.05,decay:.4,sustain:.5,release:1},filterEnvelope:{attack:.05,decay:.3,sustain:.4,release:.6,baseFrequency:50,octaves:1.5}}},{name:"Acid",config:{oscillator:{type:"sawtooth"},envelope:{attack:.001,decay:.2,sustain:.3,release:.3},filterEnvelope:{attack:.001,decay:.4,sustain:.1,release:.2,baseFrequency:300,octaves:4}}},{name:"Thump",config:{oscillator:{type:"triangle"},envelope:{attack:.001,decay:.25,sustain:.15,release:.4},filterEnvelope:{attack:.001,decay:.2,sustain:.1,release:.3,baseFrequency:100,octaves:2}}},{name:"Deep",config:{oscillator:{type:"sine"},envelope:{attack:.03,decay:.5,sustain:.4,release:1.2},filterEnvelope:{attack:.02,decay:.4,sustain:.3,release:.8,baseFrequency:40,octaves:1.5}}},{name:"Buzz",config:{oscillator:{type:"square"},envelope:{attack:.01,decay:.15,sustain:.6,release:.3},filterEnvelope:{attack:.01,decay:.2,sustain:.4,release:.25,baseFrequency:180,octaves:3.5}}}],Tk={maj:[0,2,4,5,7,9,11],min:[0,2,3,5,7,8,10]},Ck={0:[0,3,6],1:[0,3,7],2:[0,4,7],3:[0,5,7]},Nk={6:9,m7:10,M7:11,9:14},fc=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Aa={a:0,s:2,d:4,f:5,g:7,h:9,j:11,w:1,e:3,t:6,y:8,u:10},Ek=[0,2,4,5,7,9,11],Ak=[1,3,6,8,10],Mk=[{value:"",label:"Off"},{value:"C-maj",label:"C Major"},{value:"C-min",label:"C Minor"},{value:"C#-maj",label:"C# Major"},{value:"C#-min",label:"C# Minor"},{value:"D-maj",label:"D Major"},{value:"D-min",label:"D Minor"},{value:"D#-maj",label:"D# Major"},{value:"D#-min",label:"D# Minor"},{value:"E-maj",label:"E Major"},{value:"E-min",label:"E Minor"},{value:"F-maj",label:"F Major"},{value:"F-min",label:"F Minor"},{value:"F#-maj",label:"F# Major"},{value:"F#-min",label:"F# Minor"},{value:"G-maj",label:"G Major"},{value:"G-min",label:"G Minor"},{value:"G#-maj",label:"G# Major"},{value:"G#-min",label:"G# Minor"},{value:"A-maj",label:"A Major"},{value:"A-min",label:"A Minor"},{value:"A#-maj",label:"A# Major"},{value:"A#-min",label:"A# Minor"},{value:"B-maj",label:"B Major"},{value:"B-min",label:"B Minor"}],Dk=[{value:"chord",label:"Chord"},{value:"strum",label:"Strum"},{value:"strum2oct",label:"Strum 2 Oct"},{value:"slop",label:"Slop"},{value:"arpUp",label:"Arp Up"},{value:"arpDown",label:"Arp Down"},{value:"arpUpDown",label:"Arp Up/Down"},{value:"harp",label:"Harp"}],bk=[{value:"off",label:"Off"},{value:"unison",label:"Unison"},{value:"single",label:"Single"},{value:"solo",label:"Solo"}];function Ok(o){var u;const[e,s]=ne.useState(null),i=ne.useRef(null);ne.useEffect(()=>{const h=d=>{i.current&&!i.current.contains(d.target)&&s(null)};return document.addEventListener("click",h),()=>document.removeEventListener("click",h)},[]),ne.useEffect(()=>{const h=d=>{d.key==="Escape"&&s(null)};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[]);const a=h=>d=>{d.stopPropagation(),s(e===h?null:h)};return x.jsxs("div",{className:"control-row",ref:i,children:[x.jsxs("div",{className:"btn-group",children:[x.jsxs("div",{className:"btn-with-label",children:[x.jsx("button",{className:"menu-btn yellow",onClick:a("sound")}),x.jsx("span",{className:"btn-label",children:"Sound"}),x.jsx("div",{className:"tooltip",children:"50+ synth presets"}),e==="sound"&&x.jsx("div",{className:"dropdown-menu sound-menu visible",children:Sk.map(h=>x.jsxs("div",{children:[x.jsx("div",{className:"dropdown-category",children:h.name}),h.presets.map(d=>x.jsx("div",{className:`dropdown-item ${o.engine===d.value?"active":""}`,onClick:()=>{o.onEngineChange(d.value),s(null)},children:d.label},d.value))]},h.name))})]}),x.jsxs("div",{className:"btn-with-label",children:[x.jsx("button",{className:"menu-btn yellow",onClick:a("perform")}),x.jsx("span",{className:"btn-label",children:"Perform"}),x.jsx("div",{className:"tooltip",children:"Performance mode"}),e==="perform"&&x.jsx("div",{className:"dropdown-menu visible",children:Dk.map(h=>x.jsx("div",{className:`dropdown-item ${o.performMode===h.value?"active":""}`,onClick:()=>{o.onPerformModeChange(h.value),s(null)},children:h.label},h.value))})]}),x.jsxs("div",{className:"btn-with-label",children:[x.jsx("button",{className:"menu-btn yellow",onClick:a("fx")}),x.jsx("span",{className:"btn-label",children:"FX"}),x.jsx("div",{className:"tooltip",children:"Effects"}),e==="fx"&&x.jsx("div",{className:"effects-panel visible",children:["reverb","delay","chorus","drive","master"].map(h=>x.jsxs("div",{className:"effect-row",children:[x.jsx("span",{className:"effect-label",children:h==="delay"?"Tape":h.charAt(0).toUpperCase()+h.slice(1)}),x.jsx("input",{type:"range",className:"effect-slider",min:"0",max:"100",value:o.effects[h],onChange:d=>o.onEffectChange(h,parseInt(d.target.value))})]},h))})]}),x.jsxs("div",{className:"btn-with-label",children:[x.jsx("button",{className:`menu-btn yellow ${o.keyMode?"active":""}`,onClick:a("key")}),x.jsx("span",{className:"btn-label",children:"Key"}),x.jsx("div",{className:"tooltip",children:"Scale lock"}),e==="key"&&x.jsx("div",{className:"dropdown-menu visible",children:Mk.map(h=>x.jsx("div",{className:`dropdown-item ${o.keyMode===(h.value||null)?"active":""}`,onClick:()=>{o.onKeyModeChange(h.value||null),s(null)},children:h.label},h.value))})]})]}),x.jsx("div",{className:"spacer"}),x.jsxs("div",{className:"btn-group",children:[x.jsxs("div",{className:"btn-with-label",children:[x.jsx("button",{className:`menu-btn dark ${o.bassMode!=="off"?"active":""}`,onClick:a("bass"),children:x.jsx("span",{className:`bass-light ${o.bassMode!=="off"?"active":""}`})}),x.jsx("span",{className:"btn-label",children:"Bass"}),x.jsx("div",{className:"tooltip",children:"Bass mode"}),e==="bass"&&x.jsx("div",{className:"dropdown-menu visible",children:bk.map(h=>x.jsx("div",{className:`dropdown-item ${o.bassMode===h.value?"active":""}`,onClick:()=>{o.onBassModeChange(h.value),s(null)},children:h.label},h.value))})]}),x.jsxs("div",{className:"btn-with-label",children:[x.jsx("button",{className:`menu-btn red ${o.drumsPlaying?"recording":""}`,onClick:h=>{h.stopPropagation(),o.drumsPlaying?o.onDrumsToggle():a("drums")(h)}}),x.jsx("span",{className:"btn-label",children:"Loop"}),x.jsx("div",{className:"tooltip",children:"Record loop (L)"}),e==="drums"&&x.jsxs("div",{className:"drum-panel visible",children:[x.jsx("div",{className:"drum-panel-title",children:"Select Drum Pattern"}),x.jsx("div",{className:"drum-grid",children:o.drumPatterns.map((h,d)=>x.jsx("div",{className:`drum-item ${o.drumPattern===d?"active":""}`,onClick:()=>{o.onDrumPatternSelect(d),s(null)},children:h.name},d))})]})]}),x.jsxs("div",{className:"btn-with-label",children:[x.jsx("button",{className:"menu-btn dark"}),x.jsx("span",{className:"btn-label",children:"BPM"}),x.jsx("div",{className:"tooltip",children:"Tempo (- / =)"})]}),x.jsxs("div",{className:"btn-with-label",children:[x.jsx("button",{className:"menu-btn dark",onClick:a("midi")}),x.jsx("span",{className:"btn-label",children:"MIDI"}),x.jsx("div",{className:"tooltip",children:"MIDI Settings"}),e==="midi"&&x.jsxs("div",{className:"effects-panel visible",style:{minWidth:220},children:[x.jsxs("div",{className:"effect-row",style:{flexDirection:"column",alignItems:"flex-start",gap:6},children:[x.jsx("span",{className:"effect-label",children:"MIDI Input"}),x.jsxs("select",{value:o.selectedMidiInput,onChange:h=>o.onMidiInputChange(h.target.value),className:"midi-select",children:[x.jsx("option",{value:"",children:"None"}),o.midiInputs.map(h=>x.jsx("option",{value:h.id,children:h.name},h.id))]})]}),x.jsxs("div",{className:"effect-row",style:{flexDirection:"column",alignItems:"flex-start",gap:6,marginTop:12},children:[x.jsx("span",{className:"effect-label",children:"MIDI Output"}),x.jsxs("select",{value:o.selectedMidiOutput,onChange:h=>o.onMidiOutputChange(h.target.value),className:"midi-select",children:[x.jsx("option",{value:"",children:"None"}),o.midiOutputs.map(h=>x.jsx("option",{value:h.id,children:h.name},h.id))]})]})]})]}),x.jsxs("div",{className:"btn-with-label",children:[x.jsx("button",{className:`menu-btn dark ${o.polyMode?"active":""}`,onClick:a("options")}),x.jsx("span",{className:"btn-label",children:"Options"}),x.jsx("div",{className:"tooltip",children:"Settings"}),e==="options"&&x.jsxs("div",{className:"effects-panel visible",style:{minWidth:200},children:[x.jsxs("div",{className:"option-row",children:[x.jsx("span",{className:"option-label",children:"Layered Chords"}),x.jsx("button",{className:`option-toggle ${o.polyMode?"active":""}`,onClick:()=>o.onPolyModeChange(!o.polyMode),children:o.polyMode?"ON":"OFF"})]}),x.jsx("div",{className:"option-hint",children:"Play multiple chords simultaneously by holding multiple keys"}),x.jsx("div",{className:"option-divider"}),x.jsx("div",{className:"dropdown-item",style:{padding:"10px 0",textAlign:"center"},onClick:()=>{o.onShowHelp(),s(null)},children:"Show Tutorial"})]})]}),x.jsxs("div",{className:"btn-with-label",children:[x.jsx("button",{className:"menu-btn dark",onClick:a("volume")}),x.jsx("span",{className:"btn-label",children:"Volume"}),x.jsx("div",{className:"tooltip",children:"Master volume"}),e==="volume"&&x.jsx("div",{className:"effects-panel volume-panel visible",children:x.jsxs("div",{className:"effect-row",children:[x.jsx("span",{className:"effect-label",children:"Volume"}),x.jsx("input",{type:"range",className:"effect-slider",min:"0",max:"100",value:o.masterVolume,onChange:h=>o.onMasterVolumeChange(parseInt(h.target.value))})]})})]})]}),o.drumsPlaying&&x.jsx("div",{className:"loop-indicator visible",children:(u=o.drumPatterns[o.drumPattern])==null?void 0:u.name}),x.jsxs("div",{className:"chord-display",children:[x.jsx("div",{className:"chord-name",dangerouslySetInnerHTML:{__html:o.chordName||""}}),x.jsx("div",{className:"chord-notes",children:o.chordNotes}),o.keyIndicator&&x.jsx("div",{className:"key-indicator active",children:o.keyIndicator})]})]})}const Ik=[{type:0,label:"Dim"},{type:1,label:"Min"},{type:2,label:"Maj"},{type:3,label:"Sus"}],Rk=[{ext:"6",label:"6"},{ext:"m7",label:"m7"},{ext:"M7",label:"M7"},{ext:"9",label:"9"}];function Pk({chordType:o,extensions:e,onChordTypeChange:s,onExtensionToggle:i}){return x.jsxs("div",{className:"chord-section",children:[x.jsx("div",{className:"chord-buttons",children:Ik.map(({type:a,label:u})=>x.jsx("button",{className:`chord-btn ${o===a?"active":""}`,onClick:()=>s(o===a?null:a),children:x.jsx("span",{children:u})},a))}),x.jsx("div",{className:"chord-buttons",children:Rk.map(({ext:a,label:u})=>x.jsx("button",{className:`chord-btn ${e[a]?"active":""}`,onClick:()=>i(a),children:x.jsx("span",{children:u})},a))})]})}function jk({voicing:o,bassVoicing:e,onVoicingChange:s,onBassVoicingChange:i}){const[a,u]=ne.useState(null),h=ne.useRef(null),d=ne.useRef(0),p=ne.useRef(0),m=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,g=(w,S)=>T=>{m()||(h.current=w,d.current=T.clientY,p.current=S,document.body.style.cursor="grabbing",T.preventDefault())},v=w=>()=>{m()&&u(w)};ne.useEffect(()=>{const w=T=>{if(!h.current)return;const N=d.current-T.clientY;if(h.current==="voicing"){const j=Math.max(-12,Math.min(12,Math.round(p.current+N/10)));s(j)}else{const j=Math.max(0,Math.min(11,Math.round(p.current+N/15)));i(j)}},S=()=>{h.current=null,document.body.style.cursor=""};return document.addEventListener("mousemove",w),document.addEventListener("mouseup",S),()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",S)}},[s,i]);const k=o/12*135,_=-135+e/11*270;return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"knobs-section",children:[x.jsxs("div",{className:"knob-row",children:[x.jsxs("div",{className:"knob-label",children:["Chord",x.jsx("br",{}),"Voice"]}),x.jsx("div",{className:"knob",onClick:v("voicing"),onMouseDown:g("voicing",o),children:x.jsx("div",{className:"knob-indicator",style:{transform:`rotate(${k}deg)`}})})]}),x.jsx("div",{className:"knob-value",children:o}),x.jsxs("div",{className:"knob-row",children:[x.jsxs("div",{className:"knob-label",children:["Bass",x.jsx("br",{}),"Voice"]}),x.jsx("div",{className:"knob small",onClick:v("bass"),onMouseDown:g("bass",e),children:x.jsx("div",{className:"knob-indicator",style:{transform:`rotate(${_}deg)`}})})]})]}),a&&x.jsxs("div",{className:"knob-modal visible",children:[x.jsx("div",{className:"knob-modal-title",children:a==="voicing"?"Chord Voicing":"Bass Voice"}),x.jsx("div",{className:"knob-modal-value",children:a==="voicing"?o:Tc[e].name}),x.jsx("input",{type:"range",className:"knob-modal-slider",min:a==="voicing"?-12:0,max:a==="voicing"?12:11,value:a==="voicing"?o:e,onChange:w=>{const S=parseInt(w.target.value);a==="voicing"?s(S):i(S)}}),x.jsx("button",{className:"knob-modal-close",onClick:()=>u(null),children:"Done"})]})]})}function Vk({octave:o,highlightedNotes:e,onNoteOn:s,onNoteOff:i}){const a=ne.useRef(null),u=ne.useRef(new Set),h=v=>k=>{k.preventDefault();const _=(o+1)*12+v;u.current.add(_),s(_)},d=v=>()=>{const k=(o+1)*12+v;u.current.has(k)&&(u.current.delete(k),i(k))},p=v=>()=>{const k=(o+1)*12+v;u.current.has(k)&&(u.current.delete(k),i(k))};ne.useEffect(()=>{const v=()=>{u.current.forEach(k=>i(k)),u.current.clear()};return window.addEventListener("mouseup",v),()=>window.removeEventListener("mouseup",v)},[i]);const m=v=>e.some(k=>k%12===v),g=[0,1,3,4,5];return x.jsx("div",{className:"keyboard-section",children:x.jsxs("div",{className:"keyboard",ref:a,children:[Ek.map(v=>x.jsx("div",{className:`white-key ${m(v)?"highlighted":""}`,"data-note":v,onMouseDown:h(v),onMouseUp:d(v),onMouseLeave:p(v)},`white-${v}`)),Ak.map((v,k)=>x.jsx("div",{className:`black-key ${m(v)?"highlighted":""}`,"data-note":v,style:{left:`${(g[k]+.7)*(100/7)}%`},onMouseDown:_=>{_.stopPropagation(),h(v)(_)},onMouseUp:_=>{_.stopPropagation(),d(v)()},onMouseLeave:p(v)},`black-${v}`))]})})}function Fk(o){const e=ne.useMemo(()=>Array.from({length:20},(i,a)=>a),[]),s=o.keyMode?`Key: ${o.keyMode.split("-")[0]} ${o.keyMode.split("-")[1]==="maj"?"Major":"Minor"}`:"";return x.jsxs("div",{className:"device",children:[x.jsxs("div",{className:"speaker-section",children:[x.jsx("div",{className:"speaker-grille",children:e.map(i=>x.jsx("div",{className:"slot"},`l-${i}`))}),x.jsx("div",{style:{flex:1}}),x.jsx("div",{className:"speaker-grille",children:e.map(i=>x.jsx("div",{className:"slot"},`r-${i}`))})]}),x.jsxs("div",{className:"main-panel",children:[x.jsx("div",{className:"device-brand",children:"Violet"}),x.jsx(Ok,{engine:o.engine,onEngineChange:o.onEngineChange,performMode:o.performMode,onPerformModeChange:o.onPerformModeChange,effects:o.effects,onEffectChange:o.onEffectChange,keyMode:o.keyMode,onKeyModeChange:o.onKeyModeChange,bassMode:o.bassMode,onBassModeChange:o.onBassModeChange,drumsPlaying:o.drumsPlaying,drumPattern:o.drumPattern,drumPatterns:o.drumPatterns,onDrumPatternSelect:o.onDrumPatternSelect,onDrumsToggle:o.onDrumsToggle,bpm:o.bpm,midiInputs:o.midiInputs,midiOutputs:o.midiOutputs,selectedMidiInput:o.selectedMidiInput,selectedMidiOutput:o.selectedMidiOutput,onMidiInputChange:o.onMidiInputChange,onMidiOutputChange:o.onMidiOutputChange,masterVolume:o.masterVolume,onMasterVolumeChange:o.onMasterVolumeChange,polyMode:o.polyMode,onPolyModeChange:o.onPolyModeChange,onShowHelp:o.onShowHelp,chordName:o.chordName,chordNotes:o.chordNotes,keyIndicator:s}),x.jsx("div",{className:"panel-shelf"}),x.jsxs("div",{className:"bottom-section",children:[x.jsx(Pk,{chordType:o.chordType,extensions:o.extensions,onChordTypeChange:o.onChordTypeChange,onExtensionToggle:o.onExtensionToggle}),x.jsx(jk,{voicing:o.voicing,bassVoicing:o.bassVoicing,onVoicingChange:o.onVoicingChange,onBassVoicingChange:o.onBassVoicingChange}),x.jsx(Vk,{octave:o.octave,highlightedNotes:o.highlightedNotes,onNoteOn:o.onNoteOn,onNoteOff:o.onNoteOff})]})]})]})}function Lk({visible:o,isReopened:e,onStart:s,onClose:i}){return o?x.jsxs("div",{className:`start-overlay ${e?"reopened":""}`,children:[e&&x.jsx("button",{className:"tutorial-close",onClick:i,children:""}),x.jsx("h1",{children:"Violet"}),x.jsxs("div",{className:"tutorial-container",children:[x.jsxs("div",{className:"tutorial-section",children:[x.jsx("div",{className:"tutorial-section-title",children:"Hold to modify chords"}),x.jsxs("div",{className:"modifier-row",children:[x.jsx("div",{className:"modifier-group",children:["1","2","3","4"].map((a,u)=>x.jsxs("div",{className:"mod-key",children:[x.jsx("div",{className:"mod-key-cap",children:a}),x.jsx("div",{className:"mod-key-label",children:["Dim","Min","Maj","Sus"][u]})]},a))}),x.jsx("div",{className:"modifier-group",children:["5","6","7","8"].map((a,u)=>x.jsxs("div",{className:"mod-key",children:[x.jsx("div",{className:"mod-key-cap",children:a}),x.jsx("div",{className:"mod-key-label",children:["6th","m7","M7","9th"][u]})]},a))})]})]}),x.jsxs("div",{className:"tutorial-section",children:[x.jsx("div",{className:"tutorial-section-title",children:"Play notes"}),x.jsx("div",{className:"piano-visual",children:x.jsxs("div",{className:"piano-container",children:[[["A","C"],["S","D"],["D","E"],["F","F"],["G","G"],["H","A"],["J","B"]].map(([a,u])=>x.jsxs("div",{className:"piano-white-key",children:[x.jsx("span",{className:"key-computer",children:a}),x.jsx("span",{className:"key-note",children:u})]},a)),[["W","C#",34],["E","D#",86],["T","F#",190],["Y","G#",242],["U","A#",294]].map(([a,u,h])=>x.jsxs("div",{className:"piano-black-key",style:{left:`${h}px`},children:[x.jsx("span",{className:"key-computer",children:a}),x.jsx("span",{className:"key-note",children:u})]},a))]})})]}),x.jsxs("div",{className:"tutorial-section",children:[x.jsx("div",{className:"tutorial-section-title",children:"Other Controls"}),x.jsx("div",{className:"controls-grid",children:[{keys:["Z","X"],label:"Voicing"},{keys:["[","]"],label:"Octave"},{keys:["-","="],label:"BPM"},{keys:["L"],label:"Loop"},{keys:[",","."],label:"Drum Pattern"},{keys:["Space"],label:"Panic",wide:!0},{keys:["Esc"],label:"Close Menus"}].map(({keys:a,label:u,wide:h})=>x.jsxs("div",{className:"control-item",children:[x.jsx("div",{className:"control-keys",children:a.map(d=>x.jsx("span",{className:`ctrl-key ${h?"wide":""}`,children:d},d))}),x.jsx("span",{className:"control-label",children:u})]},u))})]}),x.jsxs("div",{className:"tutorial-section",children:[x.jsx("div",{className:"tutorial-section-title",children:"Drum Machine (20 Patterns)"}),x.jsxs("div",{style:{color:"#ccc",fontSize:"0.85rem",lineHeight:1.7},children:[x.jsxs("p",{style:{margin:"0 0 10px 0"},children:[x.jsx("strong",{style:{color:"#e8a832"},children:"1."})," Press ",x.jsx("strong",{style:{color:"#fff"},children:"L"})," or click Loop to open the drum pattern selector"]}),x.jsxs("p",{style:{margin:"0 0 10px 0"},children:[x.jsx("strong",{style:{color:"#e8a832"},children:"2."})," Choose from 20 patterns: Rock, Funk, Hip-Hop, Jazz, EDM, Trap, and more"]}),x.jsxs("p",{style:{margin:"0 0 10px 0"},children:[x.jsx("strong",{style:{color:"#e8a832"},children:"3."})," Use ",x.jsx("strong",{style:{color:"#fff"},children:", ."})," keys to cycle through patterns while playing"]}),x.jsxs("p",{style:{margin:0,color:"#888",fontSize:"0.8rem"},children:["Press ",x.jsx("strong",{children:"L"})," again to stop drums. Use ",x.jsx("strong",{children:"Metronome"})," for a simple click track."]})]})]})]}),!e&&x.jsx("button",{className:"start-btn",onClick:s,children:"Click to Start"})]}):null}function qk({visible:o,onClose:e}){return x.jsx("div",{className:`about-modal ${o?"visible":""}`,onClick:s=>s.target===s.currentTarget&&e(),children:x.jsxs("div",{className:"about-content",children:[x.jsx("button",{className:"about-close",onClick:e,children:""}),x.jsx("h2",{children:"About Violet"}),x.jsxs("p",{children:["I discovered the incredible ",x.jsx("strong",{children:x.jsx("a",{href:"https://telepathicinstruments.com/",target:"_blank",rel:"noopener noreferrer",style:{color:"#e8a832",textDecoration:"none"},children:"Telepathic Instruments Orchid"})})," and immediately fell in love with its design and concept. Unfortunately, I found out about it too latethey were sold out, and I couldn't get my hands on one."]}),x.jsx("p",{children:"Rather than wait idly for the next batch, I decided to build Violet as a web-based tribute. I tried to capture as much of the Orchid's magic as possible: the chord generation, the performance modes, the beautiful interface design, and that special feeling of creative flow."}),x.jsxs("p",{children:["This project is a labor of love and deep admiration for what the team at ",x.jsx("a",{href:"https://telepathicinstruments.com/",target:"_blank",rel:"noopener noreferrer",style:{color:"#e8a832",textDecoration:"none"},children:"Telepathic Instruments"})," has created. I'm a huge fan of their work and would be absolutely thrilled to collaborate or chat about music technology sometime."]}),x.jsx("p",{children:x.jsx("em",{children:"(And I really hope you're not mad at me for making this! I'm just trying to spread the joy while I wait for the next sale. )"})}),x.jsxs("div",{className:"signature",children:[" Built with respect and admiration, ",x.jsx("a",{href:"https://natesiggard.com",target:"_blank",rel:"noopener noreferrer",style:{color:"#e8a832",textDecoration:"none"},children:"@natesiggard"})]}),x.jsxs("div",{style:{marginTop:16,fontSize:"0.75rem",color:"#666"},children:[" 2025 ",x.jsx("a",{href:"https://getauthentic.com",target:"_blank",rel:"noopener noreferrer",style:{color:"#888",textDecoration:"none"},children:"Authentic Creative"})]})]})})}function zk({visible:o,onClose:e}){return x.jsx("div",{className:`modal-overlay ${o?"visible":""}`,onClick:s=>s.target===s.currentTarget&&e(),children:x.jsxs("div",{className:"modal",children:[x.jsxs("div",{className:"modal-header",children:[x.jsx("h2",{children:"Keyboard Controls"}),x.jsx("button",{className:"modal-close",onClick:e,children:""})]}),x.jsxs("div",{className:"modal-section",children:[x.jsx("h3",{children:"Play Notes"}),x.jsxs("ul",{children:[x.jsxs("li",{children:[x.jsx("kbd",{children:"A-J"})," White keys (C D E F G A B)"]}),x.jsxs("li",{children:[x.jsx("kbd",{children:"W E T Y U"})," Black keys"]})]})]}),x.jsxs("div",{className:"modal-section",children:[x.jsx("h3",{children:"Chord Types (hold)"}),x.jsx("ul",{children:x.jsxs("li",{children:[x.jsx("kbd",{children:"1"})," Dim  ",x.jsx("kbd",{children:"2"})," Min  ",x.jsx("kbd",{children:"3"})," Maj  ",x.jsx("kbd",{children:"4"})," Sus"]})})]}),x.jsxs("div",{className:"modal-section",children:[x.jsx("h3",{children:"Extensions (hold)"}),x.jsx("ul",{children:x.jsxs("li",{children:[x.jsx("kbd",{children:"5"})," 6th  ",x.jsx("kbd",{children:"6"})," m7  ",x.jsx("kbd",{children:"7"})," M7  ",x.jsx("kbd",{children:"8"})," 9th"]})})]}),x.jsxs("div",{className:"modal-section",children:[x.jsx("h3",{children:"Controls"}),x.jsxs("ul",{children:[x.jsxs("li",{children:[x.jsx("kbd",{children:"Z X"})," Voicing (0-60)"]}),x.jsxs("li",{children:[x.jsx("kbd",{children:"[ ]"})," Octave"]}),x.jsxs("li",{children:[x.jsx("kbd",{children:"- ="})," BPM"]}),x.jsxs("li",{children:[x.jsx("kbd",{children:"L"})," Toggle Loop"]}),x.jsxs("li",{children:[x.jsx("kbd",{children:", ."})," Drum Pattern"]}),x.jsxs("li",{children:[x.jsx("kbd",{children:"Space"})," Panic"]})]})]})]})})}function Wk(){return x.jsxs("div",{className:"rotate-overlay active",children:[x.jsx("div",{className:"rotate-icon",children:""}),x.jsx("h2",{children:"Rotate Your Device"}),x.jsx("p",{children:"Violet works best in landscape mode. Please rotate your phone for the full experience."})]})}function Bk(){const o=ne.useRef({synth:null,bassSynth:null,reverb:null,delay:null,chorus:null,drive:null,master:null,arpInterval:null}),e=ne.useRef({index:0,direction:1}),s=ne.useRef(new Map),[i,a]=ne.useState({isInitialized:!1,currentRoot:null,currentChordNotes:[],activeChords:new Map,engine:"grandPiano"}),u=ne.useCallback(async()=>{await sk();const R=new sl(-3).toDestination();o.current.reverb=new el({decay:2.5,wet:0}).connect(R);const F=new Ks({frequency:2e3,type:"lowpass"}).connect(o.current.reverb);o.current.delay=new Ja({delayTime:.375,feedback:.4,wet:0}).connect(F),o.current.chorus=new Za({frequency:1.5,delayTime:3.5,depth:.7,wet:0}).connect(o.current.delay),o.current.chorus.start(),o.current.drive=new Ka({distortion:.4,wet:0}).connect(o.current.chorus),o.current.master=new Ce(.5).connect(o.current.drive),o.current.synth=wp.grandPiano(),o.current.synth.connect(o.current.master),o.current.bassSynth=new Qa(Tc[0].config).connect(o.current.master),dc.bpm.value=120,dc.start(),a(A=>({...A,isInitialized:!0}))},[]),h=ne.useCallback(R=>{o.current.master&&(o.current.synth&&o.current.synth.disconnect(),o.current.synth=wp[R](),o.current.synth.connect(o.current.master),a(F=>({...F,engine:R})))},[]),d=ne.useCallback(R=>{o.current.bassSynth&&o.current.bassSynth.set(Tc[R].config)},[]),p=ne.useCallback((R,F,A)=>{const b=Tk[A];if(!b)return R;const I=R%12,D=Math.floor(R/12),W=fc.indexOf(F);let B=12,U=I;for(const q of b){const re=(W+q)%12,Y=Math.min(Math.abs(I-re),12-Math.abs(I-re));Y<B&&(B=Y,U=re)}return D*12+U},[]),m=ne.useCallback((R,F,A,b)=>{if(F===null)return[R];const I=[...Ck[F]];for(const[W,B]of Object.entries(A))B&&I.push(Nk[W]);I.sort((W,B)=>W-B);let D=I.map(W=>R+W);for(let W=0;W<Math.abs(b);W++)b>0&&D.length>0?D.push(D.shift()+12):b<0&&D.length>0&&D.unshift(D.pop()-12);return D},[]),g=ne.useCallback((R,F,A)=>{const b=fc[R%12];if(F===null)return b;let D=b+["dim","m","","sus"][F];const W=Object.entries(A).filter(([,U])=>U).map(([U])=>U);if(W.length===0)return D;if(W.length>=3)return`${D}<sup>JAZZ</sup>`;if(F===2&&W.includes("m7")&&W.length===1)return`${D}<sup>7</sup>`;let B="";return W.includes("6")&&(B+="6"),W.includes("M7")?B+="M7":W.includes("m7")&&(B+="m7"),W.includes("9")&&(B+="9"),`${D}<sup>${B}</sup>`},[]),v=ne.useCallback(R=>fc[R%12]+Math.floor(R/12-1),[]),k=ne.useCallback(()=>{o.current.arpInterval&&(clearInterval(o.current.arpInterval),o.current.arpInterval=null)},[]),_=ne.useCallback(()=>{k(),o.current.synth&&i.currentChordNotes.length>0&&o.current.synth.triggerRelease(i.currentChordNotes.map(R=>Wn(R,"midi").toNote())),o.current.bassSynth&&o.current.bassSynth.triggerRelease()},[i.currentChordNotes,k]),w=ne.useCallback((R,F,A,b,I,D,W,B,U=.8,q,re=!1)=>{var G,Q;if(!o.current.synth)return{notes:[],name:""};let Y=R;if(B){const[E,z]=B.split("-");Y=p(R,E,z)}re||_();const se=m(Y,F,A,b),X=g(Y,F,A);re||s.current.clear(),s.current.set(R,se);const Z=Array.from(s.current.values()).flat();if(a(E=>{if(re){const z=new Map(E.activeChords);return z.set(R,se),{...E,currentRoot:R,currentChordNotes:Z,activeChords:z}}return{...E,currentRoot:R,currentChordNotes:se,activeChords:new Map([[R,se]])}}),D!=="solo")switch(I){case"chord":o.current.synth.triggerAttack(se.map(te=>Wn(te,"midi").toNote()),zs(),U),se.forEach(te=>q==null?void 0:q(te,Math.round(U*127),!0));break;case"strum":case"slop":se.forEach((te,ue)=>{let _e=ue*30;I==="slop"&&(_e+=(Math.random()-.5)*15),setTimeout(()=>{var oe;(oe=o.current.synth)==null||oe.triggerAttack(Wn(te,"midi").toNote(),zs(),U),q==null||q(te,Math.round(U*127),!0)},_e)});break;case"strum2oct":[...se,...se.map(te=>te+12)].forEach((te,ue)=>{setTimeout(()=>{var _e;(_e=o.current.synth)==null||_e.triggerAttack(Wn(te,"midi").toNote(),zs(),U*(ue<se.length?1:.85)),q==null||q(te,Math.round(U*127),!0)},ue*25)});break;case"arpUp":case"arpDown":case"arpUpDown":k(),e.current={index:0,direction:1};const z=60/W*1e3/2,me=()=>{var ue;if(se.length===0)return;const te=se[e.current.index];(ue=o.current.synth)==null||ue.triggerAttackRelease(Wn(te,"midi").toNote(),"16n",zs(),U),q==null||q(te,Math.round(U*127),!0),setTimeout(()=>q==null?void 0:q(te,0,!1),z*.9),I==="arpUp"?e.current.index=(e.current.index+1)%se.length:I==="arpDown"?(e.current.index--,e.current.index<0&&(e.current.index=se.length-1)):(e.current.index+=e.current.direction,e.current.index>=se.length-1&&(e.current.direction=-1),e.current.index<=0&&(e.current.direction=1))};me(),o.current.arpInterval=setInterval(me,z);break;case"harp":const ge=[];se.forEach(te=>{ge.push(te,te+12,te+24)}),ge.sort((te,ue)=>te-ue),ge.forEach((te,ue)=>{setTimeout(()=>{var _e;(_e=o.current.synth)==null||_e.triggerAttackRelease(Wn(te,"midi").toNote(),"8n",zs(),U*.7),q==null||q(te,Math.round(U*.7*127),!0),setTimeout(()=>q==null?void 0:q(te,0,!1),200)},ue*25)});break}if(D!=="off"){const E=Y-24;D==="single"?(G=o.current.bassSynth)==null||G.triggerAttackRelease(Wn(E,"midi").toNote(),"8n",zs(),.8):(Q=o.current.bassSynth)==null||Q.triggerAttack(Wn(E,"midi").toNote(),zs(),.8)}return{notes:re?Z:se,name:X}},[_,p,m,g,k]),S=ne.useCallback((R,F,A=!1)=>{if(A){const b=s.current.get(R);if(b&&o.current.synth){b.forEach(D=>F==null?void 0:F(D,0,!1)),o.current.synth.triggerRelease(b.map(D=>Wn(D,"midi").toNote())),s.current.delete(R);const I=Array.from(s.current.values()).flat();return a(D=>{const W=new Map(D.activeChords);W.delete(R);const B=W.size>0?Array.from(W.keys())[W.size-1]:null;return{...D,currentRoot:B,currentChordNotes:I,activeChords:W}}),I}return Array.from(s.current.values()).flat()}else{const b=s.current.get(R);b&&(b.forEach(I=>F==null?void 0:F(I,0,!1)),_(),s.current.clear(),a(I=>({...I,currentRoot:null,currentChordNotes:[],activeChords:new Map})))}return[]},[_]),T=ne.useCallback(()=>{var R,F;k(),(R=o.current.synth)==null||R.releaseAll(),(F=o.current.bassSynth)==null||F.triggerRelease(),s.current.clear(),a(A=>({...A,currentRoot:null,currentChordNotes:[],activeChords:new Map}))},[k]),N=ne.useCallback((R,F)=>{const A=F/100;switch(R){case"reverb":o.current.reverb&&(o.current.reverb.wet.value=A);break;case"delay":o.current.delay&&(o.current.delay.wet.value=A);break;case"chorus":o.current.chorus&&(o.current.chorus.wet.value=A);break;case"drive":o.current.drive&&(o.current.drive.wet.value=A);break;case"master":o.current.master&&(o.current.master.gain.value=A);break}},[]),j=ne.useCallback(R=>{dc.bpm.value=R},[]);return{isInitialized:i.isInitialized,currentRoot:i.currentRoot,currentChordNotes:i.currentChordNotes,engine:i.engine,initialize:u,switchEngine:h,updateBassSynth:d,playChord:w,releaseChord:S,panic:T,setEffect:N,setBpm:j,midiToNoteName:v,getChordName:g,generateChord:m,stopArp:k}}const Pi=[{name:"Metronome",pattern:[[1,"r"],[2,"r"],[3,"r"],[4,"r"]]},{name:"Basic Rock",pattern:[[1,"k"],[1,"h"],[1.5,"h"],[2,"s"],[2,"h"],[2.5,"h"],[3,"k"],[3,"h"],[3.5,"h"],[4,"s"],[4,"h"],[4.5,"h"]]},{name:"Trip-Hop",pattern:[[1,"k"],[1.25,"h"],[1.5,"h"],[1.5,"s"],[2,"k"],[2,"h"],[2.25,"h"],[2.75,"h"],[2.75,"s"],[3,"k"],[3,"h"],[3.5,"h"],[3.75,"h"],[4,"k"],[4,"s"],[4.25,"h"],[4.5,"h"],[4.75,"h"]]},{name:"Funk",pattern:[[1,"k"],[1.25,"h"],[1.25,"s"],[1.5,"h"],[1.75,"k"],[2,"h"],[2.25,"h"],[2.5,"h"],[2.5,"s"],[2.75,"k"],[2.75,"h"],[3,"h"],[3.25,"h"],[3.5,"k"],[3.5,"h"],[3.75,"h"],[4,"h"],[4,"s"],[4.25,"k"],[4.25,"h"],[4.5,"h"],[4.75,"h"]]},{name:"Breakbeat",pattern:[[1,"k"],[1.25,"h"],[1.25,"s"],[1.5,"k"],[1.75,"h"],[2,"k"],[2.25,"h"],[2.75,"k"],[2.75,"h"],[2.75,"s"],[3.25,"k"],[3.25,"h"],[3.5,"s"],[3.75,"k"],[3.75,"h"],[4.25,"h"],[4.5,"k"],[4.75,"h"],[4.75,"s"]]},{name:"Heavy Metal",pattern:[[1,"k"],[1,"h"],[1.25,"k"],[1.25,"h"],[1.5,"h"],[1.75,"h"],[2,"k"],[2,"h"],[2.25,"h"],[2.5,"h"],[2.75,"h"],[2.75,"s"],[3,"k"],[3,"h"],[3.25,"h"],[3.5,"k"],[3.5,"h"],[3.75,"h"],[4,"k"],[4,"h"],[4.25,"h"],[4.5,"k"],[4.5,"h"],[4.75,"h"]]},{name:"Samba",pattern:[[1,"k"],[1.25,"h"],[1.25,"s"],[1.5,"k"],[1.75,"h"],[2,"s"],[2.25,"h"],[2.5,"k"],[2.75,"h"],[2.75,"s"],[3,"k"],[3.25,"h"],[3.25,"s"],[3.5,"h"],[3.75,"h"],[4,"k"],[4,"s"],[4.25,"h"],[4.5,"k"],[4.75,"h"],[4.75,"s"]]},{name:"Bossa Nova",pattern:[[1,"k"],[1,"h"],[1.5,"h"],[1.5,"s"],[1.75,"k"],[2,"h"],[2.25,"s"],[2.5,"k"],[2.75,"h"],[3,"k"],[3.25,"h"],[3.25,"s"],[3.5,"h"],[3.75,"k"],[4,"h"],[4,"s"],[4.25,"h"],[4.5,"k"],[4.75,"h"]]},{name:"Rock Shuffle",pattern:[[1,"k"],[1,"h"],[1.5,"h"],[1.75,"k"],[2,"h"],[2,"s"],[2.25,"h"],[2.75,"k"],[2.75,"h"],[3.25,"h"],[3.25,"k"],[3.5,"h"],[3.75,"h"],[4,"k"],[4,"s"],[4.75,"h"]]},{name:"Disco",pattern:[[1,"k"],[1.25,"h"],[1.5,"h"],[1.5,"s"],[1.75,"s"],[2,"k"],[2,"h"],[2.25,"h"],[2.75,"h"],[2.75,"s"],[3,"k"],[3,"h"],[3.25,"h"],[3.75,"h"],[3.75,"s"],[4,"k"],[4,"s"],[4.25,"h"],[4.5,"h"],[4.75,"h"]]},{name:"Blues Shuffle",pattern:[[1,"k"],[1,"h"],[1.25,"s"],[1.5,"h"],[1.75,"k"],[2,"h"],[2,"s"],[2.5,"h"],[2.75,"k"],[3,"h"],[3.25,"h"],[3.5,"k"],[3.5,"s"],[3.75,"h"],[4,"h"],[4.25,"h"],[4.5,"k"],[4.75,"k"]]},{name:"Jazz Swing",pattern:[[1,"k"],[1,"h"],[1.5,"s"],[1.75,"h"],[2,"h"],[2.5,"h"],[2.75,"k"],[2.75,"s"],[3.5,"h"],[3.75,"h"],[3.75,"s"],[4.5,"h"],[4.75,"h"]]},{name:"Reggae",pattern:[[1,"h"],[1.25,"h"],[1.5,"k"],[1.5,"h"],[1.75,"h"],[2,"h"],[2.25,"h"],[2.5,"k"],[2.5,"h"],[2.75,"s"],[2.75,"h"],[3,"h"],[3.25,"k"],[3.25,"h"],[3.5,"h"],[3.75,"h"],[4,"h"],[4.25,"k"],[4.25,"h"],[4.5,"h"],[4.75,"h"]]},{name:"Hip-Hop",pattern:[[1,"k"],[1,"h"],[1.25,"s"],[1.5,"h"],[1.75,"k"],[2,"h"],[2,"s"],[2.5,"k"],[2.75,"h"],[3.25,"k"],[3.5,"h"],[3.5,"s"],[4,"k"],[4.25,"h"]]},{name:"EDM",pattern:[[1,"k"],[1,"h"],[1.25,"h"],[1.5,"h"],[1.75,"h"],[2,"k"],[2,"s"],[2,"h"],[2.25,"h"],[2.5,"h"],[2.75,"h"],[3,"k"],[3,"h"],[3.25,"h"],[3.5,"h"],[3.75,"h"],[4,"k"],[4,"s"],[4,"h"],[4.25,"h"],[4.5,"h"],[4.75,"h"]]},{name:"Trap",pattern:[[1,"k"],[1,"h"],[1.25,"h"],[1.5,"h"],[1.5,"s"],[1.75,"k"],[1.75,"h"],[2,"k"],[2,"h"],[2.25,"h"],[2.5,"h"],[2.75,"h"],[2.75,"s"],[3,"k"],[3,"h"],[3.25,"h"],[3.5,"h"],[3.75,"h"],[4,"k"],[4,"h"],[4,"s"],[4.25,"h"],[4.5,"k"],[4.5,"h"],[4.75,"h"],[4.75,"s"]]},{name:"Techno",pattern:[[1,"k"],[1.5,"h"],[2,"k"],[2.5,"s"],[2.5,"h"],[3,"k"],[3.5,"h"],[4,"k"],[4.5,"s"],[4.5,"h"]]},{name:"Drum & Bass",pattern:[[1,"k"],[1,"h"],[1.5,"h"],[2,"h"],[2.5,"h"],[2.75,"s"],[3,"h"],[3.5,"k"],[3.5,"h"],[4,"h"],[4.5,"h"],[4.75,"s"]]},{name:"Latin",pattern:[[1,"k"],[1,"r"],[1.5,"h"],[2,"h"],[2.5,"r"],[3,"k"],[3,"h"],[3.5,"h"],[4,"r"],[4,"h"],[4.5,"h"]]},{name:"Halftime",pattern:[[1,"k"],[1,"h"],[1.5,"h"],[2,"h"],[2.5,"h"],[3,"s"],[3,"h"],[3.5,"h"],[4,"h"],[4.5,"h"]]}];function Uk(){const o=ne.useRef({kick:null,snare:null,hihat:null,hihatOpen:null,rimshot:null,beatInterval:null}),[e,s]=ne.useState(!1),[i,a]=ne.useState(0),u=ne.useCallback(()=>{const _=new Ce(.5).toDestination();o.current.kick=new Wr({pitchDecay:.05,octaves:6,oscillator:{type:"sine"},envelope:{attack:.001,decay:.3,sustain:0,release:.5}}).connect(_),o.current.snare=new Zi({noise:{type:"white"},envelope:{attack:.001,decay:.15,sustain:0,release:.1}}).connect(_),o.current.hihat=new Xi({envelope:{attack:.001,decay:.05,release:.01},harmonicity:5.1,modulationIndex:32,resonance:4e3,octaves:1.5}).connect(new Ce(.15).connect(_)),o.current.hihatOpen=new Xi({envelope:{attack:.001,decay:.2,release:.05},harmonicity:5.1,modulationIndex:32,resonance:4e3,octaves:1.5}).connect(new Ce(.12).connect(_)),o.current.rimshot=new Zi({noise:{type:"pink"},envelope:{attack:.001,decay:.05,sustain:0,release:.03}}).connect(new Ce(.3).connect(_))},[]),h=ne.useCallback(_=>{var w,S,T,N,j;switch(_){case"k":(w=o.current.kick)==null||w.triggerAttackRelease("C1","8n");break;case"s":(S=o.current.snare)==null||S.triggerAttackRelease("8n");break;case"h":(T=o.current.hihat)==null||T.triggerAttackRelease("C6","32n");break;case"o":(N=o.current.hihatOpen)==null||N.triggerAttackRelease("C6","16n");break;case"r":(j=o.current.rimshot)==null||j.triggerAttackRelease("32n");break}},[]),d=ne.useCallback(()=>{o.current.beatInterval&&(clearInterval(o.current.beatInterval),o.current.beatInterval=null)},[]),p=ne.useCallback((_,w)=>{d();const S=Pi[w??i],N=60/_*1e3/4;let j=1;const R=F=>{S.pattern.forEach(([A,b])=>{Math.abs(A-F)<.05&&h(b)})};R(j),o.current.beatInterval=setInterval(()=>{j+=.25,j>4.75&&(j=1),R(j)},N),s(!0)},[i,h,d]),m=ne.useCallback(()=>{d(),s(!1)},[d]),g=ne.useCallback(_=>{a(w=>(w+_+Pi.length)%Pi.length)},[]),v=ne.useCallback(_=>{a(_)},[]),k=ne.useCallback(_=>{var w;return((w=Pi[_??i])==null?void 0:w.name)??""},[i]);return{isPlaying:e,currentPattern:i,patterns:Pi,initialize:u,startLoop:p,stop:m,cyclePattern:g,selectPattern:v,getPatternName:k}}function $k(o,e){const[s,i]=ne.useState([]),[a,u]=ne.useState([]),[h,d]=ne.useState(""),[p,m]=ne.useState(""),[g,v]=ne.useState(!1),[k,_]=ne.useState(!1),w=ne.useRef(null),S=ne.useRef(null),T=ne.useCallback(b=>{const[I,D,W]=b.data||[],B=I>>4;B===9&&W>0?o==null||o(D,W/127):(B===8||B===9&&W===0)&&(e==null||e(D))},[o,e]),N=ne.useCallback(async()=>{try{const b=await navigator.requestMIDIAccess({sysex:!1});w.current=b;const I=[],D=[];for(const W of b.inputs.values())I.push({id:W.id,name:W.name||"Unknown"});for(const W of b.outputs.values())D.push({id:W.id,name:W.name||"Unknown"});i(I),u(D)}catch(b){console.log("MIDI not available:",b)}},[]),j=ne.useCallback(b=>{if(w.current){for(const I of w.current.inputs.values())I.onmidimessage=null;if(v(!1),b){const I=w.current.inputs.get(b);I&&(I.onmidimessage=T,v(!0))}d(b)}},[T]),R=ne.useCallback(b=>{if(w.current){if(_(!1),S.current=null,b){const I=w.current.outputs.get(b);I&&(S.current=I,_(!0))}m(b)}},[]),F=ne.useCallback((b,I=100)=>{var D;(D=S.current)==null||D.send([144,b,I])},[]),A=ne.useCallback(b=>{var I;(I=S.current)==null||I.send([128,b,0])},[]);return ne.useEffect(()=>()=>{if(w.current)for(const b of w.current.inputs.values())b.onmidimessage=null},[]),{inputs:s,outputs:a,selectedInput:h,selectedOutput:p,inputConnected:g,outputConnected:k,initialize:N,selectInput:j,selectOutput:R,sendNoteOn:F,sendNoteOff:A}}function Hk(){const[o,e]=ne.useState({chordType:null,extensions:{6:!1,m7:!1,M7:!1,9:!1},voicing:0,octave:4,bpm:120,keyMode:null,bassMode:"off",bassVoicing:0,performMode:"chord",engine:"grandPiano",masterVolume:80,polyMode:!1}),s=ne.useCallback(T=>{e(N=>({...N,chordType:T}))},[]),i=ne.useCallback(T=>{e(N=>({...N,extensions:{...N.extensions,[T]:!N.extensions[T]}}))},[]),a=ne.useCallback((T,N)=>{e(j=>({...j,extensions:{...j.extensions,[T]:N}}))},[]),u=ne.useCallback(T=>{e(N=>({...N,voicing:Math.max(-12,Math.min(12,T))}))},[]),h=ne.useCallback(T=>{e(N=>({...N,octave:Math.max(1,Math.min(7,T))}))},[]),d=ne.useCallback(T=>{e(N=>({...N,bpm:Math.max(40,Math.min(240,T))}))},[]),p=ne.useCallback(T=>{e(N=>({...N,keyMode:T}))},[]),m=ne.useCallback(T=>{e(N=>({...N,bassMode:T}))},[]),g=ne.useCallback(T=>{e(N=>({...N,bassVoicing:Math.max(0,Math.min(11,T))}))},[]),v=ne.useCallback(T=>{e(N=>({...N,performMode:T}))},[]),k=ne.useCallback(T=>{e(N=>({...N,engine:T}))},[]),_=ne.useCallback(T=>{e(N=>({...N,masterVolume:T}))},[]),w=ne.useCallback(T=>{e(N=>({...N,polyMode:T}))},[]),S=ne.useCallback(()=>{e(T=>({...T,polyMode:!T.polyMode}))},[]);return{...o,setChordType:s,toggleExtension:i,setExtension:a,setVoicing:u,setOctave:h,setBpm:d,setKeyMode:p,setBassMode:m,setBassVoicing:g,setPerformMode:v,setEngine:k,setMasterVolume:_,setPolyMode:w,togglePolyMode:S}}function Gk(){const[o,e]=ne.useState(!0),[s,i]=ne.useState(!1),[a,u]=ne.useState(!1),[h,d]=ne.useState(!1),[p,m]=ne.useState({reverb:0,delay:0,chorus:0,drive:0,master:80}),g=ne.useRef(new Set),v=ne.useRef(new Set),k=ne.useRef(null),_=Hk(),w=Bk(),S=Uk(),T=ne.useCallback((Y,se)=>{const X=w.playChord(Y,_.chordType,_.extensions,_.voicing,_.performMode,_.bassMode,_.bpm,_.keyMode,se??.8,(Z,$,G)=>G?j.sendNoteOn(Z,$):j.sendNoteOff(Z),_.polyMode);F(X)},[_,w]),N=ne.useCallback(Y=>{const se=w.releaseChord(Y,(X,Z,$)=>$?j.sendNoteOn(X,0):j.sendNoteOff(X),_.polyMode);F({notes:se,name:""})},[w,_.polyMode]),j=$k(T,N),[R,F]=ne.useState({notes:[],name:""}),A=ne.useCallback(async()=>{await w.initialize(),S.initialize(),await j.initialize(),e(!1)},[w,S,j]),b=ne.useCallback((Y,se)=>{m(X=>({...X,[Y]:se})),w.setEffect(Y,se)},[w]),I=ne.useCallback(()=>{S.isPlaying&&S.stop()},[S]),D=ne.useCallback(Y=>{S.selectPattern(Y),S.startLoop(_.bpm,Y)},[S,_.bpm]),W=ne.useCallback(Y=>{_.setEngine(Y),w.switchEngine(Y)},[_,w]),B=ne.useCallback(Y=>{_.setBassVoicing(Y),w.updateBassSynth(Y)},[_,w]),U=ne.useCallback(Y=>{_.setMasterVolume(Y),w.setEffect("master",Y),m(se=>({...se,master:Y}))},[_,w]),q=ne.useCallback(()=>{e(!0),i(!0)},[]);ne.useEffect(()=>{const Y=X=>{if(X.repeat)return;const Z=X.key.toLowerCase();if(Aa[Z]!==void 0){const G=(_.octave+1)*12+Aa[Z];g.current.has(Z)||(g.current.add(Z),T(G));return}if(["1","2","3","4"].includes(X.key)){v.current.add(X.key),_.setChordType(parseInt(X.key)-1);return}const $={5:"6",6:"m7",7:"M7",8:"9"};if($[X.key]){v.current.add(X.key),_.setExtension($[X.key],!0);return}if(Z==="x"&&!k.current){const G=()=>_.setVoicing(_.voicing+1);G(),k.current=setInterval(G,1e3);return}if(Z==="z"&&!k.current){const G=()=>_.setVoicing(_.voicing-1);G(),k.current=setInterval(G,1e3);return}if(X.key==="["){_.setOctave(_.octave-1);return}if(X.key==="]"){_.setOctave(_.octave+1);return}if(X.key==="-"){_.setBpm(_.bpm-5),w.setBpm(_.bpm-5),S.isPlaying&&S.startLoop(_.bpm-5);return}if(X.key==="="){_.setBpm(_.bpm+5),w.setBpm(_.bpm+5),S.isPlaying&&S.startLoop(_.bpm+5);return}if(Z==="l"){S.isPlaying?S.stop():S.startLoop(_.bpm);return}if(Z===","){S.cyclePattern(-1);return}if(Z==="."){S.cyclePattern(1);return}if(X.key===" "){X.preventDefault(),w.panic(),S.stop(),F({notes:[],name:""});return}if(X.key==="Escape"){d(!1);return}},se=X=>{const Z=X.key.toLowerCase();if(Aa[Z]!==void 0){g.current.delete(Z),N((_.octave+1)*12+Aa[Z]);return}if(["1","2","3","4"].includes(X.key)){v.current.delete(X.key);const G=["1","2","3","4"].filter(Q=>v.current.has(Q));G.length>0?_.setChordType(parseInt(G[G.length-1])-1):_.setChordType(null);return}const $={5:"6",6:"m7",7:"M7",8:"9"};if($[X.key]){v.current.delete(X.key),_.setExtension($[X.key],!1);return}if(Z==="z"||Z==="x"){k.current&&(clearInterval(k.current),k.current=null);return}};return window.addEventListener("keydown",Y),window.addEventListener("keyup",se),()=>{window.removeEventListener("keydown",Y),window.removeEventListener("keyup",se)}},[_,w,S,T,N]);const re=R.notes.map(Y=>w.midiToNoteName(Y)).join("  ");return x.jsxs(x.Fragment,{children:[x.jsx(Wk,{}),x.jsxs("div",{className:"top-header",children:[x.jsx("a",{href:"https://getauthentic.com",target:"_blank",rel:"noopener noreferrer",children:x.jsx("img",{src:"/Logo.png",alt:"Logo",className:"logo",style:{width:170,height:"auto",opacity:.4}})}),!o&&x.jsx("button",{className:"info-btn",onClick:()=>u(!0),children:"What is this?"})]}),x.jsx(Lk,{visible:o,isReopened:s,onStart:A,onClose:()=>{e(!1),i(!1)}}),x.jsx(qk,{visible:a,onClose:()=>u(!1)}),x.jsx(zk,{visible:h,onClose:()=>d(!1)}),x.jsx(Fk,{chordType:_.chordType,extensions:_.extensions,voicing:_.voicing,bassVoicing:_.bassVoicing,octave:_.octave,bpm:_.bpm,engine:_.engine,performMode:_.performMode,keyMode:_.keyMode,bassMode:_.bassMode,masterVolume:_.masterVolume,effects:p,drumsPlaying:S.isPlaying,drumPattern:S.currentPattern,drumPatterns:S.patterns,midiInputs:j.inputs,midiOutputs:j.outputs,selectedMidiInput:j.selectedInput,selectedMidiOutput:j.selectedOutput,highlightedNotes:R.notes,chordName:R.name,chordNotes:re,onChordTypeChange:_.setChordType,onExtensionToggle:_.toggleExtension,onVoicingChange:_.setVoicing,onBassVoicingChange:B,onEngineChange:W,onPerformModeChange:_.setPerformMode,onKeyModeChange:_.setKeyMode,onBassModeChange:_.setBassMode,onEffectChange:b,onMasterVolumeChange:U,polyMode:_.polyMode,onPolyModeChange:_.setPolyMode,onDrumPatternSelect:D,onDrumsToggle:I,onMidiInputChange:j.selectInput,onMidiOutputChange:j.selectOutput,onNoteOn:T,onNoteOff:N,onShowHelp:q}),x.jsxs("div",{className:"info-bar",children:[x.jsxs("div",{className:"info-item",children:[x.jsx("span",{className:`status-dot ${w.isInitialized?"active":""}`}),"Audio"]}),x.jsxs("div",{className:"info-item",children:[x.jsx("span",{className:`status-dot ${j.inputConnected?"active":""}`}),"MIDI In"]}),x.jsxs("div",{className:"info-item",children:[x.jsx("span",{className:`status-dot ${j.outputConnected?"active":""}`}),"MIDI Out"]}),x.jsxs("div",{className:"info-item",children:[_.bpm," BPM"]}),x.jsxs("div",{className:"info-item",children:["Oct ",_.octave]}),x.jsx("button",{className:"info-item controls-btn",onClick:()=>d(!0),children:"? Controls"})]}),x.jsxs("div",{className:"github-cta",children:[x.jsx("span",{className:"github-cta-text",children:"Want to contribute?"}),x.jsxs("a",{href:"https://github.com/getauthentic/violet-chord-generator",target:"_blank",rel:"noopener noreferrer",className:"github-btn",children:[x.jsx("svg",{height:"16",width:"16",viewBox:"0 0 16 16",fill:"currentColor",children:x.jsx("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"})}),"Violet on GitHub"]})]})]})}Ov.createRoot(document.getElementById("root")).render(x.jsx(ne.StrictMode,{children:x.jsx(Gk,{})}));
